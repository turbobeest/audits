audit:
  id: risk-management.technical-risk.performance-risk
  name: Performance Risk Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: risk-management
  category_number: 29
  subcategory: technical-risk
  tier: phd
  estimated_duration: 3-4 hours  # median: 3h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: organizational
  default_profiles:
  - full
  - security
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines performance risk management:
    - Performance baseline and metrics
    - Capacity planning and forecasting
    - Performance monitoring and alerting
    - Degradation detection and response
    - Performance testing practices
    - SLA compliance for performance
    - Performance bottleneck identification
  why_it_matters: |
    Performance issues directly impact business outcomes:
    - Poor performance degrades user experience
    - Slow systems reduce productivity
    - Performance failures can be outages
    - Capacity exhaustion leads to failures
    - SLA breaches have financial impact
    - ISO 31000 includes operational risk
    - Performance issues often escalate rapidly
  when_to_run:
  - Quarterly performance review
  - After performance incidents
  - Before peak seasons
  - During capacity planning
  - When SLA breaches occur
prerequisites:
  required_artifacts:
  - type: performance_metrics
    description: Performance metric data
  - type: capacity_plans
    description: Capacity planning documentation
  - type: performance_sla
    description: Performance SLA documentation
  access_requirements:
  - Access to monitoring systems
  - Access to performance data
  - Access to capacity plans
discovery:
  code_patterns:
  - pattern: (performance|latency|response.time)
    type: regex
    scope: docs
    purpose: Find performance references
  - pattern: (capacity|throughput|scale)
    type: regex
    scope: docs
    purpose: Find capacity references
  - pattern: (bottleneck|slow|degrade)
    type: regex
    scope: docs
    purpose: Find performance issue references
  file_patterns:
  - glob: '**/performance*.{yaml,yml,json,md}'
    purpose: Performance documentation
  - glob: '**/capacity*.{yaml,yml,json,md}'
    purpose: Capacity documentation
  - glob: '**/sla*.{yaml,yml,json,md}'
    purpose: SLA documentation
knowledge_sources:
  specifications:
  - id: iso-31000
    name: ISO 31000 Risk Management
    url: https://www.iso.org/iso-31000-risk-management.html
    offline_cache: true
    priority: required
  - id: performance-engineering
    name: Performance Engineering Practices
    url: https://www.microsoft.com/en-us/research/
    offline_cache: true
    priority: required
  guides:
  - id: capacity-guide
    name: Capacity Planning Guide
    url: https://cloud.google.com/
    offline_cache: true
tooling:
  static_analysis:
  - tool: performance-analyzer
    purpose: Analyze performance metrics
    offline_capable: true
  scripts:
  - id: perf-scanner
    language: bash
    purpose: Scan for performance documentation
    source: inline
    code: |
      #!/bin/bash
      echo "=== Performance Risk Scan ==="
      grep -rniE "(performance|latency|capacity|throughput)" \
        --include="*.yaml" --include="*.md" . 2>/dev/null | head -30
signals:
  critical:
  - id: PERFRISK-CRIT-001
    signal: No performance monitoring in place
    evidence_indicators:
    - No monitoring
    - Performance unknown
    - Issues undetected
    explanation: |
      Without monitoring, performance issues go undetected
      until users complain or systems fail.
    remediation: |
      - Implement performance monitoring
      - Track key metrics
      - Alert on degradation
      - Enable visibility
  - id: PERFRISK-CRIT-002
    signal: Capacity exhaustion imminent
    evidence_indicators:
    - Resources near limits
    - No capacity buffer
    - Growth not planned
    explanation: |
      Capacity exhaustion leads to failures. Imminent
      exhaustion requires urgent action.
    remediation: |
      - Assess capacity immediately
      - Add resources
      - Implement scaling
      - Plan for growth
  high:
  - id: PERFRISK-HIGH-001
    signal: No capacity planning process
    evidence_indicators:
    - No forecasting
    - Reactive only
    - Surprised by growth
    explanation: |
      Capacity planning enables proactive preparation.
      Without it, capacity issues are always emergencies.
    remediation: |
      - Implement capacity planning
      - Forecast demand
      - Plan for growth
      - Budget appropriately
  - id: PERFRISK-HIGH-002
    signal: Performance SLAs not met
    evidence_indicators:
    - SLA breaches
    - Chronic performance issues
    - User complaints
    explanation: |
      SLA breaches have business impact and indicate
      underlying performance problems.
    remediation: |
      - Identify root causes
      - Address bottlenecks
      - Improve performance
      - Track compliance
  medium:
  - id: PERFRISK-MED-001
    signal: Performance baselines not established
    evidence_indicators:
    - No baseline
    - Normal unknown
    - Cannot detect anomalies
    explanation: |
      Baselines enable anomaly detection and trend analysis.
      Without baselines, degradation is hard to identify.
    remediation: |
      - Establish baselines
      - Document normal performance
      - Enable comparison
      - Track trends
  - id: PERFRISK-MED-002
    signal: Performance testing insufficient
    evidence_indicators:
    - No load testing
    - Capacity untested
    - Performance surprises
    explanation: |
      Testing validates performance before production.
      Without testing, issues are discovered by users.
    remediation: |
      - Implement performance testing
      - Test under load
      - Validate capacity
      - Test before releases
  low:
  - id: PERFRISK-LOW-001
    signal: Performance trends not analyzed
    evidence_indicators:
    - No trend analysis
    - Degradation not detected early
    - Limited insight
    explanation: |
      Trend analysis enables early detection of degradation
      and proactive intervention.
    remediation: |
      - Analyze trends
      - Detect gradual degradation
      - Enable early action
      - Report regularly
  positive:
  - id: PERFRISK-POS-001
    signal: Mature performance management
    evidence_indicators:
    - Comprehensive monitoring
    - Proactive capacity planning
    - SLAs met
  - id: PERFRISK-POS-002
    signal: Strong performance posture
    evidence_indicators:
    - Performance tested
    - Capacity headroom
    - No chronic issues
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Monitoring Review
    description: |
      Evaluate performance monitoring capabilities.
    duration_estimate: 45 min
    commands:
    - purpose: Find monitoring documentation
      command: |
        find . -type f \( -name "*monitor*" -o -name "*metric*" \
          -o -name "*observ*" \) 2>/dev/null | head -20
    - purpose: Search for performance monitoring
      command: |
        grep -rniE "(monitor|alert|metric).*performance\|latency" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    expected_findings:
    - Monitoring configuration
    - Metrics tracked
    - Alerting setup
  - id: '2'
    name: Capacity Review
    description: |
      Assess capacity planning and forecasting.
    duration_estimate: 45 min
    commands:
    - purpose: Find capacity documentation
      command: |
        grep -rniE "(capacity|forecast|growth|scale)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
    - purpose: Check for planning process
      command: |
        grep -rniE "(plan|project|estimate).*capacity" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -15
    expected_findings:
    - Capacity plans
    - Forecasting approach
    - Planning process
  - id: '3'
    name: SLA Review
    description: |
      Evaluate performance SLAs and compliance.
    duration_estimate: 30 min
    commands:
    - purpose: Find SLA documentation
      command: |
        grep -rniE "(SLA|SLO|SLI).*performance\|latency\|response" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - SLA definitions
    - Compliance tracking
    - Breach handling
  - id: '4'
    name: Testing Review
    description: |
      Assess performance testing practices.
    duration_estimate: 30 min
    commands:
    - purpose: Find test documentation
      command: |
        grep -rniE "(load.test|performance.test|stress.test)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -15
    expected_findings:
    - Testing approach
    - Test coverage
    - Test frequency
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Monitoring Assessment
    - Capacity Review
    - SLA Compliance
    - Recommendations
  - type: performance_report
    format: table
    description: Performance risk summary
  confidence_guidance:
    high: Mature performance management with SLA compliance
    medium: Monitoring exists but gaps in capacity or testing
    low: Minimal performance management
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: iso-31000
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive performance review
    full:
      included: true
      priority: 2
    security:
      included: true
      priority: 3
closeout_checklist:
- id: perfrisk-001
  item: Performance monitoring in place
  level: CRITICAL
  verification: manual
  verification_notes: Verify monitoring
  expected: Confirmed by reviewer
- id: perfrisk-002
  item: Capacity planning process exists
  level: CRITICAL
  verification: manual
  verification_notes: Verify capacity planning
  expected: Confirmed by reviewer
- id: perfrisk-003
  item: Performance SLAs defined and met
  level: BLOCKING
  verification: manual
  verification_notes: Verify SLA compliance
  expected: Confirmed by reviewer
- id: perfrisk-004
  item: Performance testing performed
  level: WARNING
  verification: manual
  verification_notes: Verify testing
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: ISO 31000
    controls:
    - Clause 5
  - framework: SOC 2
    controls:
    - A1.1
  - framework: COBIT 2019
    controls:
    - DSS01
    - DSS04
relationships:
  commonly_combined:
  - risk-management.technical-risk.scalability-risk
  - risk-management.technical-risk.integration-risk
  - risk-management.business-continuity.rpo-rto-analysis
