audit:
  id: risk-management.technical-risk.technical-debt-risk
  name: Technical Debt Risk Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: risk-management
  category_number: 29
  subcategory: technical-risk
  tier: phd
  estimated_duration: 4-5 hours  # median: 4h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: organizational
  default_profiles:
  - full
  - security
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines technical debt risk management:
    - Technical debt identification and tracking
    - Code quality metrics and trends
    - Architecture debt assessment
    - Deferred maintenance tracking
    - Debt remediation planning
    - Impact on velocity and quality
    - Technical debt prioritization
  why_it_matters: |
    Technical debt creates compounding risk over time:
    - Debt slows development velocity
    - Quality degrades as debt accumulates
    - Maintenance becomes increasingly difficult
    - Security vulnerabilities hide in debt
    - Changes become riskier with debt
    - ISO 31000 includes operational risk
    - Unmanaged debt can make systems unmaintainable
  when_to_run:
  - Quarterly development review
  - Before major initiatives
  - When velocity declines
  - During quality assessments
  - Before budget planning
prerequisites:
  required_artifacts:
  - type: code_metrics
    description: Code quality metrics
  - type: debt_tracking
    description: Technical debt tracking
  - type: architecture_docs
    description: Architecture documentation
  access_requirements:
  - Access to code repositories
  - Access to quality metrics
  - Access to debt tracking
discovery:
  code_patterns:
  - pattern: (technical.debt|tech.debt|TODO|FIXME|HACK)
    type: regex
    scope: code
    purpose: Find technical debt markers
  - pattern: (refactor|cleanup|rewrite)
    type: regex
    scope: docs
    purpose: Find refactoring references
  - pattern: (architecture.debt|design.debt|legacy)
    type: regex
    scope: docs
    purpose: Find architecture debt references
  file_patterns:
  - glob: '**/technical*debt*.{yaml,yml,json,md}'
    purpose: Technical debt files
  - glob: '**/debt*tracking*.{yaml,yml,json,md}'
    purpose: Debt tracking files
  - glob: '**/refactor*.{yaml,yml,json,md}'
    purpose: Refactoring documentation
knowledge_sources:
  specifications:
  - id: iso-25010
    name: ISO/IEC 25010 Software Quality
    url: https://www.iso.org/standard/35733.html
    offline_cache: true
    priority: required
  - id: sqale
    name: SQALE Quality Model
    url: http://www.sqale.org/
    offline_cache: true
    priority: required
  guides:
  - id: tech-debt-guide
    name: Managing Technical Debt
    url: https://www.thoughtworks.com/
    offline_cache: true
tooling:
  static_analysis:
  - tool: sonarqube
    purpose: Analyze technical debt
    offline_capable: true
  scripts:
  - id: debt-scanner
    language: bash
    purpose: Scan for technical debt markers
    source: inline
    code: |
      #!/bin/bash
      echo "=== Technical Debt Scan ==="
      grep -rniE "(TODO|FIXME|HACK|technical.debt)" \
        --include="*.js" --include="*.py" --include="*.ts" . 2>/dev/null | head -30
signals:
  critical:
  - id: TECHDEBT-CRIT-001
    signal: Technical debt not tracked or managed
    evidence_indicators:
    - No debt inventory
    - Debt unknown
    - No management process
    explanation: |
      Without tracking, technical debt accumulates invisibly
      until it becomes unmanageable.
    remediation: |
      - Implement debt tracking
      - Inventory existing debt
      - Establish management process
      - Include in planning
  - id: TECHDEBT-CRIT-002
    signal: Critical technical debt threatening stability
    evidence_indicators:
    - Severe architecture issues
    - Systems near failure
    - Unmaintainable code
    explanation: |
      Critical technical debt can lead to system failures,
      security breaches, and inability to make changes.
    remediation: |
      - Assess critical debt
      - Prioritize remediation
      - Allocate resources
      - Address urgently
  high:
  - id: TECHDEBT-HIGH-001
    signal: No technical debt remediation plan
    evidence_indicators:
    - Debt acknowledged but not planned
    - No remediation budget
    - Debt growing
    explanation: |
      Without remediation plans, debt continues to grow.
      Proactive planning is essential for management.
    remediation: |
      - Create remediation plan
      - Budget for debt work
      - Include in sprints
      - Track progress
  - id: TECHDEBT-HIGH-002
    signal: Architecture debt preventing changes
    evidence_indicators:
    - Changes blocked by architecture
    - Cannot implement features
    - High risk changes
    explanation: |
      Architecture debt can prevent or significantly complicate
      necessary changes, blocking business value.
    remediation: |
      - Assess architecture debt
      - Plan modernization
      - Enable incremental change
      - Reduce coupling
  medium:
  - id: TECHDEBT-MED-001
    signal: Technical debt not prioritized
    evidence_indicators:
    - All debt equal
    - No impact assessment
    - Random remediation
    explanation: |
      Prioritization ensures highest-impact debt is addressed
      first, maximizing improvement value.
    remediation: |
      - Prioritize debt items
      - Assess impact
      - Focus on high-value items
      - Document rationale
  - id: TECHDEBT-MED-002
    signal: Code quality metrics not tracked
    evidence_indicators:
    - No metrics
    - Quality unknown
    - No trending
    explanation: |
      Metrics enable understanding of quality trends and
      effectiveness of debt management.
    remediation: |
      - Implement quality metrics
      - Track over time
      - Set targets
      - Report trends
  low:
  - id: TECHDEBT-LOW-001
    signal: Technical debt not visible to leadership
    evidence_indicators:
    - Not in executive reporting
    - Limited awareness
    - No strategic view
    explanation: |
      Leadership visibility enables appropriate investment
      and strategic decision-making.
    remediation: |
      - Report to leadership
      - Include in risk reporting
      - Enable strategic decisions
      - Support investment cases
  positive:
  - id: TECHDEBT-POS-001
    signal: Effective technical debt management
    evidence_indicators:
    - Debt tracked
    - Regular remediation
    - Debt declining
  - id: TECHDEBT-POS-002
    signal: High code quality
    evidence_indicators:
    - Good metrics
    - Low debt ratio
    - Regular maintenance
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Debt Inventory
    description: |
      Review technical debt tracking and inventory.
    duration_estimate: 60 min
    commands:
    - purpose: Find debt documentation
      command: |
        find . -type f \( -name "*debt*" -o -name "*refactor*" \) \
          2>/dev/null | head -20
    - purpose: Search for debt markers
      command: |
        grep -rniE "(TODO|FIXME|HACK|tech.debt)" \
          --include="*.js" --include="*.py" --include="*.ts" . 2>/dev/null | wc -l
    expected_findings:
    - Debt tracking
    - Debt markers
    - Inventory
  - id: '2'
    name: Quality Assessment
    description: |
      Assess code quality metrics and trends.
    duration_estimate: 45 min
    commands:
    - purpose: Find quality documentation
      command: |
        find . -type f \( -name "*quality*" -o -name "*metrics*" \) \
          2>/dev/null | head -15
    - purpose: Check for analysis results
      command: |
        grep -rniE "(sonar|quality|complexity|coverage)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - Quality metrics
    - Analysis results
    - Trending data
  - id: '3'
    name: Architecture Review
    description: |
      Evaluate architecture debt.
    duration_estimate: 45 min
    commands:
    - purpose: Find architecture documentation
      command: |
        find . -type f -name "*architecture*" 2>/dev/null | head -15
    - purpose: Check for architecture debt
      command: |
        grep -rniE "(architecture|design).*debt\|issue\|problem" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -15
    expected_findings:
    - Architecture documentation
    - Debt assessment
    - Issues identified
  - id: '4'
    name: Remediation Review
    description: |
      Assess remediation planning and progress.
    duration_estimate: 30 min
    commands:
    - purpose: Find remediation plans
      command: |
        grep -rniE "(remediat|refactor|improve).*plan" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -15
    expected_findings:
    - Remediation plans
    - Progress tracking
    - Resource allocation
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Debt Inventory
    - Quality Assessment
    - Architecture Analysis
    - Recommendations
  - type: debt_report
    format: table
    description: Technical debt summary
  confidence_guidance:
    high: Effective debt management with declining debt
    medium: Debt tracked but growth or gaps in remediation
    low: Significant unmanaged technical debt
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: iso-25010
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive debt review
    full:
      included: true
      priority: 2
    security:
      included: true
      priority: 3
closeout_checklist:
- id: techdebt-001
  item: Technical debt tracked
  level: CRITICAL
  verification: manual
  verification_notes: Verify debt tracking
  expected: Confirmed by reviewer
- id: techdebt-002
  item: Remediation plan exists
  level: CRITICAL
  verification: manual
  verification_notes: Verify remediation planning
  expected: Confirmed by reviewer
- id: techdebt-003
  item: Quality metrics tracked
  level: BLOCKING
  verification: manual
  verification_notes: Verify metrics
  expected: Confirmed by reviewer
- id: techdebt-004
  item: No critical debt blocking operations
  level: BLOCKING
  verification: manual
  verification_notes: Verify critical debt status
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: ISO 25010
    controls:
    - Maintainability
  - framework: COBIT 2019
    controls:
    - BAI03
    - DSS01
relationships:
  commonly_combined:
  - risk-management.technical-risk.technology-obsolescence
  - risk-management.technical-risk.performance-risk
  - risk-management.risk-identification.dependency-risks
