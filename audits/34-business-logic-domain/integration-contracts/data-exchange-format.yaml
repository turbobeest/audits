audit:
  id: business-logic-domain.integration-contracts.data-exchange-format
  name: Data Exchange Format Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: business-logic-domain
  category_number: 34
  subcategory: integration-contracts
  tier: expert
  estimated_duration: 3-5 hours  # median: 4h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: business-logic
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates data exchange formats used in business integrations. This audit
    examines message formats (JSON, XML, CSV), schema definitions, encoding
    handling, null/empty value handling, and date/time formats. It ensures
    data is exchanged correctly and consistently with partners.
  why_it_matters: |
    Data format mismatches cause integration failures, data corruption, and
    processing errors. When partners interpret data differently, it leads to
    reconciliation issues and business disputes. Consistent, well-defined
    data formats are essential for reliable integrations.
  when_to_run:
  - When designing new integrations
  - After data parsing errors
  - When adding new data fields
  - During integration troubleshooting
prerequisites:
  required_artifacts:
  - type: data_schemas
    description: Data exchange schemas
  - type: integration_specs
    description: Integration specifications
  - type: sample_data
    description: Sample exchange data
  access_requirements:
  - Read access to schema definitions
  - Access to integration documentation
  - Access to sample data
discovery:
  file_patterns:
  - glob: '**/*.xsd'
    purpose: Find XML schemas
  - glob: '**/*.json.schema'
    purpose: Find JSON schemas
  - glob: '**/schemas/**/*.{json,yaml}'
    purpose: Find schema definitions
  - glob: '**/*Dto*.{ts,java,cs,py}'
    purpose: Find data transfer objects
  interview_questions:
  - role: Integration Engineer
    questions:
    - What data formats do you exchange with partners?
    - How are schemas defined and shared?
    - What data format issues have occurred?
  - role: Data Analyst
    questions:
    - Are there data quality issues from integrations?
    - How are date/time values handled?
    - What encoding issues have you seen?
knowledge_sources:
  guides:
  - id: json-schema
    name: JSON Schema
    url: https://json-schema.org/
  - id: data-exchange-patterns
    name: Data Exchange Patterns
    url: https://www.enterpriseintegrationpatterns.com/
  standards:
  - id: iso-8601
    name: ISO 8601 Date/Time
    relevance: Date/time format standard
  - id: utf-8
    name: UTF-8 Encoding
    relevance: Character encoding standard
tooling:
  analysis_tools:
  - tool: JSON Schema validators
    purpose: Validate JSON against schemas
  - tool: XML validators
    purpose: Validate XML against XSD
  - tool: Data profiling tools
    purpose: Analyze data quality
signals:
  critical:
  - id: DEF-CRIT-001
    signal: Data corruption during exchange
    evidence_indicators:
    - Character encoding issues
    - Truncated data
    - Lost precision in numbers
    explanation: |
      Data corruption causes business errors that may not be caught
      until downstream processing, causing reconciliation failures
      and incorrect business operations.
    remediation: Specify encoding explicitly; validate data integrity
  - id: DEF-CRIT-002
    signal: No schema validation on received data
    evidence_indicators:
    - Invalid data accepted
    - No schema-based validation
    - Format errors discovered downstream
    explanation: |
      Without schema validation, invalid data enters the system
      and causes failures in later processing stages.
    remediation: Validate all received data against schemas
  high:
  - id: DEF-HIGH-001
    signal: Date/time format inconsistencies
    evidence_indicators:
    - Different date formats across systems
    - Timezone handling inconsistent
    - Date parsing errors
    remediation: Standardize on ISO 8601; specify timezone handling
  - id: DEF-HIGH-002
    signal: Null/empty value handling undefined
    evidence_indicators:
    - Null vs empty string ambiguity
    - Missing fields vs null fields
    - Different interpretations across systems
    remediation: Document null/empty handling; be explicit in schemas
  medium:
  - id: DEF-MED-001
    signal: Schemas not version controlled
    evidence_indicators:
    - No schema versioning
    - Schema changes not tracked
    - Cannot identify which schema version
    remediation: Version all schemas; track changes
  - id: DEF-MED-002
    signal: Field naming conventions inconsistent
    evidence_indicators:
    - camelCase vs snake_case mixed
    - Abbreviations used inconsistently
    - Same concept named differently
    remediation: Establish and enforce naming conventions
  low:
  - id: DEF-LOW-001
    signal: Schema documentation incomplete
    evidence_indicators:
    - Fields without descriptions
    - No examples provided
    remediation: Document all schema fields with descriptions and examples
  positive:
  - id: DEF-POS-001
    signal: Well-documented schemas with examples
  - id: DEF-POS-002
    signal: Schema validation on all data exchange
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Exchange Formats
    description: Document all data exchange formats
    duration_estimate: 30 minutes
  - id: '2'
    name: Review Schema Definitions
    description: Analyze schema completeness and quality
    duration_estimate: 1-2 hours
  - id: '3'
    name: Check Validation
    description: Verify schema validation is implemented
    duration_estimate: 1 hour
  - id: '4'
    name: Analyze Data Samples
    description: Review actual data against schemas
    duration_estimate: 1 hour
  - id: '5'
    name: Document Findings
    description: Compile data format findings
    duration_estimate: 30 minutes
output:
  deliverables:
  - type: finding_list
    format: structured
    description: List of data format issues
  - type: format_inventory
    format: structured
    description: Inventory of data exchange formats
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Format Inventory
    - Schema Analysis
    - Validation Review
    - Recommendations
closeout_checklist:
- id: def-001
  item: Exchange formats documented
  level: REQUIRED
  verification: manual
- id: def-002
  item: Schemas reviewed
  level: REQUIRED
  verification: manual
- id: def-003
  item: Validation verified
  level: WARNING
  verification: automated
governance:
  applicable_to:
    archetypes:
    - b2b-integrations
    - data-exchange-systems
    - edi-systems
  compliance_mappings:
  - framework: Data Standards
    control: Data Exchange
    description: Data format standards compliance
relationships:
  commonly_combined:
  - business-logic-domain.integration-contracts.partner-api-compliance
  - data-management.data-quality
  depends_on:
  - api-design.api-specifications
  feeds_into:
  - data-management.data-integration
