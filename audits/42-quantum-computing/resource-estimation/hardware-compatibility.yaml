# ============================================================
# AUDIT: Hardware Compatibility
# Category: 42 - Quantum Computing
# Subcategory: resource-estimation
# ============================================================

audit:
  id: "quantum-computing.resource-estimation.hardware-compatibility"
  name: "Quantum Hardware Compatibility Audit"
  version: "1.0.0"
  last_updated: "2025-01-22"
  status: "active"

  category: "quantum-computing"
  category_number: 42
  subcategory: "resource-estimation"

  tier: "expert"
  estimated_duration: "3-5 hours"  # median: 4h

  completeness: "requires_discovery"
  requires_runtime: false
  destructive: false

execution:
  automatable: "partial"
  severity: "critical"
  scope: "quantum-systems"

  default_profiles:
    - "full"
    - "quick"

  blocks_phase: true
  parallelizable: true

description:
  what: |
    Evaluates compatibility between quantum algorithms/circuits and target
    hardware platforms. Assesses qubit count, connectivity, native gate set,
    coherence times, and error rates to determine execution feasibility
    and expected performance.

  why_it_matters: |
    Quantum hardware varies significantly in capabilities. An algorithm that
    works on one platform may fail or perform poorly on another. Hardware
    compatibility analysis ensures algorithms can execute successfully on
    target systems.

  when_to_run:
    - "Before selecting target hardware"
    - "When porting to new hardware"
    - "During deployment planning"
    - "When comparing hardware options"

prerequisites:
  required_artifacts:
    - type: "quantum_circuits"
      description: "Circuits to evaluate"
    - type: "hardware_specs"
      description: "Target hardware specifications"

  access_requirements:
    - "Access to circuit code"
    - "Hardware documentation"
    - "Hardware calibration data"

discovery:
  file_patterns:
    - glob: "**/circuits/**/*.py"
      purpose: "Find circuit definitions"
    - glob: "**/config/**/*.json"
      purpose: "Find hardware configuration"

  code_patterns:
    - pattern: "backend|provider|device"
      type: "keyword"
      scope: "source"
      purpose: "Find hardware references"

knowledge_sources:
  specifications:
    - id: "ibm-quantum-systems"
      name: "IBM Quantum Systems"
      url: "https://quantum-computing.ibm.com/services/resources"
      offline_cache: true
      priority: "required"

    - id: "ionq-systems"
      name: "IonQ System Specifications"
      url: "https://ionq.com/technology"
      offline_cache: true

  guides:
    - id: "hardware-selection"
      name: "Quantum Hardware Selection Guide"
      url: "https://qiskit.org/documentation/partners/"
      offline_cache: true

tooling:
  analysis_tools:
    - tool: "qiskit-transpiler"
      purpose: "Hardware mapping analysis"

    - tool: "hardware-benchmarks"
      purpose: "Performance comparison"

signals:
  critical:
    - id: "HWC-CRIT-001"
      signal: "Circuit incompatible with all available hardware"
      evidence_indicators:
        - "Qubit count exceeds all options"
        - "Required gates not supported"
        - "Connectivity prevents execution"
      explanation: |
        Algorithm cannot execute on any available hardware platform.
        Must modify algorithm or wait for suitable hardware.
      remediation: |
        Reduce resource requirements.
        Modify for available gate sets.
        Consider alternative algorithms.

    - id: "HWC-CRIT-002"
      signal: "Hardware connectivity insufficient"
      evidence_indicators:
        - "Required all-to-all connectivity not available"
        - "SWAP overhead exceeds coherence"
      explanation: |
        Limited connectivity requires SWAP operations that add depth
        and errors beyond what the algorithm can tolerate.
      remediation: "Optimize circuit for hardware topology"

  high:
    - id: "HWC-HIGH-001"
      signal: "Gate set requires expensive decomposition"
      evidence_indicators:
        - "Non-native gates with high decomposition cost"
        - "Significant depth increase from decomposition"
      remediation: "Use hardware-native gates or optimize decomposition"

    - id: "HWC-HIGH-002"
      signal: "Coherence times insufficient"
      evidence_threshold: "circuit_time > 0.1 * T1"
      remediation: "Target hardware with longer coherence or reduce depth"

  medium:
    - id: "HWC-MED-001"
      signal: "Error rates higher than algorithm tolerates"
      remediation: "Apply error mitigation or target lower-error hardware"

    - id: "HWC-MED-002"
      signal: "Single hardware option identified"
      remediation: "Evaluate backup hardware options"

  low:
    - id: "HWC-LOW-001"
      signal: "Hardware compatibility not documented"
      remediation: "Document compatible hardware platforms"

  positive:
    - id: "HWC-POS-001"
      signal: "Multiple compatible hardware options"
    - id: "HWC-POS-002"
      signal: "Well-matched to target hardware"
    - id: "HWC-POS-003"
      signal: "Optimized for specific platform"

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Gather Hardware Specs"
      description: "Document target hardware capabilities"
      duration_estimate: "30 min"

    - id: "2"
      name: "Compare Qubit Requirements"
      description: "Match circuit qubits to hardware"
      duration_estimate: "30 min"

    - id: "3"
      name: "Analyze Connectivity"
      description: "Check topology compatibility"
      duration_estimate: "45 min"

    - id: "4"
      name: "Evaluate Gate Set"
      description: "Assess native gate support"
      duration_estimate: "45 min"

    - id: "5"
      name: "Check Coherence Fit"
      description: "Compare timing to coherence"
      duration_estimate: "30 min"

    - id: "6"
      name: "Assess Error Tolerance"
      description: "Match error rates to requirements"
      duration_estimate: "30 min"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "compatibility_matrix"
      format: "json"
      description: "Hardware compatibility assessment"

closeout_checklist:
  - id: "hwc-001"
    item: "Compatible hardware identified"
    level: "CRITICAL"
    verification: "manual"

  - id: "hwc-002"
    item: "Connectivity verified"
    level: "CRITICAL"
    verification: "automated"

  - id: "hwc-003"
    item: "Coherence requirements met"
    level: "BLOCKING"
    verification: "automated"

governance:
  applicable_to:
    archetypes: ["quantum-systems"]

relationships:
  commonly_combined:
    - "quantum-computing.resource-estimation.qubit-requirement"
    - "quantum-computing.quantum-algorithm.gate-decomposition"
  feeds_into:
    - "quantum-computing.simulation-testing.benchmark-comparison"
