audit:
  id: requirements-specification.requirements-documentation.requirements-format
  name: Requirements Format Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: requirements-specification
  category_number: 28
  subcategory: requirements-documentation
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: documentation
  default_profiles:
  - full
  - requirements
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines the standardization and consistency of requirements
    documentation format. It evaluates:
    - Adherence to requirements format standards (IEEE 830, Volere, etc.)
    - Consistency of requirement structure across documents
    - Use of templates and style guides
    - Requirement attribute completeness (ID, rationale, source, etc.)
    - Format suitability for target audience
    - Machine-readability and tool integration
  why_it_matters: |
    Consistent requirements format enables effective communication and management:
    - IEEE 830 provides proven structure for software requirements specifications
    - Inconsistent formats cause confusion and missed requirements
    - Standardized attributes enable traceability and impact analysis
    - Templates reduce effort and improve quality
    - Machine-readable formats enable automation
    - Audience-appropriate formats improve stakeholder engagement

    Organizations with standardized requirements formats report significantly
    better requirements review efficiency and fewer interpretation errors.
  when_to_run:
  - When establishing requirements practices
  - During requirements quality assessments
  - When integrating new requirements tools
  - When onboarding new team members
  - After requirements review complaints
prerequisites:
  required_artifacts:
  - type: requirements_documents
    description: Requirements specifications and documentation
  - type: templates
    description: Requirements templates and style guides
  - type: process_documentation
    description: Requirements documentation standards
  access_requirements:
  - Read access to requirements documentation
  - Access to requirements templates
  - Access to style guides and standards
  - Access to requirements management tools
discovery:
  code_patterns:
  - pattern: (REQ-|FR-|NFR-|US-|STORY-)[0-9]+
    type: regex
    scope: documentation
    purpose: Detect requirement IDs
  - pattern: (requirement|user.?story|acceptance.?criteria)
    type: regex
    scope: documentation
    purpose: Detect requirement documentation
  - pattern: (shall|must|should|will)\s
    type: regex
    scope: documentation
    purpose: Detect requirement language
  file_patterns:
  - glob: '**/requirements/**'
    purpose: Requirements documentation directory
  - glob: '**/*SRS*.{md,docx,yaml}'
    purpose: Software Requirements Specification
  - glob: '**/template*requirement*.{md,yaml}'
    purpose: Requirements templates
  - glob: '**/*.feature'
    purpose: Gherkin feature files
  - glob: '**/user-stories/**'
    purpose: User story documentation
knowledge_sources:
  specifications:
  - id: ieee-830
    name: 'IEEE 830-1998: Software Requirements Specifications'
    url: https://standards.ieee.org/standard/830-1998.html
    offline_cache: true
    priority: required
  - id: ieee-29148
    name: 'ISO/IEC/IEEE 29148: Requirements Engineering'
    url: https://www.iso.org/standard/72089.html
    offline_cache: true
    priority: required
  - id: volere-template
    name: Volere Requirements Specification Template
    url: https://www.volere.org/
    offline_cache: true
    priority: recommended
  guides:
  - id: agile-user-stories
    name: Agile Alliance - User Story Format
    url: https://www.agilealliance.org/glossary/user-story-template/
    offline_cache: true
  - id: gherkin-syntax
    name: Cucumber - Gherkin Reference
    url: https://cucumber.io/docs/gherkin/reference/
    offline_cache: true
tooling:
  static_analysis:
  - tool: requirements-linter
    purpose: Lint requirements for format compliance
    offline_capable: true
  infrastructure_tools:
  - tool: doors
    purpose: IBM DOORS requirements format
  - tool: jira
    purpose: Jira story format analysis
  scripts:
  - id: format-scanner
    language: bash
    purpose: Scan requirements format patterns
    source: inline
    code: |
      #!/bin/bash
      echo "=== Requirements Format Scan ==="
      echo "Looking for requirement IDs..."
      grep -rnoE "(REQ-|FR-|NFR-|US-|STORY-)[0-9]+" \
        --include="*.md" --include="*.yaml" --include="*.feature" . 2>/dev/null | head -30
      echo ""
      echo "Checking for standard structures..."
      grep -rniE "(shall|must|should|will)" \
        --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
signals:
  critical:
  - id: FORMAT-CRIT-001
    signal: No requirements format standard defined
    evidence_indicators:
    - Requirements in varied formats without standard
    - No templates provided for requirements
    - No style guide for requirements documentation
    explanation: |
      Without format standards, requirements are documented inconsistently.
      IEEE 830 and ISO 29148 provide proven formats for requirements.
      Inconsistent formats cause interpretation errors, inefficient reviews,
      and difficulty comparing requirements across documents.
    remediation: |
      - Adopt requirements format standard (IEEE 830, Volere)
      - Create organization-specific templates
      - Document format in style guide
      - Train team on format requirements
      - Enforce format in reviews
  - id: FORMAT-CRIT-002
    signal: Requirements lack unique identifiers
    evidence_indicators:
    - Requirements without IDs
    - Duplicate requirement IDs
    - Inconsistent ID schemes
    explanation: |
      Unique identifiers are essential for traceability, change management,
      and communication. Without IDs, referencing specific requirements
      is ambiguous. IEEE 830 requires unique identification of each requirement.
    remediation: |
      - Define ID scheme (prefix + number)
      - Assign IDs to all requirements
      - Implement ID validation in tools
      - Prevent ID reuse after deletion
      - Document ID scheme
  high:
  - id: FORMAT-HIGH-001
    signal: Required attributes missing from requirements
    evidence_indicators:
    - Requirements without rationale
    - Source/stakeholder not documented
    - Priority attribute missing
    explanation: |
      Complete requirements include multiple attributes beyond the statement:
      ID, description, rationale, source, priority, status, version.
      Missing attributes hamper traceability, prioritization, and
      change management. IEEE 29148 specifies essential attributes.
    remediation: |
      - Define required attributes per requirement type
      - Update templates with all attributes
      - Migrate existing requirements to include attributes
      - Validate attribute completeness in reviews
      - Configure tools to require attributes
  - id: FORMAT-HIGH-002
    signal: Inconsistent requirement language
    evidence_indicators:
    - Mixed use of shall/must/should/will
    - Ambiguous modal verbs
    - No language convention documented
    explanation: |
      RFC 2119 and IEEE 830 define precise meanings for modal verbs:
      shall (mandatory), should (recommended), may (optional).
      Inconsistent usage creates ambiguity about what is truly required
      versus optional.
    remediation: |
      - Adopt RFC 2119 or IEEE 830 language conventions
      - Document modal verb meanings in style guide
      - Review requirements for language consistency
      - Use linting tools to detect inconsistencies
      - Train authors on language conventions
  - id: FORMAT-HIGH-003
    signal: Format not suitable for all audiences
    evidence_indicators:
    - Technical requirements inaccessible to business stakeholders
    - No summary or overview views
    - Single format for all purposes
    explanation: |
      Different audiences need different views of requirements.
      Executives need summaries; developers need details; testers need
      acceptance criteria. Single-format documentation fails some audiences.
    remediation: |
      - Create audience-appropriate views
      - Provide executive summaries
      - Link detailed and summary views
      - Use visual formats where appropriate
      - Test document accessibility with target audiences
  medium:
  - id: FORMAT-MED-001
    signal: Requirements not machine-readable
    evidence_indicators:
    - Requirements only in prose documents
    - No structured data format
    - Cannot export for analysis or tools
    explanation: |
      Machine-readable formats enable automation: traceability analysis,
      metrics generation, tool integration. Prose-only requirements require
      manual processing for any analysis or reporting.
    remediation: |
      - Use structured formats (YAML, JSON, XML)
      - Ensure tool export capabilities
      - Define schema for requirements data
      - Maintain prose and structured versions in sync
      - Automate format conversion where possible
  - id: FORMAT-MED-002
    signal: User stories don't follow standard format
    evidence_indicators:
    - Stories without 'As a... I want... So that...' structure
    - Stories missing acceptance criteria
    - Inconsistent story formats
    explanation: |
      User story format exists for a reason: it forces user-centric
      thinking and value articulation. Stories without standard format
      often miss the user context or value statement.
    remediation: |
      - Enforce user story template
      - Include acceptance criteria in story format
      - Review stories for format compliance
      - Train team on story writing
      - Use story format validation in tools
  - id: FORMAT-MED-003
    signal: Requirements scattered across multiple formats
    evidence_indicators:
    - Requirements in Word, Excel, Jira, and wikis
    - No single source of truth
    - Format translation needed
    explanation: |
      Scattered requirements in multiple formats make it difficult
      to get complete picture. Version control, consistency, and
      completeness suffer when requirements exist in multiple systems.
    remediation: |
      - Designate authoritative source
      - Define synchronization rules
      - Minimize format proliferation
      - Automate cross-format synchronization
      - Document where requirements live
  low:
  - id: FORMAT-LOW-001
    signal: Requirements templates not versioned
    evidence_indicators:
    - Templates in uncontrolled locations
    - Multiple template versions in use
    - Template changes not tracked
    explanation: |
      Unversioned templates drift over time, leading to format
      inconsistencies. Version control for templates enables
      consistent format and controlled evolution.
    remediation: |
      - Store templates in version control
      - Version template changes
      - Communicate template updates
      - Archive old template versions
  positive:
  - id: FORMAT-POS-001
    signal: Consistent requirements format applied
    evidence_indicators:
    - All requirements follow standard template
    - Required attributes present
    - ID scheme consistently applied
  - id: FORMAT-POS-002
    signal: Multiple audience views available
    evidence_indicators:
    - Executive summaries exist
    - Technical detail available
    - Stakeholder-appropriate formats
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Format Standard Assessment
    description: |
      Identify format standards, templates, and style guides
      in use for requirements documentation.
    duration_estimate: 30 min
    commands:
    - purpose: Find requirements templates
      command: |
        find . -type f \( -name "*template*" -o -name "*style*guide*" \) \
          -path "*requirement*" 2>/dev/null | head -20
    - purpose: Search for format references
      command: |
        grep -rniE "(IEEE.?830|29148|Volere|format|template)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    expected_findings:
    - Format standards documentation
    - Requirements templates
    - Style guides
  - id: '2'
    name: Format Consistency Analysis
    description: |
      Assess the consistency of requirements format across
      documentation.
    duration_estimate: 45 min
    commands:
    - purpose: Check requirement ID patterns
      command: |
        grep -rnoE "(REQ-|FR-|NFR-|US-|STORY-|[A-Z]+-)[0-9]+" \
          --include="*.md" --include="*.yaml" --include="*.feature" . 2>/dev/null | \
          sed 's/[0-9]*$//' | cut -d: -f2 | sort | uniq -c | sort -rn | head -20
    - purpose: Check for modal verb usage
      command: |
        grep -rnoE "\\b(shall|must|should|will|may)\\b" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | \
          cut -d: -f3 | sort | uniq -c | sort -rn
    expected_findings:
    - Consistent ID patterns
    - Standard modal verb usage
    - Format compliance level
  - id: '3'
    name: Attribute Completeness Review
    description: |
      Verify that requirements include all required attributes
      as defined by the format standard.
    duration_estimate: 30 min
    commands:
    - purpose: Check for standard attributes
      command: |
        grep -rniE "(rationale|source|priority|status|version):" \
          --include="*.yaml" --include="*.json" . 2>/dev/null | head -40
    - purpose: Find requirements without rationale
      command: |
        grep -rL "rationale" --include="*.yaml" \
          $(find . -path "*requirement*" -name "*.yaml" 2>/dev/null) 2>/dev/null | head -20
    expected_findings:
    - Attribute presence
    - Attribute completeness
    - Missing attributes
  - id: '4'
    name: Audience Suitability Assessment
    description: |
      Assess whether requirements are formatted appropriately
      for different audiences.
    duration_estimate: 30 min
    commands:
    - purpose: Find summary documents
      command: |
        find . -type f \( -name "*summary*" -o -name "*overview*" \
          -o -name "*executive*" \) -path "*requirement*" 2>/dev/null | head -15
    - purpose: Check for visual documentation
      command: |
        find . -type f \( -name "*.png" -o -name "*.svg" -o -name "*.drawio" \) \
          -path "*requirement*" 2>/dev/null | head -15
    expected_findings:
    - Summary views
    - Visual documentation
    - Audience-appropriate formats
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Format Standard Assessment
    - Consistency Analysis
    - Attribute Completeness
    - Recommendations
  confidence_guidance:
    high: Format documentation and samples directly reviewed
    medium: Format patterns observed but incomplete standards
    low: Format status unclear, requires detailed sample review
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: ieee-830
      priority: required
    - source_id: ieee-29148
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Format audit requires documentation review
    full:
      included: true
      priority: 3
    requirements:
      included: true
      priority: 2
closeout_checklist:
- id: format-001
  item: Requirements format standard documented
  level: CRITICAL
  verification: |
    find . -type f \( -name "*template*" -o -name "*style*" \) \
      -path "*requirement*" 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: format-002
  item: All requirements have unique IDs
  level: BLOCKING
  verification: manual
  verification_notes: Verify ID scheme and uniqueness
  expected: Confirmed by reviewer
- id: format-003
  item: Required attributes defined and present
  level: BLOCKING
  verification: |
    grep -rniE "(rationale|source|priority):" \
      --include="*.yaml" . 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: format-004
  item: Language conventions documented
  level: WARNING
  verification: manual
  verification_notes: Verify modal verb conventions exist
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: IEEE 830
    controls:
    - Section 4
    - Section 5
  - framework: ISO 29148
    controls:
    - '6.4'
    - '6.5'
  - framework: CMMI
    controls:
    - RD SP 1.3
relationships:
  commonly_combined:
  - requirements-specification.requirements-documentation.requirements-clarity
  - requirements-specification.requirements-documentation.requirements-completeness
  - requirements-specification.requirements-traceability.traceability-matrix
  - requirements-specification.specification-quality.specification-standards
