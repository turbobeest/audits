audit:
  id: requirements-specification.requirements-documentation.non-functional-requirements
  name: Non-Functional Requirements Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: requirements-specification
  category_number: 28
  subcategory: requirements-documentation
  tier: expert
  estimated_duration: 3-4 hours  # median: 3h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  - requirements
  - architecture
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines the documentation of non-functional requirements (NFRs)
    that specify quality attributes and constraints. It evaluates:
    - Performance requirements (response time, throughput)
    - Reliability requirements (availability, fault tolerance)
    - Security requirements (authentication, authorization)
    - Scalability requirements (load handling, growth)
    - Usability requirements (accessibility, learnability)
    - Maintainability and other quality attributes
  why_it_matters: |
    Non-functional requirements determine system quality and viability:
    - ISO 25010 defines software quality characteristics addressed by NFRs
    - NFRs are architectural drivers affecting fundamental design decisions
    - Missing NFRs lead to systems that work but fail in production
    - Performance issues traced to missing performance requirements are costly
    - Security requirements omission causes vulnerabilities
    - NFRs are often harder to retrofit than functional requirements

    Industry research shows that NFR omissions are a leading cause of
    architectural rework and project failures.
  when_to_run:
  - During requirements phase
  - Before architecture decisions
  - When quality issues arise in production
  - During architecture reviews
  - At project health assessments
prerequisites:
  required_artifacts:
  - type: nfr_documentation
    description: Non-functional requirements documentation
  - type: sla_definitions
    description: Service level agreements
  - type: quality_requirements
    description: Quality attribute specifications
  access_requirements:
  - Read access to requirements documentation
  - Access to SLA documentation
  - Access to architecture documents
  - Access to quality attribute scenarios
discovery:
  code_patterns:
  - pattern: (NFR-|QA-|PERF-|SEC-)[0-9]+
    type: regex
    scope: documentation
    purpose: Detect NFR IDs
  - pattern: (performance|scalability|reliability|security|availability)
    type: regex
    scope: documentation
    purpose: Detect NFR categories
  - pattern: (response.?time|throughput|latency|uptime|SLA)
    type: regex
    scope: documentation
    purpose: Detect measurable NFRs
  file_patterns:
  - glob: '**/nfr*.{md,yaml}'
    purpose: NFR documentation
  - glob: '**/non-functional*.{md,yaml}'
    purpose: Non-functional requirements
  - glob: '**/quality*.{md,yaml}'
    purpose: Quality requirements
  - glob: '**/sla*.{md,yaml}'
    purpose: SLA documentation
  - glob: '**/architecture/**'
    purpose: Architecture documentation with NFRs
knowledge_sources:
  specifications:
  - id: iso-25010
    name: 'ISO/IEC 25010: Systems and Software Quality Models'
    url: https://www.iso.org/standard/35733.html
    offline_cache: true
    priority: required
  - id: ieee-830-nfr
    name: IEEE 830 - Non-functional Requirements
    url: https://standards.ieee.org/standard/830-1998.html
    offline_cache: true
    priority: required
  guides:
  - id: bass-sei-quality
    name: Software Architecture in Practice - Quality Attributes
    url: https://www.sei.cmu.edu/
    offline_cache: true
  - id: volere-nfr
    name: Volere Template - Non-functional Requirements
    url: https://www.volere.org/
    offline_cache: true
tooling:
  static_analysis:
  - tool: nfr-analyzer
    purpose: Analyze NFR coverage and measurability
    offline_capable: true
  infrastructure_tools:
  - tool: doors
    purpose: IBM DOORS NFR management
  - tool: jira
    purpose: Jira NFR tracking
  scripts:
  - id: nfr-scanner
    language: bash
    purpose: Scan for non-functional requirements
    source: inline
    code: |
      #!/bin/bash
      echo "=== Non-Functional Requirements Scan ==="
      echo "Looking for NFR documentation..."
      find . -type f \( -name "*nfr*" -o -name "*non-functional*" \
        -o -name "*quality*" -o -name "*sla*" \) 2>/dev/null | head -20
      echo ""
      echo "Searching for NFR categories..."
      grep -rniE "(performance|scalability|reliability|security|availability|usability)" \
        --include="*.md" --include="*.yaml" . 2>/dev/null | head -50
signals:
  critical:
  - id: NFR-CRIT-001
    signal: Non-functional requirements not documented
    evidence_indicators:
    - No NFR section in requirements
    - Only functional requirements specified
    - Quality attributes not addressed
    explanation: |
      NFRs are as important as functional requirements. Without NFRs,
      architects cannot make informed design decisions. IEEE 830
      requires performance, safety, security, and other quality
      attributes to be specified. Missing NFRs cause production failures.
    remediation: |
      - Create NFR documentation section
      - Identify relevant quality attributes (ISO 25010)
      - Elicit NFRs from stakeholders
      - Include NFRs in requirements reviews
      - Validate NFRs with architects
  - id: NFR-CRIT-002
    signal: Performance requirements missing
    evidence_indicators:
    - No response time requirements
    - No throughput specifications
    - No capacity requirements
    explanation: |
      Performance requirements drive architectural decisions about
      caching, scaling, and optimization. Without them, systems may
      perform adequately in testing but fail under production load.
      Performance issues are expensive to fix post-deployment.
    remediation: |
      - Define response time requirements per operation
      - Specify throughput requirements
      - Document capacity requirements
      - Include performance acceptance criteria
      - Plan performance testing against NFRs
  high:
  - id: NFR-HIGH-001
    signal: Security requirements incomplete
    evidence_indicators:
    - Authentication requirements missing
    - Authorization requirements undefined
    - Data protection requirements absent
    explanation: |
      Security requirements must address authentication, authorization,
      data protection, audit, and compliance. Incomplete security NFRs
      lead to vulnerabilities. Security is difficult to retrofit and
      should be addressed in requirements.
    remediation: |
      - Document authentication requirements
      - Specify authorization rules
      - Define data protection requirements
      - Include audit requirements
      - Address compliance requirements
  - id: NFR-HIGH-002
    signal: NFRs not measurable
    evidence_indicators:
    - NFRs stated in vague terms
    - No quantifiable targets
    - Cannot determine if NFR is met
    explanation: |
      NFRs must be measurable to be useful. "Fast response" is not
      measurable; "95th percentile response time under 200ms" is.
      Unmeasurable NFRs cannot be tested, validated, or enforced.
      IEEE 830 emphasizes verifiable requirements.
    remediation: |
      - Add quantitative targets to NFRs
      - Specify measurement methods
      - Define acceptable ranges
      - Create testable acceptance criteria
      - Document measurement conditions
  - id: NFR-HIGH-003
    signal: Reliability/availability requirements missing
    evidence_indicators:
    - No availability targets (uptime)
    - No recovery time requirements
    - Fault tolerance not specified
    explanation: |
      Reliability requirements determine redundancy, failover, and
      recovery architecture. Without them, systems may lack resilience.
      SLAs typically require explicit availability commitments that
      must trace to requirements.
    remediation: |
      - Define availability targets (e.g., 99.9%)
      - Specify RTO (Recovery Time Objective)
      - Specify RPO (Recovery Point Objective)
      - Document fault tolerance requirements
      - Include disaster recovery requirements
  medium:
  - id: NFR-MED-001
    signal: Scalability requirements not documented
    evidence_indicators:
    - No growth projections
    - Scaling limits undefined
    - Capacity planning not addressed
    explanation: |
      Scalability requirements inform architectural decisions about
      horizontal vs. vertical scaling, data partitioning, and
      technology selection. Without them, systems may not handle growth.
    remediation: |
      - Document expected growth rates
      - Specify scaling dimensions (users, data, transactions)
      - Define scaling limits or targets
      - Include geographic scaling requirements
      - Address seasonal variation
  - id: NFR-MED-002
    signal: Usability requirements missing
    evidence_indicators:
    - No accessibility requirements
    - User experience not specified
    - Learnability requirements absent
    explanation: |
      Usability requirements address user experience, accessibility,
      and learnability. ISO 25010 includes usability as a quality
      characteristic. Missing usability NFRs lead to poor user adoption.
    remediation: |
      - Define accessibility requirements (WCAG level)
      - Specify usability targets
      - Include learnability requirements
      - Document user efficiency expectations
      - Address user satisfaction criteria
  - id: NFR-MED-003
    signal: Maintainability requirements not specified
    evidence_indicators:
    - No code quality requirements
    - Modularity requirements missing
    - Technical debt constraints undefined
    explanation: |
      Maintainability NFRs guide technical practices and standards.
      Without them, code quality is inconsistent and technical debt
      accumulates. ISO 25010 includes maintainability as a key
      quality characteristic.
    remediation: |
      - Define code quality standards
      - Specify modularity requirements
      - Include test coverage requirements
      - Document documentation requirements
      - Address technical debt policies
  low:
  - id: NFR-LOW-001
    signal: NFRs not prioritized
    evidence_indicators:
    - All NFRs treated equally
    - No trade-off guidance
    - Conflicting NFRs unresolved
    explanation: |
      NFRs often conflict (security vs. usability, performance vs.
      maintainability). Without prioritization, architects cannot
      make informed trade-offs.
    remediation: |
      - Prioritize NFRs with stakeholders
      - Document trade-off decisions
      - Identify NFR conflicts
      - Create priority guidance for architects
  positive:
  - id: NFR-POS-001
    signal: Comprehensive NFR documentation
    evidence_indicators:
    - All ISO 25010 categories addressed
    - NFRs measurable and testable
    - SLAs defined and traceable
  - id: NFR-POS-002
    signal: NFRs drive architecture decisions
    evidence_indicators:
    - Architecture traces to NFRs
    - Quality attribute scenarios defined
    - Trade-offs documented
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: NFR Documentation Discovery
    description: |
      Locate non-functional requirements documentation across
      requirements, architecture, and SLA documents.
    duration_estimate: 30 min
    commands:
    - purpose: Find NFR documentation
      command: |
        find . -type f \( -name "*nfr*" -o -name "*non-functional*" \
          -o -name "*quality*" -o -name "*sla*" \) 2>/dev/null | head -30
    - purpose: Search for NFR patterns
      command: |
        grep -rniE "(NFR-|QA-|non.?functional|quality.?attribute)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -50
    expected_findings:
    - NFR documentation
    - SLA definitions
    - Quality requirements
  - id: '2'
    name: NFR Category Coverage
    description: |
      Assess coverage of NFR categories against ISO 25010
      quality model.
    duration_estimate: 45 min
    commands:
    - purpose: Check performance requirements
      command: |
        grep -rniE "(performance|response.?time|throughput|latency)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    - purpose: Check security requirements
      command: |
        grep -rniE "(security|authentication|authorization|encryption)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    - purpose: Check reliability requirements
      command: |
        grep -rniE "(reliability|availability|uptime|recovery|fault.?tolerance)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    expected_findings:
    - Performance NFRs
    - Security NFRs
    - Reliability NFRs
  - id: '3'
    name: NFR Measurability Assessment
    description: |
      Verify that NFRs include quantifiable targets and
      measurement criteria.
    duration_estimate: 30 min
    commands:
    - purpose: Find measurable NFRs
      command: |
        grep -rniE "([0-9]+\s*(ms|sec|%|MB|GB|TPS|requests))" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -40
    - purpose: Check for SLA targets
      command: |
        grep -rniE "(sla|target|threshold|limit|max|min)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    expected_findings:
    - Quantified targets
    - SLA specifications
    - Measurement criteria
  - id: '4'
    name: NFR Completeness Review
    description: |
      Review additional NFR categories including scalability,
      usability, and maintainability.
    duration_estimate: 30 min
    commands:
    - purpose: Check scalability requirements
      command: |
        grep -rniE "(scalability|scaling|capacity|growth)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
    - purpose: Check usability requirements
      command: |
        grep -rniE "(usability|accessibility|WCAG|user.?experience)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - Scalability NFRs
    - Usability NFRs
    - Additional quality attributes
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Category Coverage
    - Measurability Assessment
    - Gap Analysis
    - Recommendations
  - type: nfr_coverage_matrix
    format: table
    description: NFR coverage by ISO 25010 category
  confidence_guidance:
    high: NFR documentation directly reviewed with quantified targets
    medium: NFR references found but incomplete or unmeasurable
    low: NFR status unclear, requires stakeholder interview
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: iso-25010
      priority: required
    - source_id: ieee-830-nfr
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: NFR audit requires thorough review
    full:
      included: true
      priority: 2
    requirements:
      included: true
      priority: 1
    architecture:
      included: true
      priority: 1
closeout_checklist:
- id: nfr-001
  item: NFR documentation exists
  level: CRITICAL
  verification: |
    find . -type f \( -name "*nfr*" -o -name "*non-functional*" \
      -o -name "*quality*" \) 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: nfr-002
  item: Performance requirements specified
  level: BLOCKING
  verification: |
    grep -rniE "(performance|response.?time|throughput)" \
      --include="*.md" --include="*.yaml" . 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: nfr-003
  item: Security requirements documented
  level: BLOCKING
  verification: |
    grep -rniE "(security|authentication|authorization)" \
      --include="*.md" --include="*.yaml" . 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: nfr-004
  item: NFRs are measurable
  level: WARNING
  verification: manual
  verification_notes: Verify NFRs have quantified targets
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: ISO 25010
    controls:
    - All quality characteristics
  - framework: IEEE 830
    controls:
    - Section 3.3
    - Section 3.4
    - Section 3.5
  - framework: CMMI
    controls:
    - RD SP 1.3
relationships:
  commonly_combined:
  - requirements-specification.requirements-documentation.functional-requirements
  - requirements-specification.specification-quality.technical-specification
  - requirements-specification.acceptance-criteria.acceptance-criteria-testability
  - performance-efficiency.performance-measurement.performance-baseline
