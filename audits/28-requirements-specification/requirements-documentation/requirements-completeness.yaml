audit:
  id: requirements-specification.requirements-documentation.requirements-completeness
  name: Requirements Completeness Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: requirements-specification
  category_number: 28
  subcategory: requirements-documentation
  tier: phd
  estimated_duration: 3-5 hours  # median: 4h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: critical
  scope: documentation
  default_profiles:
  - full
  - requirements
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines the completeness of requirements documentation,
    ensuring all necessary information is captured. It evaluates:
    - Coverage of all stakeholder needs
    - Inclusion of all system functions and constraints
    - Documentation of all interfaces
    - Specification of all operating conditions
    - Handling of TBD (to be determined) items
    - Absence of missing information placeholders
  why_it_matters: |
    Completeness is essential for successful development:
    - IEEE 830 lists completeness as a fundamental SRS characteristic
    - Incomplete requirements lead to missing functionality
    - Undiscovered requirements cause scope creep
    - TBD items indicate incomplete analysis
    - Missing interface requirements cause integration failures
    - Incomplete NFRs lead to architecture rework

    Studies consistently show that incomplete requirements are a leading
    cause of project failure, with missing requirements being expensive
    to add late in development.
  when_to_run:
  - Before requirements baseline
  - At major milestone reviews
  - When scope concerns arise
  - During requirements audits
  - Before development phases
prerequisites:
  required_artifacts:
  - type: requirements_documents
    description: Complete requirements documentation
  - type: stakeholder_needs
    description: Documented stakeholder needs
  - type: system_scope
    description: System scope and context documentation
  access_requirements:
  - Read access to all requirements documentation
  - Access to stakeholder needs documentation
  - Access to system scope definition
  - Access to elicitation records
discovery:
  code_patterns:
  - pattern: (TBD|TBA|TODO|FIXME|\?\?\?)
    type: regex
    scope: documentation
    purpose: Detect incomplete items
  - pattern: (to.?be.?determined|to.?be.?defined|placeholder|pending)
    type: regex
    scope: documentation
    purpose: Detect deferred content
  - pattern: (missing|incomplete|not.?defined|unknown)
    type: regex
    scope: documentation
    purpose: Detect acknowledged gaps
  file_patterns:
  - glob: '**/requirements/**'
    purpose: Requirements documentation
  - glob: '**/*SRS*.{md,docx}'
    purpose: Software Requirements Specification
  - glob: '**/gaps*.{md,yaml}'
    purpose: Requirements gaps tracking
  - glob: '**/tbd*.{md,yaml}'
    purpose: TBD tracking documents
  - glob: '**/scope/**'
    purpose: Scope documentation
knowledge_sources:
  specifications:
  - id: ieee-830-complete
    name: IEEE 830 - Completeness Requirement
    url: https://standards.ieee.org/standard/830-1998.html
    offline_cache: true
    priority: required
  - id: iso-29148-complete
    name: ISO/IEC/IEEE 29148 - Completeness
    url: https://www.iso.org/standard/72089.html
    offline_cache: true
    priority: required
  guides:
  - id: wiegers-completeness
    name: Software Requirements - Completeness Techniques
    url: https://www.processimpact.com/
    offline_cache: true
  - id: requirements-checklists
    name: Requirements Completeness Checklists
    url: https://www.modernanalyst.com/
    offline_cache: true
tooling:
  static_analysis:
  - tool: requirements-scanner
    purpose: Scan for completeness indicators
    offline_capable: true
  - tool: tbd-finder
    purpose: Find TBD and placeholder content
    offline_capable: true
  scripts:
  - id: completeness-scanner
    language: bash
    purpose: Scan for completeness issues
    source: inline
    code: |
      #!/bin/bash
      echo "=== Requirements Completeness Scan ==="
      echo "Looking for TBD/incomplete items..."
      grep -rniE "(TBD|TBA|TODO|to.?be.?determined|pending|placeholder)" \
        --include="*.md" --include="*.yaml" --include="*.feature" . 2>/dev/null | head -40
      echo ""
      echo "Looking for acknowledged gaps..."
      grep -rniE "(missing|incomplete|not.?defined|unknown)" \
        --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
signals:
  critical:
  - id: COMPLETE-CRIT-001
    signal: Significant TBD items in requirements
    evidence_indicators:
    - Multiple TBD placeholders in requirements
    - Critical requirements deferred
    - TBD items not tracked for resolution
    explanation: |
      TBD items represent incomplete requirements analysis. IEEE 830
      acknowledges TBDs may be necessary but requires they be tracked
      with owners and resolution dates. TBDs at critical decision points
      prevent architectural decisions and risk scope creep.
    remediation: |
      - Inventory all TBD items
      - Assign owners and resolution dates
      - Prioritize TBD resolution by impact
      - Block dependent activities until resolved
      - Track TBD resolution progress
  - id: COMPLETE-CRIT-002
    signal: Stakeholder needs not fully traced to requirements
    evidence_indicators:
    - Stakeholder needs without corresponding requirements
    - Gaps between needs and specifications
    - Elicited information not reflected in requirements
    explanation: |
      Requirements should trace to and cover all stakeholder needs.
      Gaps between needs and requirements mean either missing requirements
      or scope decisions not documented. This traceability is essential
      for validating completeness.
    remediation: |
      - Create needs-requirements traceability matrix
      - Identify needs without requirements
      - Add requirements for uncovered needs
      - Document scope exclusions explicitly
      - Validate coverage with stakeholders
  high:
  - id: COMPLETE-HIGH-001
    signal: Interface requirements incomplete
    evidence_indicators:
    - External systems mentioned without interface specs
    - User interface requirements missing
    - API contracts undefined
    explanation: |
      Interface requirements are frequently incomplete. IEEE 830
      requires external interface requirements for all system boundaries.
      Missing interface specs cause integration failures and rework.
    remediation: |
      - Identify all system interfaces
      - Document each interface completely
      - Include data formats and protocols
      - Specify error handling at interfaces
      - Validate with interface stakeholders
  - id: COMPLETE-HIGH-002
    signal: Error and exception cases not specified
    evidence_indicators:
    - Only happy path requirements documented
    - No error handling requirements
    - Exception scenarios not covered
    explanation: |
      Complete requirements address both normal and exceptional cases.
      Missing error requirements lead to inconsistent error handling
      and poor user experience when things go wrong. Completeness
      requires considering what can fail.
    remediation: |
      - Review each requirement for error cases
      - Document error handling requirements
      - Specify user-facing error messages
      - Define recovery procedures
      - Include error cases in acceptance criteria
  - id: COMPLETE-HIGH-003
    signal: Operating conditions not fully specified
    evidence_indicators:
    - Load requirements missing
    - Environment constraints undefined
    - Concurrent usage scenarios not covered
    explanation: |
      Requirements should specify operating conditions including
      expected load, environmental constraints, and concurrent usage.
      Missing operational context leads to systems that work in
      test but fail in production conditions.
    remediation: |
      - Define expected load conditions
      - Specify environmental requirements
      - Document concurrent usage scenarios
      - Include peak and sustained load requirements
      - Specify degradation behavior under load
  medium:
  - id: COMPLETE-MED-001
    signal: Requirements coverage gaps for user types
    evidence_indicators:
    - Some user roles without specific requirements
    - Persona needs not fully addressed
    - Administrative or support functions missing
    explanation: |
      Each user type should have requirements addressing their needs.
      Often administrative, support, or secondary user types are
      overlooked, leading to incomplete functionality for these users.
    remediation: |
      - Review requirements per user type/persona
      - Identify gaps per user role
      - Add requirements for underserved users
      - Include administrative requirements
      - Validate with all user type representatives
  - id: COMPLETE-MED-002
    signal: Data requirements incomplete
    evidence_indicators:
    - Data entities without complete attributes
    - Data validation rules missing
    - Data lifecycle not fully specified
    explanation: |
      Data requirements must specify not just what data exists but
      validation rules, lifecycle, and quality requirements. Incomplete
      data requirements lead to data integrity issues.
    remediation: |
      - Complete data entity specifications
      - Add validation rules for all data
      - Specify data lifecycle requirements
      - Include data quality requirements
      - Document data relationships
  - id: COMPLETE-MED-003
    signal: Deployment and operational requirements missing
    evidence_indicators:
    - Installation requirements not specified
    - Deployment constraints undefined
    - Operational procedures not addressed
    explanation: |
      Complete requirements include deployment and operational aspects.
      Missing these requirements causes deployment issues and
      operational gaps that affect production stability.
    remediation: |
      - Add installation requirements
      - Specify deployment constraints
      - Document operational requirements
      - Include monitoring requirements
      - Address backup and recovery requirements
  low:
  - id: COMPLETE-LOW-001
    signal: Glossary terms incomplete
    evidence_indicators:
    - Terms used without definitions
    - Incomplete glossary
    - New terms not added to glossary
    explanation: |
      A complete glossary supports consistent interpretation.
      Missing term definitions create ambiguity and are an
      indicator of incomplete documentation.
    remediation: |
      - Identify undefined terms
      - Add definitions to glossary
      - Establish glossary maintenance process
      - Validate term coverage
  positive:
  - id: COMPLETE-POS-001
    signal: Requirements comprehensively documented
    evidence_indicators:
    - All stakeholder needs traced to requirements
    - All interfaces specified
    - No untracked TBD items
  - id: COMPLETE-POS-002
    signal: Systematic completeness checking applied
    evidence_indicators:
    - Completeness checklists used
    - Traceability maintained
    - Gaps tracked to closure
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: TBD and Placeholder Detection
    description: |
      Scan requirements documentation for TBD items, placeholders,
      and acknowledged incomplete content.
    duration_estimate: 30 min
    commands:
    - purpose: Find TBD items
      command: |
        grep -rniE "(TBD|TBA|TODO|to.?be.?determined|to.?be.?defined)" \
          --include="*.md" --include="*.yaml" --include="*.feature" . 2>/dev/null | head -50
    - purpose: Find placeholders and gaps
      command: |
        grep -rniE "(placeholder|pending|\\?\\?\\?|missing|incomplete)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -40
    expected_findings:
    - TBD items
    - Placeholders
    - Acknowledged gaps
  - id: '2'
    name: Coverage Analysis
    description: |
      Assess coverage of requirements against stakeholder needs,
      interfaces, and system functions.
    duration_estimate: 45 min
    commands:
    - purpose: Count requirements by type
      command: |
        grep -rnoE "(FR-|NFR-|IR-|REQ-)[0-9]+" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | \
          sed 's/[0-9]*$//' | cut -d: -f2 | sort | uniq -c | sort -rn
    - purpose: Find interface requirements
      command: |
        grep -rniE "(interface|API|integration|external.?system)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    expected_findings:
    - Requirements distribution
    - Interface coverage
    - Coverage patterns
  - id: '3'
    name: Error and Exception Coverage
    description: |
      Verify that error handling and exception requirements are
      specified for all applicable functions.
    duration_estimate: 30 min
    commands:
    - purpose: Find error handling requirements
      command: |
        grep -rniE "(error|exception|failure|invalid|reject|timeout)" \
          --include="*.md" --include="*.yaml" --include="*.feature" . 2>/dev/null | head -40
    - purpose: Check for exception flows
      command: |
        grep -rniE "(exception.?flow|error.?case|failure.?scenario)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - Error requirements
    - Exception coverage
    - Failure handling
  - id: '4'
    name: Traceability Completeness
    description: |
      Assess traceability from stakeholder needs to requirements
      to identify coverage gaps.
    duration_estimate: 45 min
    commands:
    - purpose: Find traceability documentation
      command: |
        find . -type f \( -name "*trace*" -o -name "*coverage*" \
          -o -name "*matrix*" \) 2>/dev/null | head -20
    - purpose: Check for source references
      command: |
        grep -rniE "(source:|stakeholder:|derived.?from:)" \
          --include="*.yaml" --include="*.md" . 2>/dev/null | head -30
    expected_findings:
    - Traceability documentation
    - Source references
    - Coverage tracking
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - TBD Analysis
    - Coverage Assessment
    - Completeness Gaps
    - Recommendations
  - type: completeness_checklist
    format: table
    description: Completeness verification checklist results
  confidence_guidance:
    high: Requirements thoroughly reviewed against completeness criteria
    medium: Completeness indicators found but gaps uncertain
    low: Completeness status unclear, requires detailed analysis
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: ieee-830-complete
      priority: required
    - source_id: iso-29148-complete
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Completeness audit requires thorough review
    full:
      included: true
      priority: 1
    requirements:
      included: true
      priority: 1
closeout_checklist:
- id: complete-001
  item: No untracked TBD items
  level: CRITICAL
  verification: |
    tbd=$(grep -rniE "(TBD|TBA|to.?be.?determined)" \
      --include="*.md" --include="*.yaml" . 2>/dev/null | wc -l)
    test $tbd -lt 5 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: complete-002
  item: Stakeholder needs traced to requirements
  level: BLOCKING
  verification: manual
  verification_notes: Verify traceability from needs to requirements
  expected: Confirmed by reviewer
- id: complete-003
  item: Interface requirements complete
  level: BLOCKING
  verification: |
    grep -rniE "(interface|API|integration)" \
      --include="*.md" --include="*.yaml" . 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: complete-004
  item: Error handling specified
  level: WARNING
  verification: |
    grep -rniE "(error|exception|failure)" \
      --include="*.md" --include="*.yaml" . 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: IEEE 830
    controls:
    - Section 4.2
  - framework: ISO 29148
    controls:
    - 5.2.5
  - framework: CMMI
    controls:
    - RD SP 1.3
    - RD SP 2.1
relationships:
  commonly_combined:
  - requirements-specification.requirements-documentation.functional-requirements
  - requirements-specification.requirements-documentation.non-functional-requirements
  - requirements-specification.requirements-traceability.traceability-matrix
  - requirements-specification.acceptance-criteria.edge-case-coverage
