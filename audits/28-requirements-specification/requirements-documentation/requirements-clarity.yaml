audit:
  id: requirements-specification.requirements-documentation.requirements-clarity
  name: Requirements Clarity Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: requirements-specification
  category_number: 28
  subcategory: requirements-documentation
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  - requirements
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines the clarity and unambiguity of requirements
    documentation. It evaluates:
    - Absence of vague or ambiguous terms
    - Single interpretation per requirement
    - Precise language usage
    - Avoidance of subjective terms
    - Consistent terminology
    - Elimination of escape clauses
  why_it_matters: |
    Clarity is fundamental to effective requirements:
    - IEEE 830 lists unambiguity as an essential SRS characteristic
    - Ambiguous requirements lead to different interpretations
    - Multiple interpretations cause implementation disagreements
    - Unclear requirements cannot be properly tested
    - Vague terms mask incomplete understanding
    - Escape clauses ("as appropriate", "etc.") hide scope

    Research indicates that ambiguous requirements are a leading cause of
    defects and project disputes, with clarity issues often discovered late.
  when_to_run:
  - During requirements reviews
  - Before development handoff
  - When interpretation disputes arise
  - At quality assessments
  - When training new requirements authors
prerequisites:
  required_artifacts:
  - type: requirements_documents
    description: Requirements documentation to analyze
  - type: glossary
    description: Term definitions and glossary
  - type: writing_guidelines
    description: Requirements writing standards
  access_requirements:
  - Read access to requirements documentation
  - Access to terminology glossary
  - Access to writing guidelines
  - Access to historical interpretation issues
discovery:
  code_patterns:
  - pattern: (appropriate|adequate|sufficient|reasonable|timely|user.?friendly)
    type: regex
    scope: documentation
    purpose: Detect subjective/vague terms
  - pattern: (etc|and.?so.?on|and.?more|among.?others)
    type: regex
    scope: documentation
    purpose: Detect escape clauses
  - pattern: (normally|typically|usually|generally|often)
    type: regex
    scope: documentation
    purpose: Detect non-committal language
  file_patterns:
  - glob: '**/requirements/**'
    purpose: Requirements documentation
  - glob: '**/*SRS*.{md,docx}'
    purpose: Software Requirements Specification
  - glob: '**/user-stories/**'
    purpose: User story documentation
  - glob: '**/*.feature'
    purpose: BDD feature files
  - glob: '**/specifications/**'
    purpose: Specification documents
knowledge_sources:
  specifications:
  - id: ieee-830-clarity
    name: IEEE 830 - Unambiguity Requirement
    url: https://standards.ieee.org/standard/830-1998.html
    offline_cache: true
    priority: required
  - id: ireb-clarity
    name: IREB CPRE - Requirements Clarity
    url: https://www.ireb.org/
    offline_cache: true
    priority: required
  guides:
  - id: requirements-writing
    name: Writing Good Requirements
    url: https://www.modernanalyst.com/
    offline_cache: true
  - id: ambiguity-handbook
    name: Requirements Ambiguity Analysis
    url: https://www.requirements-engineering.org/
    offline_cache: true
tooling:
  static_analysis:
  - tool: requirements-linter
    purpose: Lint for ambiguous terms
    offline_capable: true
  - tool: text-analyzer
    purpose: Analyze text for clarity issues
    offline_capable: true
  scripts:
  - id: clarity-scanner
    language: bash
    purpose: Scan for clarity issues in requirements
    source: inline
    code: |
      #!/bin/bash
      echo "=== Requirements Clarity Scan ==="
      echo "Looking for vague terms..."
      grep -rniE "(appropriate|adequate|sufficient|reasonable|timely|user.?friendly)" \
        --include="*.md" --include="*.yaml" --include="*.feature" . 2>/dev/null | head -30
      echo ""
      echo "Looking for escape clauses..."
      grep -rniE "(etc|and.?so.?on|among.?others)" \
        --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
      echo ""
      echo "Looking for non-committal language..."
      grep -rniE "(normally|typically|usually|generally|often)" \
        --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
signals:
  critical:
  - id: CLARITY-CRIT-001
    signal: Requirements contain systematic ambiguity
    evidence_indicators:
    - Multiple vague terms per requirement
    - No glossary to define terms
    - Documented interpretation disputes
    explanation: |
      Systematic ambiguity means the requirements cannot reliably
      communicate intent. IEEE 830 requires that each requirement
      have only one interpretation. When ambiguity is pervasive,
      development becomes guesswork and testing impossible.
    remediation: |
      - Conduct ambiguity review of all requirements
      - Create glossary with precise definitions
      - Replace vague terms with specific criteria
      - Establish writing guidelines to prevent future issues
      - Train authors on clarity techniques
  - id: CLARITY-CRIT-002
    signal: Requirements use unmeasurable subjective terms
    evidence_indicators:
    - Performance described as 'fast' or 'responsive'
    - Usability described as 'user-friendly'
    - Quality described as 'high'
    explanation: |
      Subjective terms cannot be verified or tested. "Fast" means
      different things to different people. IEEE 830 requires verifiable
      requirements, which subjective terms prevent. Subjective NFRs
      are particularly problematic for acceptance testing.
    remediation: |
      - Replace subjective terms with quantified criteria
      - Define measurement methods
      - Specify concrete acceptance thresholds
      - Use benchmarks or comparisons for clarity
      - Document units and scales
  high:
  - id: CLARITY-HIGH-001
    signal: Requirements contain escape clauses
    evidence_indicators:
    - Use of 'etc.' or 'and so on'
    - Phrases like 'as appropriate' or 'if necessary'
    - Open-ended lists without explicit scope
    explanation: |
      Escape clauses hide scope and create ambiguity. "etc." means
      the author didn't complete the requirement. "As appropriate"
      transfers decision-making to implementation without criteria.
      IREB identifies escape clauses as a major clarity issue.
    remediation: |
      - Identify all escape clauses
      - Complete partial lists explicitly
      - Define criteria for conditional phrases
      - Replace 'etc.' with complete enumeration
      - Remove or qualify 'as appropriate' phrases
  - id: CLARITY-HIGH-002
    signal: Inconsistent terminology usage
    evidence_indicators:
    - Same concept called different names
    - No glossary or glossary not used
    - Terms used inconsistently across documents
    explanation: |
      Inconsistent terminology creates confusion about whether different
      names refer to the same thing. This is exacerbated when no
      glossary exists. DDD's ubiquitous language addresses this by
      establishing single terms for concepts.
    remediation: |
      - Create terminology glossary
      - Establish canonical terms for concepts
      - Review requirements for term consistency
      - Train team on glossary usage
      - Enforce terminology in reviews
  - id: CLARITY-HIGH-003
    signal: Requirements have multiple interpretations
    evidence_indicators:
    - Team members interpret requirements differently
    - Test cases don't match developer understanding
    - Stakeholders dispute requirement meaning
    explanation: |
      Requirements should have exactly one interpretation. Multiple
      interpretations mean the requirement failed its purpose.
      These issues often surface late when implementations don't
      match expectations.
    remediation: |
      - Review requirements for interpretation ambiguity
      - Clarify with stakeholders when multiple readings possible
      - Add examples to clarify intent
      - Use structured formats to reduce ambiguity
      - Conduct interpretation validation reviews
  medium:
  - id: CLARITY-MED-001
    signal: Non-committal language in requirements
    evidence_indicators:
    - Use of 'normally', 'typically', 'usually'
    - Conditional behavior without defined conditions
    - Uncertain statements about system behavior
    explanation: |
      Non-committal language weakens requirements. "Normally does X"
      leaves unclear when X doesn't happen. Requirements should state
      definite behavior with explicit exception handling, not
      probabilistic tendencies.
    remediation: |
      - Replace 'normally' with explicit default behavior
      - Define conditions for variant behavior
      - State definite requirements
      - Document all exceptions explicitly
      - Remove hedging language
  - id: CLARITY-MED-002
    signal: Complex sentences obscure requirements
    evidence_indicators:
    - Long sentences with multiple clauses
    - Nested conditions difficult to parse
    - Requirements requiring re-reading to understand
    explanation: |
      Complex sentence structure reduces clarity even with precise
      vocabulary. Single requirements should be parseable on first
      reading. Complex logic should be broken into multiple
      simpler requirements.
    remediation: |
      - Split complex requirements into simpler statements
      - Use one requirement per sentence
      - Restructure nested conditions
      - Use tables for complex conditions
      - Limit sentence length
  - id: CLARITY-MED-003
    signal: Pronoun references unclear
    evidence_indicators:
    - Ambiguous 'it' or 'they' references
    - Unclear antecedents
    - Referents change within requirement
    explanation: |
      Pronouns with unclear references create ambiguity about
      what the requirement describes. Each pronoun should have
      an unambiguous referent. When in doubt, repeat the noun.
    remediation: |
      - Review requirements for pronoun clarity
      - Replace ambiguous pronouns with explicit nouns
      - Ensure single referent per pronoun
      - Use subject explicitly in each sentence
  low:
  - id: CLARITY-LOW-001
    signal: Requirements lack examples
    evidence_indicators:
    - Abstract requirements without concrete examples
    - No illustrations of expected behavior
    - Stakeholders request clarification
    explanation: |
      Examples help clarify abstract requirements and validate
      interpretation alignment. While not required, examples
      significantly improve understanding and catch misalignments early.
    remediation: |
      - Add examples to complex requirements
      - Include sample inputs and outputs
      - Use concrete scenarios as illustrations
      - Validate examples with stakeholders
  positive:
  - id: CLARITY-POS-001
    signal: Requirements are clear and unambiguous
    evidence_indicators:
    - Single interpretation per requirement
    - Precise, measurable language used
    - No escape clauses or vague terms
  - id: CLARITY-POS-002
    signal: Consistent terminology maintained
    evidence_indicators:
    - Glossary in active use
    - Terms used consistently
    - Team shares understanding of vocabulary
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Vague Term Detection
    description: |
      Scan requirements for known vague and ambiguous terms
      that indicate clarity issues.
    duration_estimate: 30 min
    commands:
    - purpose: Find subjective terms
      command: |
        grep -rniE "(appropriate|adequate|sufficient|reasonable|timely|user.?friendly|intuitive|easy|simple|fast|quick)" \
          --include="*.md" --include="*.yaml" --include="*.feature" . 2>/dev/null | head -50
    - purpose: Find escape clauses
      command: |
        grep -rniE "(etc\.?|and.?so.?on|among.?others|as.?needed|as.?appropriate|if.?necessary)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    expected_findings:
    - Vague term instances
    - Escape clause instances
    - Clarity issue patterns
  - id: '2'
    name: Terminology Consistency Check
    description: |
      Assess terminology consistency and glossary usage across
      requirements documentation.
    duration_estimate: 30 min
    commands:
    - purpose: Find glossary
      command: |
        find . -type f \( -name "*glossary*" -o -name "*terminology*" \
          -o -name "*dictionary*" \) 2>/dev/null | head -10
    - purpose: Check for term inconsistencies
      command: |
        grep -rnoE "(user|customer|client|account)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | \
          cut -d: -f2 | sort | uniq -c | sort -rn | head -20
    expected_findings:
    - Glossary presence
    - Term usage patterns
    - Potential inconsistencies
  - id: '3'
    name: Language Quality Assessment
    description: |
      Review requirements for language patterns that reduce
      clarity including complex structures and weak language.
    duration_estimate: 30 min
    commands:
    - purpose: Find non-committal language
      command: |
        grep -rniE "(normally|typically|usually|generally|often|sometimes)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    - purpose: Find complex conditional language
      command: |
        grep -rniE "(if.*then.*else|when.*unless|except.?when)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - Non-committal language
    - Complex conditionals
    - Language quality issues
  - id: '4'
    name: Clarity Sample Review
    description: |
      Select sample requirements for detailed clarity review,
      checking for single interpretation.
    duration_estimate: 45 min
    commands:
    - purpose: Sample requirements for review
      command: |
        grep -rniE "(shall|must|should)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | \
          shuf 2>/dev/null | head -20 || \
          grep -rniE "(shall|must|should)" --include="*.md" . 2>/dev/null | head -20
    expected_findings:
    - Sample requirement review
    - Interpretation clarity
    - Specific improvement opportunities
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Vague Term Analysis
    - Terminology Assessment
    - Language Quality
    - Recommendations
  - type: clarity_issues_list
    format: table
    description: List of specific clarity issues with locations
  confidence_guidance:
    high: Requirements directly reviewed for clarity
    medium: Clarity patterns detected but sample limited
    low: Clarity status unclear, requires detailed review
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: ieee-830-clarity
      priority: required
    - source_id: ireb-clarity
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Clarity audit requires detailed review
    full:
      included: true
      priority: 2
    requirements:
      included: true
      priority: 1
closeout_checklist:
- id: clarity-001
  item: No systematic vague term usage
  level: CRITICAL
  verification: |
    vague=$(grep -rniE "(appropriate|adequate|sufficient|user.?friendly)" \
      --include="*.md" --include="*.yaml" . 2>/dev/null | wc -l)
    test $vague -lt 10 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: clarity-002
  item: Glossary exists and is used
  level: BLOCKING
  verification: |
    find . -type f -name "*glossary*" 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: clarity-003
  item: No escape clauses in requirements
  level: WARNING
  verification: |
    escapes=$(grep -rniE "(etc\.|and.?so.?on)" \
      --include="*.md" --include="*.yaml" . 2>/dev/null | wc -l)
    test $escapes -lt 5 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: clarity-004
  item: Requirements have single interpretation
  level: BLOCKING
  verification: manual
  verification_notes: Sample requirements reviewed for interpretation clarity
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: IEEE 830
    controls:
    - Section 4.3
  - framework: ISO 29148
    controls:
    - 5.2.6
  - framework: IREB
    controls:
    - NL1
    - NL2
relationships:
  commonly_combined:
  - requirements-specification.requirements-documentation.requirements-format
  - requirements-specification.requirements-documentation.requirements-completeness
  - requirements-specification.requirements-elicitation.domain-analysis
  - requirements-specification.requirements-validation.requirements-review-process
