audit:
  id: requirements-specification.requirements-traceability.implementation-coverage
  name: Implementation Coverage Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: requirements-specification
  category_number: 28
  subcategory: requirements-traceability
  tier: expert
  estimated_duration: 2-4 hours  # median: 3h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  - requirements
description:
  what: |
    This audit examines the traceability from requirements to implementation,
    verifying all requirements are addressed in the design and code. It evaluates:
    - Requirements linked to design components
    - Requirements linked to code modules/functions
    - Coverage completeness analysis
    - Unimplemented requirements identification
    - Over-implementation detection
  why_it_matters: |
    Implementation coverage traceability verifies delivery:
    - Ensures all requirements are addressed in implementation
    - Identifies missing functionality before testing
    - Detects scope creep through over-implementation
    - Supports impact analysis for requirement changes
    - Enables progress tracking against requirements
prerequisites:
  required_artifacts:
  - type: requirements
    description: Requirements documentation
  - type: design
    description: Design and architecture documentation
  - type: code
    description: Source code with documentation
  access_requirements:
  - Read access to requirements
  - Read access to design documents
  - Read access to source code
discovery:
  code_patterns:
  - pattern: (implements|satisfies|addresses).*REQ-
    type: regex
    scope: source
    purpose: Detect requirement implementation references
  - pattern: '@requirement|@implements|@satisfies'
    type: regex
    scope: source
    purpose: Detect requirement annotations
  file_patterns:
  - glob: '**/trace*impl*.{md,yaml}'
    purpose: Implementation traceability
  - glob: '**/coverage*.{md,yaml}'
    purpose: Coverage documentation
knowledge_sources:
  specifications:
  - id: iso-29148-impl
    name: ISO/IEC/IEEE 29148 - Implementation Traceability
    url: https://www.iso.org/standard/72089.html
    offline_cache: true
    priority: required
signals:
  critical:
  - id: IMPL-CRIT-001
    signal: Requirements not traced to implementation
    evidence_indicators:
    - No implementation links for requirements
    - Design not mapped to requirements
    - Code has no requirement references
    remediation: |
      - Link requirements to design components
      - Add requirement references in code
      - Create implementation coverage matrix
      - Track unimplemented requirements
  - id: IMPL-CRIT-002
    signal: Significant unimplemented requirements
    evidence_indicators:
    - Requirements without implementation links
    - Coverage analysis shows gaps
    remediation: |
      - Identify all unimplemented requirements
      - Prioritize implementation
      - Update traceability as implemented
      - Report coverage progress
  high:
  - id: IMPL-HIGH-001
    signal: Implementation coverage not tracked
    evidence_indicators:
    - No coverage metrics
    - Progress not measured against requirements
    remediation: |
      - Implement coverage tracking
      - Generate coverage reports
      - Review progress regularly
procedure:
  steps:
  - id: '1'
    name: Implementation Link Discovery
    commands:
    - purpose: Find implementation traceability
      command: |
        grep -rniE "(implements|satisfies).*REQ-" \
          --include="*.ts" --include="*.java" --include="*.py" . 2>/dev/null | head -30
  - id: '2'
    name: Coverage Analysis
    commands:
    - purpose: Analyze requirement coverage
      command: |
        echo "Requirements in docs:"
        grep -rnoE "(REQ-|FR-)[0-9]+" --include="*.md" --include="*.yaml" . 2>/dev/null | \
          cut -d: -f2 | sort -u | wc -l
        echo "Requirements in code:"
        grep -rnoE "(REQ-|FR-)[0-9]+" --include="*.ts" --include="*.java" --include="*.py" . 2>/dev/null | \
          cut -d: -f2 | sort -u | wc -l
output:
  deliverables:
  - type: coverage_report
    format: table
    description: Implementation coverage by requirement
closeout_checklist:
- id: impl-001
  item: Requirements traced to implementation
  level: CRITICAL
  verification: manual
  expected: Confirmed
governance:
  applicable_to:
    archetypes:
    - all
relationships:
  commonly_combined:
  - requirements-specification.requirements-traceability.traceability-matrix
  - requirements-specification.requirements-traceability.test-coverage-tracing
