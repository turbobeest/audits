audit:
  id: requirements-specification.requirements-traceability.requirements-versioning
  name: Requirements Versioning Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: requirements-specification
  category_number: 28
  subcategory: requirements-traceability
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: documentation
  default_profiles:
  - full
  - requirements
description:
  what: |
    This audit examines the version control and history tracking of requirements
    documentation. It evaluates:
    - Version numbering scheme
    - Change history maintenance
    - Baseline management
    - Version comparison capability
    - Requirement evolution tracking
  why_it_matters: |
    Requirements versioning enables change management:
    - Track how requirements evolved over time
    - Understand what changed between baselines
    - Support audit and compliance requirements
    - Enable rollback if needed
    - Maintain authoritative versions
    - CMMI REQM requires maintaining requirements history
prerequisites:
  required_artifacts:
  - type: requirements
    description: Requirements documentation
  - type: version_history
    description: Version control records
  access_requirements:
  - Read access to requirements
  - Access to version control system
  - Access to requirements history
discovery:
  code_patterns:
  - pattern: (version|v[0-9]+\.[0-9]+|revision)
    type: regex
    scope: documentation
    purpose: Detect version references
  - pattern: (baseline|release|snapshot)
    type: regex
    scope: documentation
    purpose: Detect baseline references
  file_patterns:
  - glob: '**/requirements/**'
    purpose: Requirements in version control
  - glob: '**/changelog*.{md,yaml}'
    purpose: Change logs
  - glob: '**/version*.{md,yaml}'
    purpose: Version documentation
knowledge_sources:
  specifications:
  - id: cmmi-reqm-version
    name: CMMI REQM - Requirements History
    url: https://cmmiinstitute.com/
    offline_cache: true
    priority: required
signals:
  critical:
  - id: VERS-CRIT-001
    signal: Requirements not version controlled
    evidence_indicators:
    - Requirements in uncontrolled documents
    - No version history available
    - Cannot determine what changed
    remediation: |
      - Move requirements to version control
      - Establish version numbering scheme
      - Track changes with commit messages
      - Maintain change history
  high:
  - id: VERS-HIGH-001
    signal: No baseline management
    evidence_indicators:
    - No formal baselines established
    - Cannot identify what was in previous releases
    - No baseline comparison capability
    remediation: |
      - Establish baseline management process
      - Create baselines at key milestones
      - Tag baselines in version control
      - Document baseline contents
  - id: VERS-HIGH-002
    signal: Version history incomplete
    evidence_indicators:
    - Some changes not tracked
    - Missing commit messages
    - Cannot reconstruct change history
    remediation: |
      - Require meaningful commit messages
      - Track all changes
      - Maintain changelog
      - Review version history quality
procedure:
  steps:
  - id: '1'
    name: Version Control Assessment
    commands:
    - purpose: Check requirements in version control
      command: |
        find . -type d -name "requirements" 2>/dev/null | head -5
        git log --oneline --all -- "**/requirements/**" 2>/dev/null | head -20 || echo "Not in git"
  - id: '2'
    name: Baseline Assessment
    commands:
    - purpose: Find baselines and versions
      command: |
        grep -rniE "(baseline|version|v[0-9]+\\.[0-9]+)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
output:
  deliverables:
  - type: versioning_assessment
    format: prose
closeout_checklist:
- id: vers-001
  item: Requirements in version control
  level: CRITICAL
  verification: manual
  expected: Confirmed
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: CMMI
    controls:
    - REQM SP 1.2
relationships:
  commonly_combined:
  - requirements-specification.requirements-traceability.traceability-matrix
  - requirements-specification.change-control.baseline-management
