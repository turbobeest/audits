# ============================================================
# AUDIT: Change Communication
# Category: 28 - Requirements & Specification
# Subcategory: change-control
# ============================================================

audit:
  id: "requirements-specification.change-control.change-communication"
  name: "Change Communication Audit"
  version: "1.0.0"
  last_updated: "2025-01-22"
  status: "active"

  category: "requirements-specification"
  category_number: 28
  subcategory: "change-control"

  tier: "focused"
  estimated_duration: "1-2 hours"  # median: 1h

  completeness: "requires_discovery"
  requires_runtime: false
  destructive: false

execution:
  automatable: "partial"
  severity: "medium"
  scope: "documentation"
  default_profiles:
    - "full"
    - "requirements"

description:
  what: |
    This audit examines how requirements changes are communicated to
    stakeholders. It evaluates:
    - Communication process for changes
    - Stakeholder notification
    - Change impact communication
    - Communication timeliness
    - Communication channels
    - Feedback collection

  why_it_matters: |
    Change communication ensures alignment:
    - Stakeholders need to know about changes
    - Teams need to adjust plans
    - Impacts need to be understood
    - Poor communication causes surprises
    - Timely communication enables response
    - Two-way communication surfaces issues

prerequisites:
  required_artifacts:
    - type: "communication_process"
      description: "Change communication process"
    - type: "communication_records"
      description: "Communication records"

  access_requirements:
    - "Read access to communication process"
    - "Access to communication records"

discovery:
  code_patterns:
    - pattern: "(communicate|notify|inform|announce)"
      type: "regex"
      scope: "documentation"
      purpose: "Detect communication references"

  file_patterns:
    - glob: "**/communication*.{md,yaml}"
      purpose: "Communication documentation"
    - glob: "**/change*log*.{md,yaml}"
      purpose: "Change logs"

signals:
  high:
    - id: "COMM-HIGH-001"
      signal: "Changes not communicated to stakeholders"
      evidence_indicators:
        - "Stakeholders unaware of changes"
        - "No notification process"
        - "Surprises at review meetings"
      remediation: |
        - Define communication process
        - Identify stakeholders to notify
        - Establish notification triggers
        - Track notifications sent

    - id: "COMM-HIGH-002"
      signal: "Impact not communicated with changes"
      evidence_indicators:
        - "Change announced without impact"
        - "Stakeholders don't understand consequences"
        - "Impact discovered later"
      remediation: |
        - Include impact in communications
        - Explain consequences
        - Allow time for questions
        - Collect feedback

procedure:
  steps:
    - id: "1"
      name: "Communication Process Check"
      commands:
        - purpose: "Find communication documentation"
          command: |
            find . -type f \( -name "*communication*" -o -name "*change*log*" \
              -o -name "*notification*" \) \( -name "*.md" -o -name "*.yaml" \) 2>/dev/null | head -15

    - id: "2"
      name: "Communication Evidence Check"
      commands:
        - purpose: "Check for communication references"
          command: |
            grep -rniE "(communicate|notify|inform|stakeholder)" \
              --include="*.md" --include="*.yaml" . 2>/dev/null | head -25

output:
  deliverables:
    - type: "communication_assessment"
      format: "prose"

closeout_checklist:
  - id: "comm-001"
    item: "Change communication process exists"
    level: "WARNING"
    verification: "manual"
    expected: "Confirmed"

governance:
  applicable_to:
    archetypes: ["all"]

relationships:
  commonly_combined:
    - "requirements-specification.change-control.change-request-process"
    - "requirements-specification.stakeholder-management.communication-plan"
