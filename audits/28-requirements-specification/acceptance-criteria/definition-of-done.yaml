audit:
  id: requirements-specification.acceptance-criteria.definition-of-done
  name: Definition of Done Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: requirements-specification
  category_number: 28
  subcategory: acceptance-criteria
  tier: expert
  estimated_duration: 1-2 hours  # median: 1h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: documentation
  default_profiles:
  - full
  - agile
description:
  what: |
    This audit examines the Definition of Done (DoD) used by teams to
    determine when work items are complete. It evaluates:
    - DoD existence and documentation
    - DoD comprehensiveness
    - Quality criteria inclusion
    - Team adherence to DoD
    - DoD evolution and improvement
  why_it_matters: |
    Definition of Done ensures consistent quality:
    - Scrum Guide requires clear DoD
    - Prevents incomplete work from being marked done
    - Ensures quality standards are met
    - Reduces technical debt accumulation
    - Provides shared completion criteria
    - Enables accurate velocity measurement
prerequisites:
  required_artifacts:
  - type: dod_documentation
    description: Definition of Done document
  - type: team_agreements
    description: Team working agreements
  access_requirements:
  - Read access to team documentation
  - Access to process documentation
discovery:
  code_patterns:
  - pattern: (definition of done|DoD|done criteria)
    type: regex
    scope: documentation
    purpose: Detect DoD documentation
  file_patterns:
  - glob: '**/dod*.{md,yaml}'
    purpose: DoD documentation
  - glob: '**/definition*of*done*.{md,yaml}'
    purpose: DoD files
  - glob: '**/team*agreements*.{md,yaml}'
    purpose: Team agreements
  - glob: '**/working*agreements*.{md,yaml}'
    purpose: Working agreements
knowledge_sources:
  specifications:
  - id: scrum-guide-dod
    name: Scrum Guide - Definition of Done
    url: https://scrumguides.org/
    offline_cache: true
    priority: required
signals:
  critical:
  - id: DOD-CRIT-001
    signal: No Definition of Done exists
    evidence_indicators:
    - No DoD documentation
    - Completion criteria undefined
    - Team has no shared definition
    remediation: |
      - Create Definition of Done
      - Include quality criteria
      - Get team agreement
      - Document and share
      - Review regularly
  high:
  - id: DOD-HIGH-001
    signal: DoD does not include quality criteria
    evidence_indicators:
    - Testing not in DoD
    - Code review not required
    - Documentation not included
    remediation: |
      - Add testing requirements
      - Include code review
      - Add documentation requirements
      - Include deployment criteria
      - Add accessibility checks
  - id: DOD-HIGH-002
    signal: DoD not followed consistently
    evidence_indicators:
    - Items marked done without meeting DoD
    - DoD bypassed regularly
    - Inconsistent application
    remediation: |
      - Reinforce DoD importance
      - Include in sprint review
      - Track DoD compliance
      - Address systemic issues
procedure:
  steps:
  - id: '1'
    name: DoD Discovery
    commands:
    - purpose: Find DoD documentation
      command: |
        find . -type f \( -name "*dod*" -o -name "*definition*done*" \
          -o -name "*done*criteria*" \) 2>/dev/null | head -10
  - id: '2'
    name: DoD Content Analysis
    commands:
    - purpose: Check DoD contents
      command: |
        grep -rniE "(definition of done|DoD|done when|complete when)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
output:
  deliverables:
  - type: dod_assessment
    format: prose
closeout_checklist:
- id: dod-001
  item: Definition of Done exists
  level: CRITICAL
  verification: |
    find . -type f \( -name "*dod*" -o -name "*definition*done*" \) 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
governance:
  applicable_to:
    archetypes:
    - agile
    - scrum
  compliance_frameworks:
  - framework: Scrum Guide
    controls:
    - Definition of Done
relationships:
  commonly_combined:
  - requirements-specification.acceptance-criteria.acceptance-criteria-definition
  - requirements-specification.requirements-validation.user-acceptance-testing
