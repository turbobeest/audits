audit:
  id: requirements-specification.requirements-elicitation.requirements-prioritization
  name: Requirements Prioritization Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: requirements-specification
  category_number: 28
  subcategory: requirements-elicitation
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  - requirements
  - agile
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines the methods and rigor applied to requirements
    prioritization. It evaluates:
    - Prioritization framework usage (MoSCoW, WSJF, Kano, etc.)
    - Stakeholder involvement in prioritization decisions
    - Value and effort estimation approaches
    - Priority assignment consistency
    - Priority revision processes
    - Documentation of prioritization rationale
  why_it_matters: |
    Prioritization determines what gets built and when:
    - Limited resources require trade-offs between requirements
    - MoSCoW method (Must, Should, Could, Won't) enables scope management
    - WSJF (Weighted Shortest Job First) from SAFe optimizes value delivery
    - Kano model distinguishes must-have from delighter features
    - Poor prioritization leads to low-value features consuming resources
    - Stakeholder alignment on priorities prevents conflicts later

    Research shows that projects with explicit prioritization frameworks
    deliver more value per iteration and have fewer scope disputes.
  when_to_run:
  - Before release planning
  - When scope conflicts arise
  - During backlog grooming
  - When stakeholders disagree on priorities
  - At project health assessments
prerequisites:
  required_artifacts:
  - type: requirements_backlog
    description: Prioritized requirements or product backlog
  - type: prioritization_framework
    description: Documentation of prioritization approach
  - type: stakeholder_input
    description: Records of stakeholder priority input
  access_requirements:
  - Read access to requirements/backlog
  - Access to prioritization documentation
  - Access to stakeholder priority input records
  - Access to release planning documents
discovery:
  code_patterns:
  - pattern: (priority|MoSCoW|must.?have|should.?have|could.?have|won't)
    type: regex
    scope: documentation
    purpose: Detect MoSCoW prioritization
  - pattern: (WSJF|weighted|cost.?of.?delay|job.?size)
    type: regex
    scope: documentation
    purpose: Detect WSJF prioritization
  - pattern: (Kano|delighter|satisfier|dissatisfier|basic|performance)
    type: regex
    scope: documentation
    purpose: Detect Kano model usage
  file_patterns:
  - glob: '**/priority*.{md,yaml,json}'
    purpose: Priority documentation
  - glob: '**/backlog*.{yaml,json,csv}'
    purpose: Backlog files with priorities
  - glob: '**/MoSCoW*.{md,yaml}'
    purpose: MoSCoW analysis files
  - glob: '**/roadmap*.{md,yaml}'
    purpose: Roadmap documentation
  - glob: '**/release-plan*.{md,yaml}'
    purpose: Release planning files
knowledge_sources:
  specifications:
  - id: moscow-method
    name: MoSCoW Prioritization Method
    url: https://www.agilebusiness.org/dsdm-project-framework/moscow-prioritisation.html
    offline_cache: true
    priority: required
  - id: safe-wsjf
    name: SAFe - Weighted Shortest Job First
    url: https://scaledagileframework.com/wsjf/
    offline_cache: true
    priority: required
  - id: kano-model
    name: Kano Model for Product Development
    url: https://www.kano.org/
    offline_cache: true
    priority: recommended
  guides:
  - id: babok-prioritization
    name: BABOK Guide - Prioritization
    url: https://www.iiba.org/babok-guide/
    offline_cache: true
  - id: scrum-backlog
    name: Scrum Guide - Product Backlog Ordering
    url: https://scrumguides.org/
    offline_cache: true
tooling:
  static_analysis:
  - tool: backlog-analyzer
    purpose: Analyze priority distribution and consistency
    offline_capable: true
  infrastructure_tools:
  - tool: jira
    purpose: Analyze issue priorities
    command: jira search --jql 'project = PROJECT' --fields priority,labels
  - tool: aha
    purpose: Access feature prioritization
  scripts:
  - id: priority-scanner
    language: bash
    purpose: Scan for priority documentation
    source: inline
    code: |
      #!/bin/bash
      echo "=== Requirements Prioritization Scan ==="
      echo "Looking for prioritization documentation..."
      grep -rniE "(priority|MoSCoW|WSJF|must.?have|should.?have)" \
        --include="*.md" --include="*.yaml" --include="*.json" . 2>/dev/null | head -50
      echo ""
      echo "Checking for prioritization frameworks..."
      find . -type f \( -name "*priority*" -o -name "*MoSCoW*" \
        -o -name "*WSJF*" -o -name "*Kano*" \) 2>/dev/null | head -20
signals:
  critical:
  - id: PRIOR-CRIT-001
    signal: No prioritization framework applied
    evidence_indicators:
    - Requirements without priority assignments
    - No prioritization methodology documented
    - Priorities assigned ad-hoc without criteria
    explanation: |
      Without a prioritization framework, requirement ordering is arbitrary
      or based on the loudest stakeholder. MoSCoW, WSJF, or other frameworks
      provide consistent criteria for making trade-offs. BABOK emphasizes
      that prioritization is a core business analysis technique requiring
      systematic approach.
    remediation: |
      - Select appropriate prioritization framework (MoSCoW, WSJF, Kano)
      - Document prioritization criteria
      - Apply framework to all requirements
      - Involve stakeholders in framework selection
      - Train team on prioritization method
  - id: PRIOR-CRIT-002
    signal: Business value not considered in prioritization
    evidence_indicators:
    - Priorities based solely on technical factors
    - No value estimation for requirements
    - Cost of delay not considered
    explanation: |
      Prioritization without value consideration optimizes for wrong outcomes.
      WSJF explicitly includes cost of delay to ensure high-value items are
      prioritized. Features must be ordered by business impact, not just
      technical convenience or stakeholder influence.
    remediation: |
      - Add business value assessment to prioritization
      - Estimate cost of delay for major features
      - Include ROI considerations in priority decisions
      - Have business stakeholders validate value assessments
      - Use value as primary prioritization input
  high:
  - id: PRIOR-HIGH-001
    signal: Stakeholders excluded from prioritization
    evidence_indicators:
    - Technical team sets all priorities
    - No stakeholder input on priority decisions
    - Priority disputes unresolved
    explanation: |
      Prioritization is fundamentally a business decision requiring
      stakeholder input. When technical teams prioritize alone, business
      value is often misjudged. BABOK emphasizes stakeholder collaboration
      in prioritization to ensure alignment.
    remediation: |
      - Include key stakeholders in prioritization sessions
      - Use voting or consensus techniques
      - Document stakeholder priority input
      - Escalate unresolved conflicts appropriately
      - Ensure business ownership of priority decisions
  - id: PRIOR-HIGH-002
    signal: All requirements marked same priority
    evidence_indicators:
    - Everything is 'Must Have' or 'Critical'
    - No differentiation between requirements
    - MoSCoW categories not used as intended
    explanation: |
      If everything is highest priority, nothing is prioritized. MoSCoW
      guidelines recommend approximately 60% Must Have, 20% Should Have,
      20% Could Have. When stakeholders mark everything as Must Have,
      prioritization provides no guidance for trade-offs.
    remediation: |
      - Enforce MoSCoW ratio guidelines
      - Use pairwise comparison to force differentiation
      - Challenge 'Must Have' designations with criteria
      - Facilitate honest priority discussions
      - Apply budget or capacity constraints to force choices
  - id: PRIOR-HIGH-003
    signal: Priority rationale not documented
    evidence_indicators:
    - Priorities assigned without explanation
    - Cannot reconstruct prioritization decisions
    - No trace from priority to criteria
    explanation: |
      Without documented rationale, priorities appear arbitrary and
      cannot be effectively challenged or defended. When priorities
      are questioned, the basis for decisions should be clear.
      Documentation also supports learning and improvement.
    remediation: |
      - Document rationale for priority assignments
      - Link priorities to evaluation criteria
      - Record stakeholder input supporting priorities
      - Maintain priority decision audit trail
      - Review rationale when priorities are questioned
  medium:
  - id: PRIOR-MED-001
    signal: Priorities not revisited as context changes
    evidence_indicators:
    - Original priorities unchanged despite project changes
    - Market or business changes not reflected in priorities
    - No periodic priority review
    explanation: |
      Priorities should evolve with changing context. Market conditions,
      competitor actions, or new information may shift what's most valuable.
      Static priorities become increasingly misaligned with current needs.
    remediation: |
      - Schedule periodic priority reviews
      - Review priorities when context changes significantly
      - Update priorities based on new information
      - Communicate priority changes to stakeholders
      - Document reason for priority changes
  - id: PRIOR-MED-002
    signal: Effort/size not factored in prioritization
    evidence_indicators:
    - Value considered but not effort
    - Large features prioritized without decomposition
    - WSJF job size component ignored
    explanation: |
      Value alone doesn't determine optimal priority. WSJF includes
      job size because smaller high-value items should be prioritized
      over larger ones of similar value. Ignoring effort leads to
      suboptimal delivery sequencing.
    remediation: |
      - Add effort/size estimation to prioritization
      - Calculate value-to-effort ratio
      - Use WSJF formula including job size
      - Decompose large features for better prioritization
      - Consider time-based opportunity cost
  - id: PRIOR-MED-003
    signal: Dependencies not considered in prioritization
    evidence_indicators:
    - High-priority items blocked by low-priority dependencies
    - Dependency ordering not reflected in execution
    - No dependency analysis in prioritization
    explanation: |
      Prioritization must consider dependencies. A high-priority feature
      that depends on a low-priority one creates execution conflicts.
      Dependency analysis ensures priorities are achievable.
    remediation: |
      - Identify dependencies between requirements
      - Adjust priorities to respect dependencies
      - Elevate blocking dependencies appropriately
      - Visualize dependency relationships
      - Consider dependency chains in sequencing
  low:
  - id: PRIOR-LOW-001
    signal: Priority notation inconsistent
    evidence_indicators:
    - Different priority scales used across documentation
    - Numeric and categorical priorities mixed
    - Priority meaning varies by document
    explanation: |
      Consistent priority notation enables comparison and analysis.
      When different scales or terms are used, priority comparison
      across requirements becomes difficult.
    remediation: |
      - Standardize priority notation
      - Define priority scale and meaning
      - Convert legacy priorities to standard scale
      - Enforce notation in requirements tools
  positive:
  - id: PRIOR-POS-001
    signal: Systematic prioritization framework applied
    evidence_indicators:
    - Consistent prioritization method used
    - All requirements have assigned priorities
    - Priority rationale documented
  - id: PRIOR-POS-002
    signal: Value-driven prioritization practiced
    evidence_indicators:
    - Business value assessed for requirements
    - Cost of delay considered
    - Stakeholders involved in value assessment
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Prioritization Framework Assessment
    description: |
      Identify and assess the prioritization framework(s) in use
      across requirements documentation.
    duration_estimate: 30 min
    commands:
    - purpose: Find prioritization documentation
      command: |
        find . -type f \( -name "*priority*" -o -name "*MoSCoW*" \
          -o -name "*WSJF*" \) 2>/dev/null | head -20
    - purpose: Search for prioritization patterns
      command: |
        grep -rniE "(priority|MoSCoW|WSJF|must.?have|should.?have|could.?have)" \
          --include="*.md" --include="*.yaml" --include="*.json" . 2>/dev/null | head -50
    expected_findings:
    - Prioritization framework documentation
    - Priority assignments on requirements
    - Framework criteria
  - id: '2'
    name: Priority Distribution Analysis
    description: |
      Analyze the distribution of priorities to identify
      potential prioritization issues.
    duration_estimate: 30 min
    commands:
    - purpose: Check priority distribution
      command: |
        grep -rnoE "(priority:\s*|Priority:\s*)(critical|high|medium|low|must|should|could|won't)" \
          --include="*.yaml" --include="*.json" . 2>/dev/null | \
          cut -d: -f3 | sort | uniq -c | sort -rn
    - purpose: Find unprioritized requirements
      command: |
        grep -rL "(priority|Priority)" --include="*.yaml" \
          $(find . -type f -name "*.yaml" -path "*requirement*" 2>/dev/null) 2>/dev/null | head -20
    expected_findings:
    - Balanced priority distribution
    - Requirements with priorities
    - Any unprioritized items
  - id: '3'
    name: Stakeholder Involvement Review
    description: |
      Assess stakeholder involvement in prioritization decisions
      and documentation of their input.
    duration_estimate: 30 min
    commands:
    - purpose: Search for stakeholder priority input
      command: |
        grep -rniE "(stakeholder.*priority|priority.*stakeholder|business.?value|customer.?value)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    - purpose: Check for priority rationale
      command: |
        grep -rniE "(rationale|reason|because|justification)" \
          --include="*priority*" . 2>/dev/null | head -20
    expected_findings:
    - Stakeholder involvement evidence
    - Priority rationale documentation
    - Value assessment records
  - id: '4'
    name: Priority Maintenance Review
    description: |
      Assess whether priorities are maintained and updated
      as project context evolves.
    duration_estimate: 30 min
    commands:
    - purpose: Check for priority updates
      command: |
        find . -type f \( -name "*priority*" -o -name "*backlog*" \) \
          -mtime -30 2>/dev/null | head -20
    - purpose: Search for priority review references
      command: |
        grep -rniE "(priority review|reprioritiz|priority change)" \
          --include="*.md" . 2>/dev/null | head -20
    expected_findings:
    - Recent priority updates
    - Priority review evidence
    - Change documentation
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Framework Assessment
    - Distribution Analysis
    - Stakeholder Involvement
    - Recommendations
  - type: priority_analysis
    format: table
    description: Priority distribution and coverage analysis
  confidence_guidance:
    high: Prioritization documentation directly reviewed
    medium: Priority indicators found but incomplete framework
    low: Prioritization status unclear, requires team interview
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: moscow-method
      priority: required
    - source_id: safe-wsjf
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Prioritization audit requires framework review
    full:
      included: true
      priority: 2
    requirements:
      included: true
      priority: 1
    agile:
      included: true
      priority: 1
closeout_checklist:
- id: prior-001
  item: Prioritization framework documented
  level: CRITICAL
  verification: |
    grep -rniE "(MoSCoW|WSJF|priority.*framework|prioritization.*method)" \
      --include="*.md" . 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: prior-002
  item: All requirements have priorities
  level: BLOCKING
  verification: manual
  verification_notes: Verify no requirements without priority assignment
  expected: Confirmed by reviewer
- id: prior-003
  item: Business value considered in prioritization
  level: BLOCKING
  verification: |
    grep -rniE "(business.?value|customer.?value|cost.?of.?delay)" \
      --include="*.md" --include="*.yaml" . 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: prior-004
  item: Stakeholder involvement in prioritization
  level: WARNING
  verification: manual
  verification_notes: Confirm stakeholders participated in prioritization
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: BABOK
    controls:
    - '6.1'
  - framework: SAFe
    controls:
    - WSJF
  - framework: DSDM
    controls:
    - MoSCoW
  - framework: Scrum
    controls:
    - Product Backlog Ordering
relationships:
  commonly_combined:
  - requirements-specification.requirements-elicitation.user-story-mapping
  - requirements-specification.requirements-elicitation.stakeholder-identification
  - requirements-specification.change-control.scope-creep-control
  - requirements-specification.stakeholder-management.stakeholder-engagement
