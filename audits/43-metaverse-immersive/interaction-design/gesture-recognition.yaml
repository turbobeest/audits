# ============================================================
# AUDIT: Gesture Recognition
# Category: 43 - Metaverse & Immersive
# Subcategory: interaction-design
# ============================================================

audit:
  id: "metaverse-immersive.interaction-design.gesture-recognition"
  name: "Gesture Recognition Audit"
  version: "1.0.0"
  last_updated: "2025-01-22"
  status: "active"

  category: "metaverse-immersive"
  category_number: 43
  subcategory: "interaction-design"

  tier: "expert"
  estimated_duration: "3-4 hours"  # median: 3h

  completeness: "requires_discovery"
  requires_runtime: true
  destructive: false

execution:
  automatable: "partial"
  severity: "high"
  scope: "xr-systems"

  default_profiles:
    - "full"
    - "quick"

  blocks_phase: false
  parallelizable: true

description:
  what: |
    Evaluates gesture recognition systems for XR interaction including
    recognition accuracy, false positive/negative rates, gesture disambiguation,
    and cultural appropriateness of gesture choices.

  why_it_matters: |
    Gesture-based interaction enables natural, intuitive experiences but
    unreliable recognition causes frustration. Good gesture design balances
    expressiveness with reliability and avoids culturally inappropriate
    or accidentally triggered gestures.

  when_to_run:
    - "When implementing gestures"
    - "When gestures fail"
    - "During international release"
    - "When adding new gestures"

prerequisites:
  required_artifacts:
    - type: "gesture_system"
      description: "Gesture recognition implementation"
    - type: "gesture_definitions"
      description: "Defined gestures"

  access_requirements:
    - "Gesture-capable device"
    - "Multiple testers"

discovery:
  file_patterns:
    - glob: "**/gestures/**/*.cs"
      purpose: "Find gesture code"
    - glob: "**/recognition/**/*.cs"
      purpose: "Find recognition code"

  code_patterns:
    - pattern: "Gesture|Recognize|HandPose"
      type: "keyword"
      scope: "source"
      purpose: "Find gesture systems"

knowledge_sources:
  guides:
    - id: "gesture-design"
      name: "XR Gesture Design"
      url: "https://developer.oculus.com/documentation/unity/unity-handtracking-gestures/"
      offline_cache: true

tooling:
  analysis_tools:
    - tool: "gesture-analyzer"
      purpose: "Recognition rate measurement"

signals:
  critical:
    - id: "GR-CRIT-001"
      signal: "Core gestures frequently fail"
      evidence_threshold: "success_rate < 80%"
      explanation: |
        If gestures fail frequently, users cannot reliably interact,
        causing frustration and abandonment.
      remediation: "Improve recognition or use simpler gestures"

    - id: "GR-CRIT-002"
      signal: "Dangerous accidental activation"
      evidence_indicators:
        - "Destructive actions triggered accidentally"
        - "Gestures similar to common movements"
      explanation: |
        Accidental gesture activation can cause data loss or
        unwanted actions.
      remediation: "Add confirmation or use more distinct gestures"

  high:
    - id: "GR-HIGH-001"
      signal: "High false positive rate"
      evidence_threshold: "false_positive_rate > 10%"
      remediation: "Improve gesture discrimination"

    - id: "GR-HIGH-002"
      signal: "Gestures conflict with each other"
      evidence_indicators:
        - "Similar gestures confused"
        - "Ambiguous gesture states"
      remediation: "Make gestures more distinct"

  medium:
    - id: "GR-MED-001"
      signal: "Cultural sensitivity not considered"
      remediation: "Review gestures for cultural appropriateness"

    - id: "GR-MED-002"
      signal: "Gestures not learnable"
      remediation: "Add gesture tutorial and feedback"

  low:
    - id: "GR-LOW-001"
      signal: "Gesture feedback minimal"
      remediation: "Add visual/haptic gesture feedback"

  positive:
    - id: "GR-POS-001"
      signal: "High recognition accuracy"
    - id: "GR-POS-002"
      signal: "Low false positive rate"
    - id: "GR-POS-003"
      signal: "Clear gesture feedback"

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Test Recognition Accuracy"
      description: "Measure gesture success rates"
      duration_estimate: "1 hour"

    - id: "2"
      name: "Test False Positives"
      description: "Check accidental triggers"
      duration_estimate: "45 min"

    - id: "3"
      name: "Test Disambiguation"
      description: "Check similar gesture handling"
      duration_estimate: "45 min"

    - id: "4"
      name: "Review Cultural Aspects"
      description: "Check gesture appropriateness"
      duration_estimate: "30 min"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "gesture_report"
      format: "json"
      description: "Gesture recognition analysis"

closeout_checklist:
  - id: "gr-001"
    item: "Recognition rate > 90%"
    level: "CRITICAL"
    verification: "automated"

  - id: "gr-002"
    item: "False positives < 5%"
    level: "BLOCKING"
    verification: "automated"

governance:
  applicable_to:
    archetypes: ["xr-applications"]

relationships:
  commonly_combined:
    - "metaverse-immersive.interaction-design.hand-tracking-accuracy"
    - "metaverse-immersive.interaction-design.haptic-feedback"
