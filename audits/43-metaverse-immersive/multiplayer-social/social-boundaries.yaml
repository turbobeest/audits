# ============================================================
# AUDIT: Social Boundaries
# Category: 43 - Metaverse & Immersive
# Subcategory: multiplayer-social
# ============================================================

audit:
  id: "metaverse-immersive.multiplayer-social.social-boundaries"
  name: "Social Boundaries Audit"
  version: "1.0.0"
  last_updated: "2025-01-22"
  status: "active"

  category: "metaverse-immersive"
  category_number: 43
  subcategory: "multiplayer-social"

  tier: "expert"
  estimated_duration: "3-4 hours"  # median: 3h

  completeness: "requires_discovery"
  requires_runtime: true
  destructive: false

execution:
  automatable: "partial"
  severity: "critical"
  scope: "xr-systems"

  default_profiles:
    - "full"
    - "quick"

  blocks_phase: true
  parallelizable: true

description:
  what: |
    Evaluates social boundary systems that protect users from unwanted
    interactions including personal space bubbles, interaction permissions,
    and harassment prevention mechanisms.

  why_it_matters: |
    VR creates visceral experiences where boundary violations feel real.
    Without proper boundaries, harassment can be traumatic. Robust boundary
    systems are essential for safe, inclusive social VR.

  when_to_run:
    - "During safety review"
    - "Before launch"
    - "After harassment reports"
    - "During compliance review"

prerequisites:
  required_artifacts:
    - type: "boundary_system"
      description: "Social boundary implementation"
    - type: "safety_features"
      description: "Safety feature documentation"

  access_requirements:
    - "Multiplayer testing"
    - "Safety feature access"

discovery:
  file_patterns:
    - glob: "**/safety/**/*.cs"
      purpose: "Find safety code"
    - glob: "**/boundaries/**/*.cs"
      purpose: "Find boundary code"

  code_patterns:
    - pattern: "PersonalSpace|SafetyBubble|Block"
      type: "keyword"
      scope: "source"
      purpose: "Find safety systems"

knowledge_sources:
  guides:
    - id: "vr-safety"
      name: "VR Safety Guidelines"
      url: "https://developer.oculus.com/documentation/unity/meta-safety/"
      offline_cache: true
      priority: "required"

tooling:
  analysis_tools:
    - tool: "safety-tester"
      purpose: "Safety feature testing"

signals:
  critical:
    - id: "SB-CRIT-001"
      signal: "No personal space protection"
      evidence_indicators:
        - "Avatars can overlap"
        - "No distance enforcement"
        - "Can approach arbitrarily close"
      explanation: |
        Personal space violations feel very real in VR.
        Users must have automatic protection.
      remediation: "Implement personal space system"

    - id: "SB-CRIT-002"
      signal: "Cannot block users"
      evidence_indicators:
        - "No block functionality"
        - "Harassers cannot be avoided"
      explanation: |
        Users must be able to remove problematic individuals
        from their experience.
      remediation: "Implement user blocking"

  high:
    - id: "SB-HIGH-001"
      signal: "Block easily circumvented"
      evidence_indicators:
        - "Can rejoin with new account"
        - "Block doesn't persist"
      remediation: "Make blocking robust"

    - id: "SB-HIGH-002"
      signal: "No quick escape option"
      evidence_indicators:
        - "Cannot quickly leave situation"
        - "No panic button"
      remediation: "Add quick escape mechanism"

  medium:
    - id: "SB-MED-001"
      signal: "Boundary settings not customizable"
      remediation: "Allow boundary customization"

    - id: "SB-MED-002"
      signal: "No private mode option"
      remediation: "Add solo/private mode"

  low:
    - id: "SB-LOW-001"
      signal: "Safety features undocumented"
      remediation: "Document safety features"

  positive:
    - id: "SB-POS-001"
      signal: "Robust personal space"
    - id: "SB-POS-002"
      signal: "Effective blocking"
    - id: "SB-POS-003"
      signal: "Quick escape available"

procedure:
  context:
    cognitive_mode: "critical"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Test Personal Space"
      description: "Verify distance enforcement"
      duration_estimate: "45 min"

    - id: "2"
      name: "Test Blocking"
      description: "Verify block functionality"
      duration_estimate: "45 min"

    - id: "3"
      name: "Test Escape Options"
      description: "Verify quick exit works"
      duration_estimate: "30 min"

    - id: "4"
      name: "Attempt Circumvention"
      description: "Try to bypass safety"
      duration_estimate: "1 hour"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "safety_report"
      format: "prose"
      description: "Social boundary assessment"

closeout_checklist:
  - id: "sb-001"
    item: "Personal space implemented"
    level: "CRITICAL"
    verification: "manual"

  - id: "sb-002"
    item: "Blocking functional"
    level: "CRITICAL"
    verification: "manual"

  - id: "sb-003"
    item: "Quick escape available"
    level: "BLOCKING"
    verification: "manual"

governance:
  applicable_to:
    archetypes: ["social-vr", "metaverse"]

  compliance_frameworks:
    - framework: "Meta VRC"
      controls: ["Safety Requirements"]

relationships:
  commonly_combined:
    - "metaverse-immersive.multiplayer-social.moderation-tools"
    - "metaverse-immersive.multiplayer-social.avatar-system"
