audit:
  id: real-time-embedded.firmware-quality.coding-standard-compliance
  name: Coding Standard Compliance Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: real-time-embedded
  category_number: 39
  subcategory: firmware-quality
  tier: expert
  estimated_duration: 4-6 hours  # median: 5h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: embedded-systems
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates compliance with project and industry coding standards beyond MISRA.
    Reviews naming conventions, code formatting, documentation requirements,
    header file organization, and embedded-specific patterns. Assesses
    enforcement mechanisms and deviation procedures.
  why_it_matters: |
    Consistent coding standards improve readability, maintainability, and reduce
    errors. In team environments, standards ensure code is understandable by
    all developers. Embedded-specific standards address resource constraints
    and hardware interaction patterns. Standards compliance is often required
    for safety certification.
  when_to_run:
  - During code review
  - When establishing standards
  - For new team member onboarding
  - Before certification audits
  - Periodically for process health
prerequisites:
  required_artifacts:
  - type: source_code
    description: Complete firmware source code
  - type: coding_standard
    description: Project coding standard document
  - type: style_configuration
    description: Code formatter configuration
  - type: linter_configuration
    description: Linter and style checker config
  access_requirements:
  - Access to source code
  - Access to coding standards
  - Style checking tools
  - Build system access
discovery:
  file_patterns:
  - glob: '**/*.c'
    purpose: Find C source files
  - glob: '**/*.h'
    purpose: Find header files
  - glob: '**/.clang-format'
    purpose: Find clang-format config
  - glob: '**/coding_standard*.md'
    purpose: Find coding standards
  - glob: '**/.editorconfig'
    purpose: Find editor config
knowledge_sources:
  guides:
  - id: embedded-style
    name: Embedded Coding Style Guide
    url: https://www.embedded.com/coding-style
  - id: barr-c
    name: Barr Group C Coding Standard
    url: https://barrgroup.com/embedded-systems/books/embedded-c-coding-standard
  standards:
  - id: barr-c-standard
    name: Barr Group Embedded C Coding Standard
    relevance: Industry embedded standard
  - id: autosar-guidelines
    name: AUTOSAR C++ Coding Guidelines
    relevance: Automotive coding rules
tooling:
  analysis_tools:
  - tool: clang-format
    purpose: Code formatting
  - tool: clang-tidy
    purpose: Style checking
  - tool: uncrustify
    purpose: C code beautifier
  - tool: cppcheck
    purpose: Style and convention checking
signals:
  critical:
  - id: CSC-CRIT-001
    signal: No coding standard defined
    evidence_indicators:
    - No standard document exists
    - Inconsistent code throughout
    - No enforcement mechanism
    explanation: |
      Without defined standards, code quality varies widely and
      maintenance becomes difficult. Standards are essential.
    remediation: Define and document coding standards
  high:
  - id: CSC-HIGH-001
    signal: Significant standard violations
    evidence_indicators:
    - Major sections non-compliant
    - Inconsistent naming
    - Documentation missing
    explanation: |
      Widespread violations indicate standards not followed.
      This impacts maintainability and quality.
    remediation: Bring code into compliance through systematic review
  - id: CSC-HIGH-002
    signal: No enforcement mechanism
    evidence_indicators:
    - No automated checking
    - Standards not in CI
    - Violations accumulate
    explanation: |
      Without enforcement, standards degrade over time as
      violations are introduced unchecked.
    remediation: Implement automated standards checking in CI
  medium:
  - id: CSC-MED-001
    signal: Inconsistent formatting throughout codebase
    evidence_indicators:
    - Mixed indentation styles
    - Inconsistent brace placement
    - Variable formatting
    explanation: |
      Inconsistent formatting makes code harder to read and
      review. Automatic formatting ensures consistency.
    remediation: Apply consistent formatting using automated tool
  - id: CSC-MED-002
    signal: Documentation requirements not met
    evidence_indicators:
    - Functions undocumented
    - No header comments
    - Complex code unexplained
    explanation: |
      Code documentation is essential for maintenance and
      understanding. Standards typically require documentation.
    remediation: Add required documentation
  low:
  - id: CSC-LOW-001
    signal: Minor style inconsistencies
    evidence_indicators:
    - Naming convention variations
    - Whitespace inconsistencies
    - Comment style varies
    explanation: |
      Minor inconsistencies reduce code polish but are lower
      priority than functional issues.
    remediation: Apply formatting tool during regular cleanup
  positive:
  - id: CSC-POS-001
    signal: Full compliance with coding standard
    evidence_indicators:
    - Automated checking passes
    - Code consistently formatted
    - Documentation complete
  - id: CSC-POS-002
    signal: Standards enforced in CI
    evidence_indicators:
    - Build fails on violations
    - Consistent enforcement
    - New code always compliant
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Review Coding Standard
    description: Examine documented coding standards
    duration_estimate: 30 minutes
  - id: '2'
    name: Configure Checking Tools
    description: Set up automated standards checking
    duration_estimate: 30 minutes
  - id: '3'
    name: Run Compliance Analysis
    description: Execute standards checking on codebase
    duration_estimate: 1 hour
  - id: '4'
    name: Review Documentation Compliance
    description: Check documentation requirements
    duration_estimate: 1 hour
  - id: '5'
    name: Assess Enforcement Mechanisms
    description: Review CI integration and processes
    duration_estimate: 30 minutes
  - id: '6'
    name: Document Findings
    description: Compile compliance report
    duration_estimate: 1 hour
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Standard Review
    - Compliance Analysis
    - Enforcement Assessment
    - Recommendations
closeout_checklist:
- id: csc-001
  item: Coding standard reviewed
  level: HIGH
  verification: manual
- id: csc-002
  item: Compliance analysis completed
  level: HIGH
  verification: automated
- id: csc-003
  item: Documentation compliance checked
  level: MEDIUM
  verification: manual
- id: csc-004
  item: Enforcement mechanisms assessed
  level: HIGH
  verification: manual
governance:
  applicable_to:
    archetypes:
    - embedded-systems
    - team-development
    - maintainable
  compliance_mappings:
  - framework: DO-178C
    control: 6.3.1
    description: Coding standards
  - framework: ISO 26262
    control: Part 6
    description: Coding guidelines
  - framework: IEC 62304
    control: 5.5.3
    description: Medical device coding
relationships:
  commonly_combined:
  - real-time-embedded.firmware-quality.misra-compliance
  - real-time-embedded.firmware-quality.code-metrics
  depends_on:
  - process.coding-standards-definition
  feeds_into:
  - quality.maintainability
  - certification.standards-evidence

# Glossary of domain-specific terms:
glossary:
  "WCET": "Worst-Case Execution Time - maximum possible execution time for a code path"
  "ISR": "Interrupt Service Routine - function executed in response to hardware interrupt"
  "jitter": "Variation in timing between expected and actual execution"
