# ============================================================
# AUDIT: Getting Started Guide
# ============================================================

audit:
  id: "api-integration.api-documentation.getting-started-guide"
  name: "Getting Started Guide Audit"
  version: "1.0.0"
  last_updated: "2026-01-18"
  status: "active"

  category: "api-integration"
  category_number: 9
  subcategory: "api-documentation"

  tier: "expert"
  estimated_duration: "60 minutes"

  completeness: "complete"
  requires_runtime: false
  destructive: false

execution:
  automatable: "partial"
  severity: "medium"
  scope: "documentation"

  default_profiles:
    - "full"
    - "api"

  blocks_phase: false
  parallelizable: true

description:
  what: |
    Evaluates API onboarding documentation including quickstart guides,
    authentication tutorials, first API call examples, environment
    setup instructions, and common use case tutorials. Analyzes whether
    new developers can successfully integrate within minutes.

  why_it_matters: |
    The first integration experience determines API adoption. If
    developers can't make their first successful API call within
    15 minutes, many abandon the API entirely. Good onboarding
    documentation dramatically increases conversion rates.

  when_to_run:
    - "Developer experience audits"
    - "API launch preparation"
    - "Onboarding friction reviews"
    - "After onboarding feedback"

prerequisites:
  required_artifacts:
    - type: "documentation"
      description: "API documentation and guides"

  access_requirements:
    - "Read access to documentation"

discovery:
  code_patterns:
    - pattern: "quickstart|getting.started|tutorial"
      type: "regex"
      scope: "docs"
      purpose: "Detect quickstart documentation"

    - pattern: "first.call|hello.world|example"
      type: "regex"
      scope: "docs"
      purpose: "Detect introductory examples"

  file_patterns:
    - glob: "**/docs/**/getting-started*"
      purpose: "Getting started guides"
    - glob: "**/docs/**/quickstart*"
      purpose: "Quickstart guides"
    - glob: "**/README.md"
      purpose: "Repository readme"

knowledge_sources:
  specifications:
    - id: "openapi-spec"
      name: "OpenAPI Specification"
      url: "https://spec.openapis.org/oas/latest.html"
      offline_cache: true
      priority: "recommended"

  guides:
    - id: "developer-onboarding"
      name: "Developer Onboarding Best Practices"
      url: "https://www.postman.com/api-platform/api-documentation/"
      offline_cache: true

    - id: "time-to-first-call"
      name: "Time to First Call"
      url: "https://swagger.io/blog/api-strategy/time-to-first-call/"
      offline_cache: true

  learning_resources:
    - id: "docs-as-dx"
      title: "Documentation as Developer Experience"
      type: "article"
      reference: "Twilio Blog"

tooling:
  scripts:
    - id: "onboarding-scan"
      language: "bash"
      purpose: "Analyze onboarding documentation"
      source: "inline"
      code: |
        echo "=== Getting Started Guide Analysis ==="
        echo "--- Quickstart files ---"
        find . -name "*getting*started*" -o -name "*quickstart*" \
          -o -name "*tutorial*" 2>/dev/null | \
          grep -v node_modules | head -20

        echo "--- Example code ---"
        find . -name "*example*" -o -name "*sample*" 2>/dev/null | \
          grep -v node_modules | head -20

        echo "--- README content ---"
        head -50 README.md 2>/dev/null || echo "No README found"

signals:
  critical:
    - id: "GS-CRIT-001"
      signal: "No getting started documentation exists"
      evidence_pattern: "No quickstart guide or tutorial found"
      explanation: |
        Without onboarding documentation, developers must discover
        the API through trial and error. Most will abandon the API
        and use a competitor with better documentation.
      remediation: "Create a comprehensive getting started guide"

    - id: "GS-CRIT-002"
      signal: "Getting started guide has non-working examples"
      evidence_pattern: "Code examples fail with errors"
      explanation: |
        Broken examples destroy developer trust immediately. If the
        first example doesn't work, developers assume the entire
        API is unreliable.
      remediation: "Test and maintain all code examples"

  high:
    - id: "GS-HIGH-001"
      signal: "Authentication not explained in getting started"
      evidence_pattern: "Quickstart assumes auth is already configured"
      explanation: |
        Authentication is the first barrier to API usage. If getting
        started doesn't cover auth, developers get stuck at the very
        first step.
      remediation: "Include authentication setup as first step"

    - id: "GS-HIGH-002"
      signal: "No copy-paste working example"
      evidence_pattern: "Examples require modification to run"
      explanation: |
        Developers want to copy-paste and see success immediately.
        Examples requiring environment-specific changes create friction
        and errors.
      remediation: "Provide complete, runnable examples"

    - id: "GS-HIGH-003"
      signal: "Missing environment setup instructions"
      evidence_pattern: "Prerequisites not documented"
      explanation: |
        Without clear environment setup, developers waste time
        troubleshooting missing dependencies or incorrect configuration.
      remediation: "Document all prerequisites and setup steps"

  medium:
    - id: "GS-MED-001"
      signal: "Getting started only in one language"
      evidence_pattern: "Examples only in Python or JavaScript"
      remediation: "Provide examples in multiple popular languages"

    - id: "GS-MED-002"
      signal: "No sandbox environment for getting started"
      evidence_pattern: "Examples require production credentials"
      remediation: "Provide sandbox or test environment for experimentation"

    - id: "GS-MED-003"
      signal: "Getting started guide too long"
      evidence_pattern: "Quickstart > 10 minutes to complete"
      remediation: "Create focused quickstart achievable in 5 minutes"

  low:
    - id: "GS-LOW-001"
      signal: "No video tutorials available"
      evidence_pattern: "Only text documentation exists"
      remediation: "Consider adding video walkthroughs"

  positive:
    - id: "GS-POS-001"
      signal: "5-minute quickstart available"
      evidence_pattern: "Minimal path to first successful call"

    - id: "GS-POS-002"
      signal: "Interactive getting started tutorial"
      evidence_pattern: "Step-by-step guided experience in docs"

    - id: "GS-POS-003"
      signal: "Examples in multiple languages"
      evidence_pattern: "curl, Python, JavaScript, Java examples"

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Find Getting Started Documentation"
      description: |
        Locate all onboarding documentation.
      duration_estimate: "10 min"
      commands:
        - purpose: "Find quickstart files"
          command: |
            find . -type f \( -name "*getting*started*" -o -name "*quickstart*" \
              -o -name "*tutorial*" \) 2>/dev/null | \
              grep -v node_modules | head -20
        - purpose: "Check README"
          command: |
            test -f README.md && echo "README.md exists" || echo "No README.md"

      expected_findings:
        - "Onboarding documentation"
        - "Documentation location"

    - id: "2"
      name: "Evaluate Content Coverage"
      description: |
        Check if essential topics are covered.
      duration_estimate: "15 min"
      questions:
        - "Is authentication explained?"
        - "Is there a copy-paste example?"
        - "Are prerequisites listed?"

      expected_findings:
        - "Content completeness"
        - "Critical gaps"

    - id: "3"
      name: "Review Code Examples"
      description: |
        Check quality of code examples.
      duration_estimate: "15 min"
      commands:
        - purpose: "Find code examples"
          command: |
            find . -name "*example*" -o -name "*sample*" 2>/dev/null | \
              grep -v node_modules | head -20

      expected_findings:
        - "Example availability"
        - "Language coverage"

    - id: "4"
      name: "Assess Time to First Call"
      description: |
        Estimate how long first API call takes.
      duration_estimate: "15 min"
      questions:
        - "How many steps to first successful call?"
        - "Are there blockers like approval workflows?"
        - "Is sandbox access immediate?"

      expected_findings:
        - "Time estimate"
        - "Friction points"

    - id: "5"
      name: "Check Example Accuracy"
      description: |
        Verify examples match current API.
      duration_estimate: "5 min"
      commands:
        - purpose: "Find API URLs in examples"
          command: |
            grep -rn "api\.\|/v[0-9]\|localhost" \
              --include="*.md" . 2>/dev/null | \
              grep -v node_modules | head -20

      expected_findings:
        - "URL accuracy"
        - "Version alignment"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"
      content:
        - "documentation_inventory"
        - "content_gaps"
        - "friction_points"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Onboarding Assessment"
        - "Example Quality"
        - "Recommendations"

  confidence_guidance:
    high: "Clear documentation presence or absence"
    medium: "Documentation exists but quality uncertain"
    low: "Requires actual onboarding test to confirm"

offline:
  capability: "full"

  cache_manifest:
    knowledge:
      - source_id: "developer-onboarding"
        priority: "recommended"

profiles:
  membership:
    quick:
      included: false
      reason: "Developer experience assessment"
    full:
      included: true
      priority: 2
    api:
      included: true
      priority: 1

closeout_checklist:
  - id: "gs-001"
    item: "Getting started guide exists"
    level: "CRITICAL"
    verification: |
      find . \( -name "*getting*started*" -o -name "*quickstart*" \) \
        -type f 2>/dev/null | grep -v node_modules | \
        wc -l | xargs -I {} test {} -gt 0 && echo "PASS" || echo "FAIL"
    expected: "PASS"

  - id: "gs-002"
    item: "Code examples available"
    level: "BLOCKING"
    verification: |
      find . \( -name "*example*" -o -name "*sample*" \) \
        -type f 2>/dev/null | grep -v node_modules | \
        wc -l | xargs -I {} test {} -gt 0 && echo "PASS" || echo "FAIL"
    expected: "PASS"

  - id: "gs-003"
    item: "Authentication documented in getting started"
    level: "WARNING"
    verification: |
      grep -rn "auth\|token\|api.key" \
        --include="*getting*started*" --include="*quickstart*" \
        --include="README.md" . 2>/dev/null | \
        grep -v node_modules | wc -l | xargs -I {} test {} -gt 0 && echo "PASS" || echo "FAIL"
    expected: "PASS"

governance:
  applicable_to:
    archetypes: ["all"]

  compliance_frameworks:
    - framework: "ISO 25010"
      controls: ["Usability"]

relationships:
  commonly_combined:
    - "api-integration.api-documentation.documentation-completeness"
    - "api-integration.api-documentation.interactive-documentation"
    - "api-integration.api-documentation.sdk-client-library"
