audit:
  id: dependency-supply-chain.dependency-health.maintenance-status
  name: Maintenance Status Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: dependency-supply-chain
  category_number: 32
  subcategory: dependency-health
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: dependencies
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit assesses the maintenance status of project dependencies
    by examining activity indicators such as commit frequency, release
    cadence, issue response times, and maintainer engagement. It identifies
    dependencies that may be abandoned or poorly maintained.
  why_it_matters: |
    Unmaintained dependencies won't receive security patches, bug fixes,
    or compatibility updates. Relying on abandoned packages creates
    long-term technical debt and security risk. Early identification
    allows time to find alternatives before problems arise.
  when_to_run:
  - During dependency selection
  - Quarterly health assessments
  - When planning long-term roadmaps
  - After noticing slow response to issues
prerequisites:
  required_artifacts:
  - type: dependency_manifest
    description: package.json, requirements.txt, etc.
  access_requirements:
  - Access to package registries
  - Access to source repositories
discovery:
  file_patterns:
  - glob: '**/package.json'
    purpose: Find npm dependencies
  - glob: '**/requirements.txt'
    purpose: Find Python dependencies
knowledge_sources:
  guides:
  - id: deps-dev
    name: deps.dev
    url: https://deps.dev/
  - id: snyk-advisor
    name: Snyk Advisor
    url: https://snyk.io/advisor/
  standards:
  - id: ossf-scorecard
    name: OpenSSF Scorecard
    relevance: Project health metrics
tooling:
  analysis_tools:
  - tool: npm info
    purpose: Get package metadata
  - tool: deps.dev
    purpose: Dependency health data
  - tool: snyk-advisor
    purpose: Package health scores
  - tool: ossf-scorecard
    purpose: Security posture scoring
signals:
  critical:
  - id: DEP-MAINT-CRIT-001
    signal: Critical dependency unmaintained for 2+ years
    evidence_indicators:
    - No commits in 24 months
    - No releases in 24 months
    - Core functionality dependency
    explanation: |
      Long-unmaintained dependencies won't receive security updates.
      Vulnerabilities in these packages will never be patched by
      maintainers, leaving you to fork or replace them.
    remediation: Plan immediate migration to maintained alternative
  high:
  - id: DEP-MAINT-HIGH-001
    signal: Dependency shows signs of abandonment
    evidence_indicators:
    - No activity in 12+ months
    - Issues and PRs ignored
    - Maintainer unresponsive
    remediation: Research alternatives; plan transition
  - id: DEP-MAINT-HIGH-002
    signal: Single maintainer with declining activity
    evidence_indicators:
    - Only one active maintainer
    - Activity decreasing over time
    remediation: Monitor closely; identify backup options
  medium:
  - id: DEP-MAINT-MED-001
    signal: Slow release cadence
    evidence_indicators:
    - Releases less frequent than historical
    - Long gaps between versions
    remediation: Monitor for abandonment signs
  - id: DEP-MAINT-MED-002
    signal: Issue backlog growing
    evidence_indicators:
    - Open issues increasing
    - PR review times lengthening
    remediation: Consider maintainer capacity; may need alternative
  low:
  - id: DEP-MAINT-LOW-001
    signal: Project stable but inactive
    evidence_indicators:
    - Mature project with few updates
    - Low activity but low issues too
    remediation: Monitor; may be acceptable for stable packages
  positive:
  - id: DEP-MAINT-POS-001
    signal: All dependencies actively maintained
  - id: DEP-MAINT-POS-002
    signal: Critical dependencies have multiple maintainers
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: List Dependencies
    description: Get list of dependencies to assess
    commands:
    - purpose: List npm dependencies
      command: cat package.json 2>/dev/null | jq -r '.dependencies | keys[]' | head -30 || echo 'package.json
        not found'
  - id: '2'
    name: Check Package Metadata
    description: Review package registry information
    commands:
    - purpose: Check npm package info
      command: 'npm info lodash time.modified 2>/dev/null || echo ''Example: npm info [package] time.modified'''
  - id: '3'
    name: Check Repository Activity
    description: Review GitHub/GitLab activity
    commands:
    - purpose: Get repository URL
      command: 'npm info lodash repository.url 2>/dev/null || echo ''Example: npm info [package] repository.url'''
    - purpose: Check with GitHub CLI
      command: gh api repos/lodash/lodash --jq '.pushed_at' 2>/dev/null || echo 'Check GitHub manually'
  - id: '4'
    name: Check deps.dev Scores
    description: Review deps.dev health data
    commands:
    - purpose: Note deps.dev check
      command: |-
        echo 'Check deps.dev for:
        - Recent activity
        - Open issues/PRs
        - Version freshness
        - Security advisories

        URL: https://deps.dev/npm/[package]'
  - id: '5'
    name: Check Snyk Advisor
    description: Review Snyk package health
    commands:
    - purpose: Note Snyk Advisor check
      command: |-
        echo 'Check Snyk Advisor for:
        - Maintenance score
        - Community score
        - Security score
        - Popularity score

        URL: https://snyk.io/advisor/npm-package/[package]'
  - id: '6'
    name: Run OpenSSF Scorecard
    description: Check security scorecard
    commands:
    - purpose: Run scorecard
      command: scorecard --repo=github.com/lodash/lodash 2>/dev/null | head -30 || echo 'scorecard CLI
        not available; check scorecard.dev'
output:
  deliverables:
  - type: health_assessment
    format: structured
    description: Maintenance status for each dependency
  - type: at_risk_list
    format: list
    description: Dependencies with maintenance concerns
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Health Assessment
    - At-Risk Dependencies
    - Recommendations
closeout_checklist:
- id: dep-maint-001
  item: All critical dependencies assessed
  level: REQUIRED
  verification: Health data collected
- id: dep-maint-002
  item: Abandoned dependencies identified
  level: CRITICAL
  verification: At-risk list complete
- id: dep-maint-003
  item: Migration plans for at-risk deps
  level: REQUIRED
  verification: Plans documented
- id: dep-maint-004
  item: Monitoring established
  level: RECOMMENDED
  verification: Regular review scheduled
governance:
  applicable_to:
    archetypes:
    - all-software-projects
  compliance_mappings:
  - framework: SOC 2
    control: CC6.1
    description: Third-party risk management
  - framework: ISO 27001
    control: A.15.1
    description: Supplier relationships
relationships:
  commonly_combined:
  - dependency-supply-chain.dependency-health.community-health
  depends_on:
  - dependency-supply-chain.dependency-inventory.dependency-enumeration
  feeds_into:
  - dependency-supply-chain.dependency-health.abandonment-risk
