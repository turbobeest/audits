audit:
  id: dependency-supply-chain.dependency-health.community-health
  name: Community Health Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: dependency-supply-chain
  category_number: 32
  subcategory: dependency-health
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: dependencies
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates the community health around project dependencies,
    including contributor diversity, governance structure, communication
    channels, and community engagement. Healthy communities indicate
    sustainable, well-supported projects.
  why_it_matters: |
    A vibrant community ensures dependencies get contributions from
    multiple sources, reducing bus factor risk. Good governance prevents
    hostile takeovers or controversial direction changes. Community
    health predicts long-term project viability.
  when_to_run:
  - When selecting new dependencies
  - During annual dependency reviews
  - When evaluating strategic dependencies
  - Before deep integration with a dependency
prerequisites:
  required_artifacts:
  - type: dependency_manifest
    description: List of dependencies to evaluate
  access_requirements:
  - Access to public repositories
  - Access to community resources
discovery:
  file_patterns:
  - glob: '**/package.json'
    purpose: Find dependencies
  - glob: '**/CONTRIBUTING*'
    purpose: Find contribution guidelines
  - glob: '**/CODE_OF_CONDUCT*'
    purpose: Find conduct policies
knowledge_sources:
  guides:
  - id: chaoss-metrics
    name: CHAOSS Community Metrics
    url: https://chaoss.community/metrics/
  - id: github-community-standards
    name: GitHub Community Standards
    url: https://docs.github.com/en/communities
  standards:
  - id: community-health
    name: Open Source Community Health
    relevance: Evaluating project sustainability
tooling:
  analysis_tools:
  - tool: github-community-profile
    purpose: GitHub community profile
  - tool: contributor-stats
    purpose: Analyze contributor diversity
signals:
  critical:
  - id: DEP-COMM-CRIT-001
    signal: Project controlled by single entity with no succession
    evidence_indicators:
    - Single maintainer
    - No documented succession plan
    - Critical to operations
    explanation: |
      Single-entity control creates catastrophic bus factor risk.
      If that entity becomes unavailable, the project may effectively
      die, leaving you without support or security updates.
    remediation: Prioritize finding alternatives or contributing to governance
  high:
  - id: DEP-COMM-HIGH-001
    signal: Toxic or hostile community environment
    evidence_indicators:
    - Maintainer harassment
    - Contributor exodus
    - No code of conduct
    remediation: Consider alternatives; toxic communities collapse
  - id: DEP-COMM-HIGH-002
    signal: Recent hostile takeover or controversy
    evidence_indicators:
    - Maintainer disputes
    - Fork wars
    - Major contributor departures
    remediation: Monitor situation; prepare migration path
  medium:
  - id: DEP-COMM-MED-001
    signal: Limited contributor diversity
    evidence_indicators:
    - 90%+ commits from single org
    - Few external contributors
    remediation: Note bus factor risk; monitor
  - id: DEP-COMM-MED-002
    signal: Poor community documentation
    evidence_indicators:
    - No CONTRIBUTING guide
    - Unclear governance
    - No communication channels
    remediation: May indicate immature project
  low:
  - id: DEP-COMM-LOW-001
    signal: Small but healthy community
    evidence_indicators:
    - Few contributors but responsive
    - Clear ownership and direction
    remediation: Acceptable for smaller projects
  positive:
  - id: DEP-COMM-POS-001
    signal: Diverse and active contributor base
  - id: DEP-COMM-POS-002
    signal: Clear governance and communication
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Check GitHub Community Profile
    description: Review GitHub community standards
    commands:
    - purpose: Check community profile
      command: gh api repos/facebook/react/community/profile 2>/dev/null | jq '.' || echo 'Check GitHub
        community profile manually'
  - id: '2'
    name: Analyze Contributor Distribution
    description: Check contributor diversity
    commands:
    - purpose: Get contributor stats
      command: gh api repos/facebook/react/contributors --jq '.[0:10] | .[] | {login, contributions}'
        2>/dev/null || echo 'Check contributors on GitHub'
  - id: '3'
    name: Check Governance Documents
    description: Look for governance structure
    commands:
    - purpose: Note governance checks
      command: |-
        echo 'Governance Checklist:

        [ ] GOVERNANCE.md or similar exists
        [ ] Clear decision-making process
        [ ] Multiple maintainers listed
        [ ] Foundation or organization backing
        [ ] Code of conduct present'
  - id: '4'
    name: Check Communication Channels
    description: Identify community communication
    commands:
    - purpose: Note communication checks
      command: |-
        echo 'Communication Channels to Check:

        [ ] GitHub Discussions active
        [ ] Discord/Slack community
        [ ] Mailing list or forum
        [ ] Regular meetings or calls
        [ ] Social media presence'
  - id: '5'
    name: Review Recent Activity
    description: Check recent community engagement
    commands:
    - purpose: Check recent issues/PRs
      command: gh api repos/facebook/react/issues --jq '.[0:5] | .[] | {number, title, created_at}' 2>/dev/null
        || echo 'Check GitHub issues manually'
  - id: '6'
    name: Check for Foundation Backing
    description: Identify organizational support
    commands:
    - purpose: Note foundation checks
      command: |-
        echo 'Foundation/Organization Checks:

        [ ] Part of major foundation (Apache, Linux, CNCF, OpenJS)
        [ ] Corporate sponsorship
        [ ] Full-time maintainers
        [ ] Funding transparency'
output:
  deliverables:
  - type: community_assessment
    format: structured
    description: Community health for key dependencies
  - type: bus_factor_analysis
    format: structured
    description: Contributor concentration risk
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Community Health Scores
    - Governance Analysis
    - Bus Factor Assessment
    - Recommendations
closeout_checklist:
- id: dep-comm-001
  item: Critical deps have healthy communities
  level: REQUIRED
  verification: Community assessment complete
- id: dep-comm-002
  item: Bus factor risks identified
  level: REQUIRED
  verification: Single-maintainer deps flagged
- id: dep-comm-003
  item: Governance reviewed for key deps
  level: RECOMMENDED
  verification: Governance notes documented
- id: dep-comm-004
  item: Foundation backing noted
  level: RECOMMENDED
  verification: Backing documented
governance:
  applicable_to:
    archetypes:
    - all-software-projects
  compliance_mappings:
  - framework: SOC 2
    control: CC9.2
    description: Third-party risk assessment
  - framework: ISO 27001
    control: A.15.1
    description: Supplier assessment
relationships:
  commonly_combined:
  - dependency-supply-chain.dependency-health.maintenance-status
  depends_on:
  - dependency-supply-chain.dependency-inventory.dependency-enumeration
  feeds_into:
  - dependency-supply-chain.dependency-health.abandonment-risk
