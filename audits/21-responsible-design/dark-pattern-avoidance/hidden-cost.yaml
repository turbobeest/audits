audit:
  id: responsible-design.dark-pattern-avoidance.hidden-cost
  name: Hidden Cost Audit
  version: 1.0.0
  last_updated: '2025-01-19'
  status: active
  category: ethical-societal
  category_number: 21
  subcategory: dark-pattern-avoidance
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: qualitative
  default_profiles:
  - full
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates whether the product reveals all costs upfront or employs
    hidden cost dark patterns - fees, charges, or costs that appear only
    late in the purchase flow after users have invested time and effort.

    Examines pricing displays, checkout flows, fee disclosures, and
    identifies "drip pricing" where costs are gradually revealed.
  why_it_matters: |
    Hidden costs are a pervasive and harmful dark pattern:

    - FTC targets drip pricing as unfair/deceptive practice
    - DOT requires all-in pricing for airline tickets
    - Hotel resort fees face increasing regulation
    - Consumer frustration and cart abandonment
    - Brand damage when customers feel deceived

    Research shows hidden costs lead to poor consumer decisions and
    disproportionately affect lower-income consumers who can least
    afford unexpected charges.
  when_to_run:
  - Before launching pricing or checkout flows
  - When adding new fees or charges
  - After customer complaints about unexpected charges
  - Annually for all e-commerce/transactional products
prerequisites:
  required_artifacts:
  - type: pricing_documentation
    description: Complete documentation of all fees and charges
  - type: checkout_flow
    description: Access to test checkout process
  access_requirements:
  - Test account for purchase flow
  - Access to pricing and fee structures
  - Interview access to product and finance teams
discovery:
  interviews:
  - role: Product Manager
    questions:
    - What fees or charges are added during checkout?
    - At what point are total costs shown to users?
    - Why are certain fees disclosed later in the flow?
    - What customer feedback have you received about pricing?
    purpose: Understand pricing disclosure decisions
    duration: 30 min
  - role: Finance/Pricing Lead
    questions:
    - What mandatory fees exist beyond base price?
    - Are there service fees, processing fees, or similar charges?
    - How are taxes and fees calculated and displayed?
    purpose: Complete fee inventory
    duration: 20 min
  documents_to_review:
  - type: Pricing Pages
    purpose: Review initial price displays
    look_for:
    - All-in pricing vs. base price
    - Fee disclosure presence
    - Asterisks or footnotes about additional charges
  - type: Checkout Flow Designs
    purpose: Track when costs are revealed
    look_for:
    - Point at which total is first shown
    - Fee additions during flow
    - Final price vs. initial displayed price
  file_patterns:
  - glob: '**/ETHICS.md'
    purpose: Ethics documentation
  - glob: '**/PRIVACY*.md'
    purpose: Privacy documentation
  - glob: '**/terms*.md'
    purpose: Terms of service
  - glob: '**/policy*.md'
    purpose: Policy documentation
  code_patterns:
  - pattern: consent|privacy|gdpr|ccpa|cookie
    type: regex
    scope: all
    purpose: Privacy/consent references
knowledge_sources:
  specifications:
  - id: ftc-drip-pricing
    name: FTC Guidance on Drip Pricing
    url: https://www.ftc.gov/news-events/news/press-releases/2022/10/ftc-proposes-rule-ban-junk-fees
    offline_cache: true
    priority: required
  - id: dot-full-fare
    name: DOT Full Fare Advertising Rule
    url: https://www.transportation.gov/airconsumer/full-fare-advertising
    offline_cache: true
    priority: recommended
  guides:
  - id: dark-patterns-hidden-costs
    name: Dark Patterns Tip Line - Hidden Costs
    url: https://darkpatterns.org/
    offline_cache: true
    priority: recommended
signals:
  critical:
  - id: HIDDEN-CRIT-001
    signal: Mandatory fees not disclosed until checkout
    evidence_indicators:
    - Service fees appear only at checkout
    - Processing fees added after cart
    - Mandatory charges not on pricing page
    - Final price significantly higher than displayed
    explanation: |
      Drip pricing that reveals mandatory fees only after significant
      user investment is considered deceptive by FTC. This practice
      prevents price comparison and fair market operation.
    remediation: |
      - Display all mandatory fees on pricing pages
      - Show total or all-in pricing upfront
      - If itemizing, show full breakdown early
      - Meet industry-specific disclosure requirements
  - id: HIDDEN-CRIT-002
    signal: Fees disclosed in fine print or obscured
    evidence_indicators:
    - Fees in small font below the fold
    - Asterisks leading to separate disclosure
    - Fee information requires scrolling or clicking
    - Total price less prominent than base price
    explanation: |
      Even if technically disclosed, burying fees in fine print
      fails the clear and conspicuous disclosure standard and
      may constitute deceptive practice.
    remediation: |
      - Make fee disclosure equally prominent as price
      - Use clear, readable font sizes
      - Place disclosures near price display
      - Avoid obscuring with design choices
  high:
  - id: HIDDEN-HIGH-001
    signal: Significant price increase during checkout
    evidence_indicators:
    - Final price >10% higher than initially displayed
    - Multiple fees added progressively
    - Taxes and fees combined exceed reasonable expectation
    - Users expressing surprise at final price
    explanation: |
      Large price increases during checkout suggest hidden cost
      practices that frustrate users and may indicate deceptive
      pricing strategies.
    remediation: |
      - Audit all fees contributing to increase
      - Consider all-in pricing model
      - Provide fee breakdown earlier in flow
      - Benchmark against industry practices
  - id: HIDDEN-HIGH-002
    signal: Pre-selected paid add-ons or upgrades
    evidence_indicators:
    - Insurance or protection pre-checked
    - Premium options pre-selected
    - Donations pre-added to cart
    - Users must opt-out to avoid charges
    explanation: |
      Pre-selected paid items are a form of hidden cost when users
      don't notice and are charged unexpectedly. This practice is
      prohibited in many jurisdictions including EU.
    remediation: |
      - Make all paid add-ons opt-in
      - Ensure nothing pre-selected by default
      - Clearly show when items are added to cart
      - Meet negative option requirements
  medium:
  - id: HIDDEN-MED-001
    signal: Vague or unclear fee descriptions
    evidence_indicators:
    - '''Service fee'' without explanation'
    - '''Convenience fee'' for standard service'
    - Fees without clear purpose or benefit
    - Multiple similarly-named fees
    remediation: |
      - Provide clear descriptions for all fees
      - Explain what services fees cover
      - Consider consolidating similar fees
      - Use plain language for fee names
  - id: HIDDEN-MED-002
    signal: Shipping/delivery costs revealed late
    evidence_indicators:
    - Shipping cost shown only at checkout
    - Delivery fees not estimable early
    - Users must enter address to see shipping
    remediation: |
      - Show shipping estimates on product pages
      - Provide shipping calculator early
      - Display free shipping threshold prominently
  positive:
  - id: HIDDEN-POS-001
    signal: All-in pricing with no checkout surprises
    evidence_indicators:
    - Displayed price includes all fees
    - Checkout total matches product page
    - Clear itemization if fees separate
    - No unexpected additions
  - id: HIDDEN-POS-002
    signal: Transparent fee disclosure
    evidence_indicators:
    - All fees explained clearly
    - Fee purposes documented
    - Easy to understand pricing structure
procedure:
  context:
    cognitive_mode: critical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Fee Inventory
    description: |
      Create complete inventory of all fees, charges, and costs
      beyond base product price.
    duration_estimate: 30 min
    expected_findings:
    - Complete fee list
    - Fee purposes and amounts
  - id: '2'
    name: Pricing Display Review
    description: |
      Review pricing pages and product listings to assess
      initial price disclosure completeness.
    duration_estimate: 30 min
    expected_findings:
    - Initial disclosure assessment
    - Missing fees identified
  - id: '3'
    name: Checkout Flow Testing
    description: |
      Walk through complete checkout capturing each point
      where new costs are revealed.
    duration_estimate: 45 min
    expected_findings:
    - Point-by-point cost revelation
    - Final vs. initial price comparison
  - id: '4'
    name: Disclosure Quality Assessment
    description: |
      Evaluate whether disclosures are clear, conspicuous,
      and meet regulatory standards.
    duration_estimate: 30 min
    expected_findings:
    - Disclosure clarity assessment
    - Regulatory compliance status
  - id: '5'
    name: Synthesize Findings
    description: |
      Compile findings and recommendations.
    duration_estimate: 30 min
    expected_findings:
    - Prioritized findings
    - Remediation recommendations
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Fee Inventory
    - Price Disclosure Analysis
    - Checkout Flow Assessment
    - Recommendations
  confidence_guidance:
    high: Complete flow tested, all fees documented, clear patterns identified
    medium: Partial testing, some fees unclear
    low: Limited access to flows or fee information
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: ftc-drip-pricing
      priority: required
profiles:
  membership:
    quick:
      included: true
      priority: 60
    full:
      included: true
      priority: 85
closeout_checklist:
- id: hidden-001
  item: Complete fee inventory created
  level: CRITICAL
  verification: manual
  verification_notes: All fees and charges documented
  expected: Confirmed by reviewer
- id: hidden-002
  item: Checkout flow tested for hidden costs
  level: CRITICAL
  verification: manual
  verification_notes: Full checkout documented with price at each step
  expected: Confirmed by reviewer
- id: hidden-003
  item: Disclosure clarity assessed
  level: BLOCKING
  verification: manual
  verification_notes: Fee disclosures evaluated against regulatory standards
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - e-commerce
    - saas
    - marketplace
    domains:
    - E-commerce
    - Travel
    - Subscription Services
    - Ticketing
    team_sizes:
    - small
    - medium
    - large
  compliance_frameworks:
  - framework: FTC Act
    controls:
    - Section 5 (Deceptive Pricing)
  - framework: DOT Rules
    controls:
    - Full Fare Advertising
  - framework: EU Consumer Rights Directive
    controls:
    - Price Transparency
relationships:
  commonly_combined:
  - responsible-design.dark-pattern-avoidance.sneak-into-basket
  - responsible-design.consent-transparency.price-transparency
