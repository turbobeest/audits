audit:
  id: responsible-design.algorithmic-fairness.disparate-impact
  name: Disparate Impact Audit
  version: 1.0.0
  last_updated: '2025-01-19'
  status: active
  category: ethical-societal
  category_number: 21
  subcategory: algorithmic-fairness
  tier: phd
  estimated_duration: 4-6 hours  # median: 5h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: critical
  scope: qualitative
  default_profiles:
  - full
  - security
  blocks_phase: true
  parallelizable: false
description:
  what: |
    Evaluates algorithmic systems for disparate impact using the EEOC four-fifths
    rule and statistical significance testing. Examines whether facially neutral
    algorithms produce outcomes that disproportionately affect protected groups
    in employment, lending, housing, or other regulated domains.

    Applies the adverse impact ratio calculation: selection rate of protected
    group divided by selection rate of reference group. Ratios below 0.8 (80%)
    indicate potential disparate impact requiring further investigation.
  why_it_matters: |
    Disparate impact liability under Title VII, ECOA, and Fair Housing Act
    applies even when algorithms appear neutral. Organizations face:

    - Legal liability for discriminatory outcomes regardless of intent
    - EEOC enforcement actions and investigations
    - Private litigation and class action lawsuits
    - State law violations (many states have disparate impact provisions)
    - Reputational damage affecting customer and employee relationships

    Even with recent federal enforcement shifts (2025 Executive Order on
    deprioritization), disparate impact remains enforceable under Title VII
    and many state laws. Proactive analysis protects against legal risk.
  when_to_run:
  - Before deploying selection or decision-making algorithms
  - Annually for production employment/lending/housing systems
  - After algorithm updates that change selection rates
  - When receiving complaints about discriminatory outcomes
  - Prior to audits by regulators or third parties
prerequisites:
  required_artifacts:
  - type: selection_data
    description: Historical data on algorithmic selections/decisions with demographic information
  - type: applicant_pool_data
    description: Demographics of the full population subjected to the algorithm
  - type: algorithm_documentation
    description: Documentation of the selection criteria and decision process
  optional_artifacts:
  - type: validation_study
    description: Job-relatedness or business necessity validation study
  - type: alternative_analysis
    description: Analysis of less discriminatory alternatives considered
  access_requirements:
  - Access to selection/decision outcome data
  - Demographic information for applicants/subjects
  - Historical data with sufficient sample sizes per group
  - Interview access to HR, legal, and data science teams
discovery:
  interviews:
  - role: HR/Talent Acquisition Lead
    questions:
    - What algorithmic tools are used in selection processes?
    - How are vendors vetted for adverse impact analysis?
    - What monitoring do you perform on selection rates by demographic?
    - Have you received complaints about discriminatory outcomes?
    purpose: Understand current selection tool usage and monitoring
    duration: 30 min
  - role: Legal/Employment Counsel
    questions:
    - What adverse impact analysis is currently performed?
    - What validation studies exist for selection procedures?
    - What documentation exists for business necessity?
    - What less discriminatory alternatives have been evaluated?
    purpose: Assess legal compliance posture and documentation
    duration: 45 min
  - role: Data Science/Analytics Team
    questions:
    - How do you calculate selection rates by demographic group?
    - What statistical methods are used beyond four-fifths rule?
    - How frequently is adverse impact analysis performed?
    - What mitigation techniques have been implemented?
    purpose: Understand technical implementation of adverse impact analysis
    duration: 30 min
  documents_to_review:
  - type: Adverse Impact Analysis Reports
    purpose: Review existing disparate impact calculations
    look_for:
    - Selection rates by protected group
    - Four-fifths ratio calculations
    - Statistical significance testing
    - Time period and sample size adequacy
  - type: Validation Studies
    purpose: Assess job-relatedness documentation
    look_for:
    - Criterion validity evidence
    - Content validity analysis
    - Business necessity justification
  - type: Vendor Agreements
    purpose: Review third-party tool contracts
    look_for:
    - Adverse impact warranties or representations
    - Audit rights and data access provisions
    - Indemnification for discrimination claims
  metrics_queries:
  - system: HRIS/Selection System
    query: SELECT protected_group, COUNT(selected)/COUNT(*) as selection_rate FROM applicants GROUP BY
      protected_group
    purpose: Calculate selection rates by protected group
    threshold: All group ratios vs. highest rate >= 0.8
  - system: Historical Analysis
    query: Selection rates by protected group over time (quarterly)
    purpose: Identify trends in disparate impact
    threshold: No sustained periods of four-fifths rule violation
  file_patterns:
  - glob: '**/ETHICS.md'
    purpose: Ethics documentation
  - glob: '**/PRIVACY*.md'
    purpose: Privacy documentation
  - glob: '**/terms*.md'
    purpose: Terms of service
  - glob: '**/policy*.md'
    purpose: Policy documentation
  code_patterns:
  - pattern: consent|privacy|gdpr|ccpa|cookie
    type: regex
    scope: all
    purpose: Privacy/consent references
knowledge_sources:
  specifications:
  - id: eeoc-uniform-guidelines
    name: EEOC Uniform Guidelines on Employee Selection Procedures (1978)
    url: https://www.eeoc.gov/laws/guidance/uniform-guidelines-employee-selection-procedures
    offline_cache: true
    priority: required
  - id: eeoc-ai-guidance
    name: EEOC Guidance on Assessing Adverse Impact in AI Selection
    url: https://www.eeoc.gov/laws/guidance/select-issues-assessing-adverse-impact-software-algorithms-and-artificial
    offline_cache: true
    priority: required
  - id: title-vii
    name: Title VII of the Civil Rights Act
    url: https://www.eeoc.gov/statutes/title-vii-civil-rights-act-1964
    offline_cache: true
    priority: required
  guides:
  - id: siop-principles
    name: SIOP Principles for Validation and Use of Personnel Selection Procedures
    url: https://www.siop.org/Research-Publications/Items-of-Interest/ArtMID/19366/ArticleID/4912
    offline_cache: true
    priority: recommended
  papers:
  - id: adverse-impact-statistics
    title: Statistical Methods for Assessing Adverse Impact
    url: https://www.shrm.org/topics-tools/news/hr-magazine/adverse-impact-statistics
  learning_resources:
  - id: outsolve-adverse-impact
    title: 'Adverse Impact vs Disparate Impact: Understanding Compliance'
    type: article
    reference: https://www.outsolve.com/blog/adverse-impact-vs-disparate-impact
    relevance: Current compliance landscape and best practices
tooling:
  assessment_tools:
  - tool: Adverse Impact Ratio Calculator
    purpose: Calculate four-fifths rule compliance
    description: |
      Simple calculation: Selection rate of protected group /
      Selection rate of reference group (highest rate group)
      Flag ratios < 0.8
    offline_capable: true
  - tool: Fisher's Exact Test Calculator
    purpose: Statistical significance testing for small samples
    description: |
      More appropriate than four-fifths rule when sample sizes
      are small (< 30 per group)
    offline_capable: true
  - tool: Z-test for Proportions
    purpose: Statistical significance testing for larger samples
    description: |
      Standard difference of proportions test to determine
      if selection rate differences are statistically significant
    offline_capable: true
  infrastructure_tools:
  - tool: Python/R Statistical Packages
    purpose: Comprehensive adverse impact analysis
    install: pip install scipy statsmodels
    command: |
      from scipy.stats import chi2_contingency, fisher_exact
      # Calculate four-fifths ratio and statistical significance
    offline_capable: true
  scripts:
  - id: adverse-impact-calculator
    language: python
    purpose: Calculate adverse impact ratios and statistical significance
    source: inline
    code: |
      import pandas as pd
      from scipy.stats import chi2_contingency, fisher_exact

      def calculate_adverse_impact(data, protected_group_col, outcome_col):
          """
          Calculate adverse impact ratios for all protected groups
          Returns four-fifths analysis and statistical significance
          """
          selection_rates = data.groupby(protected_group_col)[outcome_col].mean()
          reference_rate = selection_rates.max()

          results = []
          for group, rate in selection_rates.items():
              ratio = rate / reference_rate if reference_rate > 0 else 0
              results.append({
                  'group': group,
                  'selection_rate': rate,
                  'adverse_impact_ratio': ratio,
                  'four_fifths_violation': ratio < 0.8
              })
          return pd.DataFrame(results)
signals:
  critical:
  - id: DISPIMPACT-CRIT-001
    signal: Four-fifths rule violation in production algorithm
    evidence_indicators:
    - Adverse impact ratio below 0.8 for protected group
    - Statistical significance (p < 0.05) confirms disparity
    - Pattern persists across multiple time periods
    - Affects regulated domain (employment, credit, housing)
    explanation: |
      A sustained four-fifths rule violation with statistical significance
      creates presumptive evidence of disparate impact discrimination.
      This triggers burden-shifting under Title VII - employer must
      demonstrate job-relatedness and business necessity.
    remediation: |
      - Immediately conduct root cause analysis
      - Document business necessity justification if applicable
      - Evaluate less discriminatory alternatives
      - Consider modifying or replacing the algorithm
      - Consult legal counsel on remediation obligations
      - Preserve documentation for potential litigation
  - id: DISPIMPACT-CRIT-002
    signal: No adverse impact analysis performed before deployment
    evidence_indicators:
    - Algorithm deployed without demographic impact assessment
    - No selection rate analysis documentation exists
    - Vendor tool used without adverse impact verification
    explanation: |
      Deploying selection algorithms without adverse impact analysis
      exposes the organization to unknown legal liability. EEOC guidance
      emphasizes employer responsibility even for third-party tools.
    remediation: |
      - Conduct immediate retrospective adverse impact analysis
      - Establish pre-deployment adverse impact testing requirements
      - Require vendors to provide adverse impact analysis
      - Implement ongoing monitoring of selection rates
  high:
  - id: DISPIMPACT-HIGH-001
    signal: Vendor tool lacks adverse impact verification
    evidence_indicators:
    - Third-party selection tool used without validation study
    - Vendor cannot provide adverse impact analysis
    - Contract lacks audit rights or adverse impact warranties
    explanation: |
      EEOC guidance clarifies that employers remain liable for
      adverse impact from vendor tools. Using unverified tools
      transfers risk without eliminating liability.
    remediation: |
      - Request adverse impact analysis from vendor
      - Conduct independent validation study
      - Negotiate contract provisions for audit rights
      - Consider alternative tools with better documentation
  - id: DISPIMPACT-HIGH-002
    signal: No business necessity documentation for disparate impact
    evidence_indicators:
    - Four-fifths violation exists without validation study
    - Job-relatedness not documented
    - Business necessity justification not articulated
    explanation: |
      When disparate impact exists, burden shifts to employer to
      demonstrate business necessity. Without documentation,
      employer cannot meet this burden in litigation.
    remediation: |
      - Commission validation study (criterion or content validity)
      - Document specific job-relatedness evidence
      - Articulate business necessity justification
      - Evaluate less discriminatory alternatives
  - id: DISPIMPACT-HIGH-003
    signal: Less discriminatory alternative not adopted
    evidence_indicators:
    - Alternative with lower adverse impact was identified
    - Alternative was not adopted without documented justification
    - Development process considered but rejected fairer approach
    explanation: |
      EEOC guidance states employers may be liable for failure to
      adopt less discriminatory alternatives that were considered
      during development. This creates additional liability exposure.
    remediation: |
      - Document reasons for not adopting alternatives
      - Re-evaluate alternatives with current data
      - Consider adopting less discriminatory approach
      - Preserve decision-making documentation
  medium:
  - id: DISPIMPACT-MED-001
    signal: Sample sizes insufficient for statistical conclusions
    evidence_indicators:
    - Protected groups have fewer than 30 selections
    - Four-fifths rule applied without statistical significance test
    - Small numbers make impact ratios unreliable
    remediation: |
      - Use Fisher's exact test for small samples
      - Aggregate data over longer time periods
      - Report confidence intervals with point estimates
      - Document sample size limitations in analysis
  - id: DISPIMPACT-MED-002
    signal: Infrequent adverse impact monitoring
    evidence_indicators:
    - Adverse impact analysis performed only annually
    - No ongoing monitoring of selection rates
    - Drift in adverse impact ratios not detected promptly
    remediation: |
      - Implement quarterly adverse impact monitoring
      - Establish automated alerts for ratio changes
      - Create dashboard for ongoing selection rate tracking
      - Define thresholds for triggering deeper investigation
  positive:
  - id: DISPIMPACT-POS-001
    signal: Comprehensive adverse impact program in place
    evidence_indicators:
    - Regular adverse impact analysis with documentation
    - Statistical significance testing beyond four-fifths rule
    - Validation studies for all selection procedures
    - Proactive monitoring and remediation process
  - id: DISPIMPACT-POS-002
    signal: Vendor management includes adverse impact requirements
    evidence_indicators:
    - Contract requires vendor adverse impact analysis
    - Audit rights enable independent verification
    - Regular vendor adverse impact reviews conducted
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  preparation:
  - step: Gather historical selection/decision data with demographics
  - step: Identify all selection procedures and algorithms in scope
  - step: Obtain existing adverse impact analyses and validation studies
  - step: Schedule interviews with HR, legal, and analytics teams
  steps:
  - id: '1'
    name: Inventory Selection Procedures
    description: |
      Document all algorithmic selection procedures in use, including
      third-party tools and internally developed systems.
    duration_estimate: 30-60 min
    questions:
    - What algorithmic tools are used for selection decisions?
    - Which are internally developed vs. vendor-provided?
    - What decisions do these tools influence?
    expected_findings:
    - Complete inventory of selection algorithms
    - Classification by internal/external and domain
  - id: '2'
    name: Calculate Selection Rates
    description: |
      Calculate selection rates by protected group for each
      selection procedure. Identify reference group (highest rate).
    duration_estimate: 1-2 hours
    commands:
    - purpose: Calculate selection rates by group
      command: |
        # Group by protected characteristic, calculate selection rate
        # Identify highest rate as reference group
    expected_findings:
    - Selection rates for each protected group
    - Reference group identification
  - id: '3'
    name: Apply Four-Fifths Rule
    description: |
      Calculate adverse impact ratios (protected group rate /
      reference group rate) and flag violations (< 0.8).
    duration_estimate: 30-60 min
    commands:
    - purpose: Calculate four-fifths ratios
      command: |
        # For each protected group:
        # ratio = group_rate / reference_rate
        # flag if ratio < 0.8
    expected_findings:
    - Adverse impact ratios for all groups
    - List of four-fifths rule violations
  - id: '4'
    name: Statistical Significance Testing
    description: |
      Apply appropriate statistical tests to determine if
      observed disparities are statistically significant.
    duration_estimate: 1 hour
    commands:
    - purpose: Chi-square or Fisher's exact test
      command: |
        # For larger samples: chi-square test
        # For smaller samples: Fisher's exact test
        # Report p-values and confidence intervals
    expected_findings:
    - Statistical significance of disparities
    - Confidence levels for findings
  - id: '5'
    name: Review Documentation
    description: |
      Assess existing validation studies, business necessity
      documentation, and alternatives analysis.
    duration_estimate: 1-2 hours
    questions:
    - What validation studies exist?
    - How is business necessity documented?
    - What alternatives were considered?
    expected_findings:
    - Documentation completeness assessment
    - Gap identification for legal defense
  - id: '6'
    name: Stakeholder Interviews
    description: |
      Interview HR, legal, and analytics teams to understand
      processes, awareness, and compliance posture.
    duration_estimate: 2 hours
    expected_findings:
    - Current practices assessment
    - Awareness of obligations
  - id: '7'
    name: Synthesize Findings
    description: |
      Compile quantitative analysis and qualitative findings
      into prioritized recommendations.
    duration_estimate: 1 hour
    expected_findings:
    - Prioritized list of disparate impact findings
    - Remediation recommendations with legal context
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: adverse_impact_analysis
    format: structured
    description: Four-fifths ratios and statistical analysis by protected group
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Selection Procedure Inventory
    - Adverse Impact Analysis Results
    - Documentation Assessment
    - Legal Risk Assessment
    - Recommendations
  confidence_guidance:
    high: Large sample sizes (>100/group), statistical significance (p<0.01), consistent across time periods
    medium: Moderate samples (30-100/group), statistical significance (p<0.05)
    low: Small samples (<30/group), four-fifths rule only without significance testing
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: eeoc-uniform-guidelines
      priority: required
    - source_id: eeoc-ai-guidance
      priority: required
  degradation:
  - feature: Current regulatory guidance lookup
    impact: Cannot verify latest EEOC interpretations
    mitigation: Cache key regulatory documents and recent guidance
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive statistical analysis
    security:
      included: true
      priority: 75
      reason: Legal and regulatory risk assessment
    production:
      included: false
      reason: Pre-deployment focus
    full:
      included: true
      priority: 90
closeout_checklist:
- id: dispimpact-001
  item: Selection rates calculated for all protected groups
  level: CRITICAL
  verification: manual
  verification_notes: Reviewer confirms selection rate analysis includes all legally protected groups
  expected: Confirmed by reviewer
- id: dispimpact-002
  item: Four-fifths ratios calculated and documented
  level: CRITICAL
  verification: manual
  verification_notes: Adverse impact ratios documented for each protected group
  expected: Confirmed by reviewer
- id: dispimpact-003
  item: Statistical significance testing completed
  level: BLOCKING
  verification: manual
  verification_notes: Chi-square or Fisher's exact test applied where sample sizes permit
  expected: Confirmed by reviewer
- id: dispimpact-004
  item: Validation documentation reviewed
  level: BLOCKING
  verification: manual
  verification_notes: Reviewer confirms validation studies and business necessity documentation assessed
  expected: Confirmed by reviewer
- id: dispimpact-005
  item: Remediation recommendations provided for violations
  level: WARNING
  verification: manual
  verification_notes: For each four-fifths violation, remediation path documented
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
    domains:
    - Employment/Hiring
    - Credit/Lending
    - Housing
    - Insurance
    team_sizes:
    - small
    - medium
    - large
  compliance_frameworks:
  - framework: Title VII
    controls:
    - Disparate Impact Provisions
  - framework: EEOC Uniform Guidelines
    controls:
    - Section 4D (Four-fifths rule)
    - Section 5 (Validation)
  - framework: ECOA
    controls:
    - Adverse Action Requirements
  - framework: Fair Housing Act
    controls:
    - Disparate Impact Standard
  - framework: State Employment Laws
    controls:
    - Various state adverse impact provisions
relationships:
  commonly_combined:
  - responsible-design.algorithmic-fairness.bias-detection
  - responsible-design.algorithmic-fairness.protected-class-treatment
  - responsible-design.algorithmic-fairness.proxy-variable
