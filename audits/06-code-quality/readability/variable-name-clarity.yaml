audit:
  id: code-quality.readability.variable-name-clarity
  name: Variable Name Clarity Audit
  version: 1.0.0
  last_updated: '2026-01-18'
  status: active
  category: code-quality
  category_number: 6
  subcategory: readability
  tier: expert
  estimated_duration: 25 minutes
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: codebase
  default_profiles:
  - full
  - quality
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates variable names throughout the codebase for semantic clarity,
    appropriate length, and meaningful description of content. Identifies
    ambiguous, overly abbreviated, misleading, or generic variable names
    that hinder code comprehension.
  why_it_matters: |
    Variable names are the primary documentation of code. Research shows
    that meaningful variable names reduce bug introduction rates by up to
    19%. Unclear variable names cause developers to make incorrect assumptions,
    leading to logic errors, and significantly increase time spent understanding
    code during maintenance and debugging.
  when_to_run:
  - During code reviews
  - When onboarding new developers
  - During refactoring efforts
  - Technical debt assessments
prerequisites:
  required_artifacts:
  - type: source_code
    description: Application source code
  access_requirements:
  - Read access to source code
discovery:
  code_patterns:
  - pattern: \b(data|info|temp|tmp|val|value|item|obj|result|res|ret)\b
    type: regex
    scope: source
    purpose: Detect generic variable names
  - pattern: \b[a-z]\s*=
    type: regex
    scope: source
    purpose: Detect single-letter variables
  - pattern: \b[a-z]{1,2}[0-9]+\b
    type: regex
    scope: source
    purpose: Detect meaningless numbered variables
  - pattern: \b(foo|bar|baz|qux|test|dummy)\b
    type: regex
    scope: source
    purpose: Detect placeholder names in production code
  file_patterns:
  - glob: '**/*.{js,ts,jsx,tsx,py,java,go,rb,cs}'
    purpose: Source code files
knowledge_sources:
  guides:
  - id: clean-code-naming
    name: Clean Code - Meaningful Names
    url: https://www.oreilly.com/library/view/clean-code/9780136083238/
    offline_cache: true
  - id: code-complete-naming
    name: Code Complete - Variable Naming
    url: https://www.oreilly.com/library/view/code-complete-2nd/0735619670/
    offline_cache: true
  - id: pragmatic-programmer
    name: The Pragmatic Programmer
    url: https://pragprog.com/titles/tpp20/the-pragmatic-programmer-20th-anniversary-edition/
    offline_cache: false
  learning_resources:
  - id: clean-code-book
    title: 'Clean Code: A Handbook of Agile Software Craftsmanship'
    type: book
    reference: 'ISBN: 978-0132350884, Chapter 2'
  - id: code-complete-book
    title: Code Complete, 2nd Edition
    type: book
    reference: 'ISBN: 978-0735619678, Chapter 11'
tooling:
  static_analysis:
  - tool: eslint
    purpose: JavaScript/TypeScript identifier length rules
    offline_capable: true
  - tool: pylint
    purpose: Python variable naming checks
    offline_capable: true
  - tool: codenarc
    purpose: Groovy naming convention checks
    offline_capable: true
  scripts:
  - id: clarity-scan
    language: bash
    purpose: Detect unclear variable names
    source: inline
    code: |
      # Find generic variable names
      grep -rn --include="*.{py,js,ts}" -E "\b(data|info|temp|tmp|val|value|item|obj|result|res|ret)\s*=" . 2>/dev/null | head -30
      # Find single-letter non-loop variables
      grep -rn --include="*.py" -E "^\s+[a-hln-z]\s*=" . 2>/dev/null | head -20
signals:
  critical:
  - id: VNC-CRIT-001
    signal: Misleading variable names
    evidence_pattern: Variable name suggests opposite of actual content
    explanation: |
      Variables named in ways that contradict their actual content
      (e.g., 'userCount' holding a list, 'isActive' being true when
      inactive) cause serious bugs and confusion.
    remediation: Rename to accurately reflect variable content and type
  - id: VNC-CRIT-002
    signal: Critical business logic using unclear names
    evidence_pattern: Single-letter or generic names in business logic
    explanation: |
      Business-critical calculations or logic using variables like
      'x', 'temp', or 'data' make it impossible to verify correctness
      and are high bug risk.
    remediation: Use domain-specific meaningful names
  high:
  - id: VNC-HIGH-001
    signal: Pervasive use of generic variable names
    evidence_pattern: \b(data|info|temp|tmp|val|value)\b.*=
    explanation: |
      Generic names like 'data', 'info', 'temp', 'value' provide no
      context about what the variable contains, forcing readers to
      trace back through code to understand meaning.
    remediation: Replace with specific names describing content
  - id: VNC-HIGH-002
    signal: Excessive single-letter variables outside loops
    evidence_pattern: More than 5% of variables are single-letter
    explanation: |
      Single-letter variables (except i, j, k in loops) force readers
      to maintain mental state about what each letter represents,
      significantly increasing cognitive load.
    remediation: Use full descriptive names
  medium:
  - id: VNC-MED-001
    signal: Overly abbreviated names
    evidence_pattern: \b[a-z]{2,3}[A-Z]|[a-z]{2,3}_
    remediation: Expand abbreviations to full words
  - id: VNC-MED-002
    signal: Numbered variable sequences
    evidence_pattern: \b\w+[0-9]\b.*\w+[0-9]\b
    remediation: Use arrays/collections or semantic names
  low:
  - id: VNC-LOW-001
    signal: Inconsistent variable naming patterns
    evidence_pattern: Mixed abbreviation styles
    remediation: Standardize abbreviation usage
  positive:
  - id: VNC-POS-001
    signal: Domain terminology used consistently
  - id: VNC-POS-002
    signal: Clear, self-documenting variable names
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Identify Generic Names
    description: |
      Search for commonly overused generic variable names that
      provide little semantic meaning.
    duration_estimate: 8 min
    commands:
    - purpose: Find generic variable names
      command: |
        grep -rn --include="*.py" -E "\b(data|info|temp|tmp|val|value|item|obj|result|res|ret)\s*=" . 2>/dev/null | wc -l
    - purpose: Sample generic name usage
      command: |
        grep -rn --include="*.{js,ts}" -E "\b(data|info|temp)\s*=" . 2>/dev/null | head -20
    expected_findings:
    - Count of generic name usage
    - Patterns in generic name usage
  - id: '2'
    name: Find Single-Letter Variables
    description: |
      Identify single-letter variable names used outside of
      standard loop counter contexts.
    duration_estimate: 5 min
    commands:
    - purpose: Find single-letter variables (non-loop)
      command: |
        grep -rn --include="*.py" -E "^\s+[a-hln-z]\s*=" . 2>/dev/null | head -20
    - purpose: Count single-letter variables
      command: |
        grep -roh --include="*.py" -E "\b[a-z]\s*=" . 2>/dev/null | wc -l
    expected_findings:
    - Single-letter variable locations
    - Frequency of occurrence
  - id: '3'
    name: Check for Placeholder Names
    description: |
      Find test/placeholder names that may have leaked into
      production code.
    duration_estimate: 5 min
    commands:
    - purpose: Find placeholder names
      command: |
        grep -rn --include="*.{py,js,ts}" -E "\b(foo|bar|baz|qux|test[0-9]*|dummy)\s*=" . 2>/dev/null | grep -v "_test\." | grep -v "test_" | head -20
    expected_findings:
    - Placeholder names in non-test code
  - id: '4'
    name: Evaluate Name Length Distribution
    description: |
      Analyze the distribution of variable name lengths to
      identify very short or excessively long names.
    duration_estimate: 7 min
    commands:
    - purpose: Analyze variable name lengths
      command: |
        grep -roh --include="*.py" -E "\b[a-z_][a-z0-9_]*\s*=" . 2>/dev/null | sed 's/\s*=$//' | awk '{print length}' | sort | uniq -c | sort -k2 -n | head -20
    expected_findings:
    - Name length distribution
    - Outliers (very short/long)
output:
  deliverables:
  - type: finding_list
    format: structured
    content:
    - unclear_variable_examples
    - generic_name_count
    - single_letter_count
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Clarity Analysis
    - Problem Areas
    - Recommendations
  confidence_guidance:
    high: Comprehensive analysis with clear patterns
    medium: Representative sampling of codebase
    low: Limited sample or context-dependent judgment
offline:
  capability: full
profiles:
  membership:
    quick:
      included: false
      reason: Requires human judgment for context
    full:
      included: true
      priority: 2
    quality:
      included: true
      priority: 1
closeout_checklist:
- id: vnc-001
  item: Generic variable names audited
  level: BLOCKING
  verification: |
    grep -rn --include="*.py" -E "\b(data|info|temp|tmp)\s*=" . 2>/dev/null | wc -l | awk '{print ($1 < 50) ? "PASS" : "FAIL"}'
  expected: PASS
- id: vnc-002
  item: Single-letter variables minimized
  level: WARNING
  verification: |
    grep -rn --include="*.py" "^\s+[a-hln-z]\s*=" . 2>/dev/null | wc -l | awk '{print ($1 < 20) ? "PASS" : "FAIL"}'
  expected: PASS
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: ISO 25010
    controls:
    - Maintainability
relationships:
  commonly_combined:
  - code-quality.readability.naming-convention
  - code-quality.readability.function-name-descriptiveness
  - code-quality.readability.self-documenting-code
