audit:
  id: code-quality.documentation.changelog-maintenance
  name: Changelog Maintenance Audit
  version: 1.0.0
  last_updated: '2026-01-18'
  status: active
  category: code-quality
  category_number: 6
  subcategory: documentation
  tier: expert
  estimated_duration: 1 hour
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: documentation
  default_profiles:
  - full
  - release
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates changelog maintenance practices including format consistency,
    update frequency, content quality, and semantic versioning alignment.
    Reviews whether changes are properly categorized (added, changed, deprecated,
    removed, fixed, security) and whether the changelog serves its intended
    audiences.
  why_it_matters: |
    Changelogs communicate change impact to users and developers. The
    Keep a Changelog format emphasizes human-readable change documentation
    that helps users understand what changed, why it matters, and what action
    they need to take. Poor changelog maintenance leads to upgrade anxiety,
    missed breaking changes, and reduced trust in the project.
  when_to_run:
  - Before releases
  - During release preparation
  - Quarterly documentation reviews
  - After major changes
prerequisites:
  required_artifacts:
  - type: changelog
    description: CHANGELOG.md file
  - type: release_history
    description: Git tags or releases
  access_requirements:
  - Access to changelog
  - Access to release history
discovery:
  code_patterns:
  - pattern: changelog|CHANGELOG
    type: regex
    scope: documentation
    purpose: Find changelog files
  file_patterns:
  - glob: '**/CHANGELOG.md'
    purpose: Changelog file
  - glob: '**/CHANGES.md'
    purpose: Changes file
  - glob: '**/HISTORY.md'
    purpose: History file
knowledge_sources:
  specifications:
  - id: keep-changelog
    name: Keep a Changelog
    url: https://keepachangelog.com/
    offline_cache: true
    priority: required
  guides:
  - id: semver
    name: Semantic Versioning
    url: https://semver.org/
    offline_cache: true
  - id: clean-code
    name: Robert C. Martin - Clean Code
    url: https://www.oreilly.com/library/view/clean-code-a/9780136083238/
    offline_cache: false
  - id: pragmatic-programmer
    name: The Pragmatic Programmer
    url: https://pragprog.com/titles/tpp20/the-pragmatic-programmer-20th-anniversary-edition/
    offline_cache: false
tooling:
  static_analysis:
  - tool: conventional-changelog
    purpose: Changelog generation
    offline_capable: true
  scripts:
  - id: changelog-check
    language: bash
    purpose: Validate changelog format
    source: inline
    code: |
      # Check changelog structure
      test -f CHANGELOG.md && grep -E "^## \[" CHANGELOG.md | head -10
signals:
  critical:
  - id: CHANGE-CRIT-001
    signal: No changelog exists
    evidence_pattern: missing CHANGELOG.md
    explanation: |
      Project has no changelog, making it impossible for
      users to understand what changed between versions.
    remediation: Create CHANGELOG.md following Keep a Changelog format
  high:
  - id: CHANGE-HIGH-001
    signal: Changelog not updated for releases
    evidence_pattern: releases without changelog entries
    explanation: |
      Releases are made without corresponding changelog entries,
      leaving users uninformed about changes.
    remediation: Update changelog before each release
  - id: CHANGE-HIGH-002
    signal: Breaking changes not highlighted
    evidence_pattern: breaking changes buried in list
    explanation: |
      Breaking changes are not clearly marked, risking upgrade
      failures for users who don't carefully read all changes.
    remediation: Highlight breaking changes prominently with migration guidance
  medium:
  - id: CHANGE-MED-001
    signal: Inconsistent changelog format
    evidence_pattern: format varies between entries
    remediation: Standardize on Keep a Changelog format
  - id: CHANGE-MED-002
    signal: Missing change categories
    evidence_pattern: changes not categorized
    remediation: 'Categorize changes: Added, Changed, Deprecated, Removed, Fixed, Security'
  low:
  - id: CHANGE-LOW-001
    signal: Missing dates on entries
    evidence_pattern: versions without dates
    remediation: Add release dates to all changelog entries
  positive:
  - id: CHANGE-POS-001
    signal: Keep a Changelog format
    evidence_pattern: standard format with categories
  - id: CHANGE-POS-002
    signal: Regular updates
    evidence_pattern: entries for all releases
  - id: CHANGE-POS-003
    signal: Unreleased section maintained
    evidence_pattern: '[Unreleased] section present'
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: documentation-auditor
  steps:
  - id: '1'
    name: Check Changelog Existence
    description: |
      Verify changelog file exists and
      identify its location.
    duration_estimate: 5 min
    commands:
    - purpose: Find changelog file
      command: |
        find . -maxdepth 2 -iname "changelog*" -o -iname "changes*" -o -iname "history*" 2>/dev/null
    - purpose: Check standard location
      command: |
        test -f CHANGELOG.md && echo "CHANGELOG.md exists" || echo "missing"
    expected_findings:
    - Changelog presence
    - File location
  - id: '2'
    name: Validate Format
    description: |
      Review changelog format against
      Keep a Changelog standard.
    duration_estimate: 15 min
    commands:
    - purpose: Check version headers
      command: |
        grep -E "^## \[" CHANGELOG.md 2>/dev/null | head -10
    - purpose: Check categories
      command: |
        grep -E "^### (Added|Changed|Deprecated|Removed|Fixed|Security)" CHANGELOG.md 2>/dev/null | head -10
    expected_findings:
    - Format compliance
    - Category usage
  - id: '3'
    name: Compare with Releases
    description: |
      Verify changelog entries match
      actual releases.
    duration_estimate: 15 min
    commands:
    - purpose: List git tags
      command: |
        git tag --sort=-version:refname 2>/dev/null | head -10
    - purpose: Count changelog versions
      command: |
        grep -E "^## \[" CHANGELOG.md 2>/dev/null | wc -l
    expected_findings:
    - Release coverage
    - Missing entries
  - id: '4'
    name: Review Content Quality
    description: |
      Assess quality and usefulness of
      changelog entries.
    duration_estimate: 15 min
    commands:
    - purpose: Check for dates
      command: |
        grep -E "^## \[.*\].*[0-9]{4}-[0-9]{2}-[0-9]{2}" CHANGELOG.md 2>/dev/null | head -5
    - purpose: Check entry detail
      command: |
        grep -A5 "^## \[" CHANGELOG.md 2>/dev/null | head -30
    expected_findings:
    - Date presence
    - Entry quality
  - id: '5'
    name: Check Unreleased Section
    description: |
      Verify Unreleased section is
      maintained for ongoing changes.
    duration_estimate: 10 min
    commands:
    - purpose: Check for Unreleased
      command: |
        grep -i "unreleased" CHANGELOG.md 2>/dev/null
    - purpose: Check Unreleased content
      command: |
        sed -n '/\[Unreleased\]/,/^## \[/p' CHANGELOG.md 2>/dev/null | head -20
    expected_findings:
    - Unreleased section
    - Pending changes
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Format Assessment
    - Coverage Analysis
    - Quality Review
    - Recommendations
  confidence_guidance:
    high: Complete changelog with proper format
    medium: Changelog exists but format issues
    low: Minimal or missing changelog
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: keep-changelog
      priority: required
profiles:
  membership:
    quick:
      included: true
      priority: 3
    full:
      included: true
      priority: 2
    release:
      included: true
      priority: 1
closeout_checklist:
- id: change-001
  item: CHANGELOG.md exists
  level: REQUIRED
  verification: |
    test -f CHANGELOG.md && echo "exists"
  expected: exists
- id: change-002
  item: Keep a Changelog format
  level: WARNING
  verification: |
    grep -E "^## \[" CHANGELOG.md 2>/dev/null | wc -l
  expected: Greater than 0
- id: change-003
  item: All releases documented
  level: REQUIRED
  verification: Compare tags to changelog
  expected: All releases have entries
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: Keep a Changelog
    controls:
    - Format Standards
  - framework: Semantic Versioning
    controls:
    - Version Communication
relationships:
  commonly_combined:
  - code-quality.documentation.readme-quality
  - code-quality.technical-debt.deprecation-management
  - code-quality.documentation.api-documentation
