audit:
  id: code-quality.documentation.runbook-documentation
  name: Runbook Documentation Audit
  version: 1.0.0
  last_updated: '2026-01-18'
  status: active
  category: code-quality
  category_number: 6
  subcategory: documentation
  tier: expert
  estimated_duration: 2 hours
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  - operations
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates operational runbooks and playbooks that guide incident response,
    deployment procedures, and routine operations. Reviews coverage of failure
    scenarios, clarity of procedures, accuracy of commands, and alignment with
    current system state.
  why_it_matters: |
    Runbooks are critical during incidents when stress is high and time is
    limited. Poor or missing runbooks lead to extended outages, human error,
    and inconsistent responses. Google's SRE book emphasizes that runbooks
    encode operational knowledge and enable anyone on-call to respond
    effectively, reducing mean time to recovery.
  when_to_run:
  - Before production deployment
  - After incidents (postmortem)
  - Quarterly operational reviews
  - When on-call rotation changes
prerequisites:
  required_artifacts:
  - type: documentation
    description: Operational runbooks
  - type: playbooks
    description: Incident response playbooks
  - type: procedures
    description: Deployment procedures
  access_requirements:
  - Access to operations documentation
  - Access to incident history
  - Access to monitoring documentation
discovery:
  code_patterns:
  - pattern: runbook|playbook|procedure
    type: regex
    scope: documentation
    purpose: Find operational docs
  file_patterns:
  - glob: '**/runbooks/**'
    purpose: Runbook directory
  - glob: '**/playbooks/**'
    purpose: Playbook directory
  - glob: '**/docs/ops/**'
    purpose: Operations documentation
  - glob: '**/docs/operations/**'
    purpose: Operations documentation
knowledge_sources:
  specifications:
  - id: sre-book
    name: Google SRE Book
    url: https://sre.google/sre-book/table-of-contents/
    offline_cache: true
    priority: required
  guides:
  - id: runbook-best
    name: Runbook Best Practices
    url: https://www.atlassian.com/incident-management/on-call/runbooks
    offline_cache: true
  - id: clean-code
    name: Robert C. Martin - Clean Code
    url: https://www.oreilly.com/library/view/clean-code-a/9780136083238/
    offline_cache: false
  - id: pragmatic-programmer
    name: The Pragmatic Programmer
    url: https://pragprog.com/titles/tpp20/the-pragmatic-programmer-20th-anniversary-edition/
    offline_cache: false
tooling:
  static_analysis:
  - tool: markdownlint
    purpose: Documentation quality
    offline_capable: true
  scripts:
  - id: runbook-scan
    language: bash
    purpose: Find runbook documentation
    source: inline
    code: |
      # Find runbook-related docs
      find . -name "*.md" -exec grep -l -i "runbook\|playbook\|procedure\|incident" {} \; 2>/dev/null
signals:
  critical:
  - id: RUNBOOK-CRIT-001
    signal: No runbooks exist
    evidence_pattern: absence of operational documentation
    explanation: |
      System has no operational runbooks, leaving on-call
      responders without guidance during incidents.
    remediation: Create runbooks for all critical failure scenarios
  - id: RUNBOOK-CRIT-002
    signal: Runbook commands don't work
    evidence_pattern: incorrect or outdated commands
    explanation: |
      Runbook commands are incorrect or reference systems
      that no longer exist, making them useless during incidents.
    remediation: Test and validate all runbook commands regularly
  high:
  - id: RUNBOOK-HIGH-001
    signal: Missing critical failure scenarios
    evidence_pattern: common failures not documented
    explanation: |
      Runbooks don't cover known failure modes, requiring
      improvisation during incidents.
    remediation: Add runbooks for all known failure scenarios
  - id: RUNBOOK-HIGH-002
    signal: No deployment runbook
    evidence_pattern: missing deployment procedures
    explanation: |
      Deployment procedures are not documented, leading to
      inconsistent deployments and rollback difficulties.
    remediation: Create detailed deployment and rollback procedures
  medium:
  - id: RUNBOOK-MED-001
    signal: Missing verification steps
    evidence_pattern: procedures without validation
    remediation: Add verification steps to confirm actions succeeded
  - id: RUNBOOK-MED-002
    signal: No escalation paths
    evidence_pattern: missing escalation procedures
    remediation: Document escalation paths with contact information
  low:
  - id: RUNBOOK-LOW-001
    signal: Inconsistent runbook format
    evidence_pattern: varying runbook structures
    remediation: Standardize runbook format and template
  positive:
  - id: RUNBOOK-POS-001
    signal: Comprehensive runbook coverage
    evidence_pattern: runbooks for all critical scenarios
  - id: RUNBOOK-POS-002
    signal: Regularly tested runbooks
    evidence_pattern: runbook testing documented
  - id: RUNBOOK-POS-003
    signal: Runbooks linked from alerts
    evidence_pattern: alerting includes runbook links
procedure:
  context:
    cognitive_mode: systematic
    ensemble_role: operations-auditor
  steps:
  - id: '1'
    name: Inventory Runbooks
    description: |
      Find and catalog all existing runbooks
      and operational documentation.
    duration_estimate: 20 min
    commands:
    - purpose: Find runbook directories
      command: |
        find . -type d -iname "runbook*" -o -iname "playbook*" 2>/dev/null
    - purpose: Find runbook files
      command: |
        find . -name "*.md" -exec grep -l -i "runbook\|procedure" {} \; 2>/dev/null
    expected_findings:
    - Runbook inventory
    - Documentation locations
  - id: '2'
    name: Assess Scenario Coverage
    description: |
      Review coverage of failure scenarios
      and operational procedures.
    duration_estimate: 30 min
    commands:
    - purpose: Find incident types
      command: |
        find . -path "*runbook*" -name "*.md" -exec basename {} \; 2>/dev/null | sort
    - purpose: Check for common scenarios
      command: |
        find . -path "*runbook*" -name "*.md" -exec grep -l -i \
          "outage\|failure\|restart\|rollback\|scale" {} \; 2>/dev/null
    expected_findings:
    - Scenario coverage
    - Gap identification
  - id: '3'
    name: Validate Runbook Content
    description: |
      Review runbook quality including
      steps, commands, and verification.
    duration_estimate: 30 min
    commands:
    - purpose: Check for command blocks
      command: |
        find . -path "*runbook*" -name "*.md" -exec grep -c '```' {} \; 2>/dev/null
    - purpose: Check for verification steps
      command: |
        find . -path "*runbook*" -name "*.md" -exec grep -l -i "verify\|confirm\|check" {} \; 2>/dev/null
    expected_findings:
    - Command documentation
    - Verification coverage
  - id: '4'
    name: Review Deployment Procedures
    description: |
      Examine deployment and rollback
      documentation specifically.
    duration_estimate: 20 min
    commands:
    - purpose: Find deployment docs
      command: |
        find . -name "*.md" -exec grep -l -i "deploy\|rollback\|release" {} \; 2>/dev/null
    - purpose: Check CI/CD docs
      command: |
        test -f docs/deployment.md && echo "exists" || echo "missing"
    expected_findings:
    - Deployment documentation
    - Rollback procedures
  - id: '5'
    name: Check Escalation Documentation
    description: |
      Verify escalation paths and contact
      information are documented.
    duration_estimate: 20 min
    commands:
    - purpose: Find escalation docs
      command: |
        find . -name "*.md" -exec grep -l -i "escalat\|contact\|on-call" {} \; 2>/dev/null
    - purpose: Check for contact info
      command: |
        find . -path "*runbook*" -name "*.md" -exec grep -i "slack\|page\|email" {} \; 2>/dev/null | head -10
    expected_findings:
    - Escalation paths
    - Contact information
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Runbook Inventory
    - Coverage Assessment
    - Quality Review
    - Recommendations
  confidence_guidance:
    high: Comprehensive tested runbooks
    medium: Partial coverage with gaps
    low: Minimal operational documentation
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: sre-book
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires operational review
    full:
      included: true
      priority: 2
    operations:
      included: true
      priority: 1
closeout_checklist:
- id: runbook-001
  item: Runbooks exist
  level: CRITICAL
  verification: |
    find . -type d -iname "runbook*" 2>/dev/null | wc -l
  expected: Greater than 0
- id: runbook-002
  item: Critical scenarios covered
  level: BLOCKING
  verification: Manual review of coverage
  agent_alternative: Use static analysis tools to generate metrics; check for existing code review comments
  expected: All critical scenarios documented
- id: runbook-003
  item: Deployment procedures documented
  level: REQUIRED
  verification: |
    find . -name "*.md" -exec grep -l -i "deploy" {} \; 2>/dev/null | wc -l
  expected: Greater than 0
governance:
  applicable_to:
    archetypes:
    - service
    - platform
    - application
  compliance_frameworks:
  - framework: Google SRE
    controls:
    - Runbook Standards
  - framework: ITIL
    controls:
    - Incident Management
relationships:
  commonly_combined:
  - observability-instrumentation.alerting.alert-actionability
  - reliability-resilience.incident-response.incident-procedures
  - code-quality.documentation.onboarding-documentation
