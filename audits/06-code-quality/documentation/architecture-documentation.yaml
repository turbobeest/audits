audit:
  id: code-quality.documentation.architecture-documentation
  name: Architecture Documentation Audit
  version: 1.0.0
  last_updated: '2026-01-18'
  status: active
  category: code-quality
  category_number: 6
  subcategory: documentation
  tier: expert
  estimated_duration: 2 hours
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  - architecture
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates documentation of system architecture including high-level design,
    component interactions, data flows, integration patterns, and architectural
    decisions. Reviews Architecture Decision Records (ADRs), system diagrams,
    and design documentation for completeness and currency.
  why_it_matters: |
    Architecture documentation enables understanding of system design intent
    and constraints. Without it, teams make decisions that conflict with
    original design, accumulate architectural debt, and lose institutional
    knowledge. The C4 model and ADRs provide structured approaches to capturing
    architecture at multiple levels of abstraction.
  when_to_run:
  - Architecture reviews
  - New team member onboarding
  - Major system changes
  - Annual documentation reviews
prerequisites:
  required_artifacts:
  - type: documentation
    description: Architecture documentation
  - type: diagrams
    description: System diagrams
  - type: adr
    description: Architecture decision records
  access_requirements:
  - Access to architecture documentation
  - Access to design documents
  - Access to system diagrams
discovery:
  code_patterns:
  - pattern: architecture|ARCHITECTURE
    type: regex
    scope: documentation
    purpose: Find architecture docs
  file_patterns:
  - glob: '**/ARCHITECTURE.md'
    purpose: Architecture documentation
  - glob: '**/docs/architecture/**'
    purpose: Architecture docs directory
  - glob: '**/adr/**'
    purpose: Architecture Decision Records
  - glob: '**/docs/design/**'
    purpose: Design documentation
knowledge_sources:
  specifications:
  - id: c4-model
    name: C4 Model for Architecture
    url: https://c4model.com/
    offline_cache: true
    priority: required
  guides:
  - id: adr
    name: Architecture Decision Records
    url: https://adr.github.io/
    offline_cache: true
  - id: clean-code
    name: Robert C. Martin - Clean Code
    url: https://www.oreilly.com/library/view/clean-code-a/9780136083238/
    offline_cache: false
  - id: pragmatic-programmer
    name: The Pragmatic Programmer
    url: https://pragprog.com/titles/tpp20/the-pragmatic-programmer-20th-anniversary-edition/
    offline_cache: false
tooling:
  static_analysis:
  - tool: plantuml
    purpose: Diagram validation
    offline_capable: true
  - tool: mermaid
    purpose: Diagram rendering
    offline_capable: true
  scripts:
  - id: arch-doc-scan
    language: bash
    purpose: Find architecture documentation
    source: inline
    code: |
      # Find architecture-related docs
      find . -iname "*architecture*" -o -iname "*design*" -type f 2>/dev/null
signals:
  critical:
  - id: ARCH-DOC-CRIT-001
    signal: No architecture documentation
    evidence_pattern: absence of architecture docs
    explanation: |
      System has no architecture documentation, making it
      impossible to understand design intent and constraints.
    remediation: Create architecture documentation using C4 model or similar
  - id: ARCH-DOC-CRIT-002
    signal: Architecture contradicts implementation
    evidence_pattern: documented architecture differs from code
    explanation: |
      Architecture documentation describes a different system
      than what is implemented, causing confusion.
    remediation: Update architecture docs to reflect actual implementation
  high:
  - id: ARCH-DOC-HIGH-001
    signal: No Architecture Decision Records
    evidence_pattern: missing ADRs
    explanation: |
      Architectural decisions are not recorded, losing the
      context and rationale behind design choices.
    remediation: Implement ADR process for significant decisions
  - id: ARCH-DOC-HIGH-002
    signal: Missing system diagrams
    evidence_pattern: no visual architecture representation
    explanation: |
      No diagrams exist to visualize system architecture,
      requiring code reading to understand structure.
    remediation: Create system diagrams at context, container, and component levels
  medium:
  - id: ARCH-DOC-MED-001
    signal: Outdated architecture diagrams
    evidence_pattern: diagrams not matching current state
    remediation: Update diagrams to reflect current architecture
  - id: ARCH-DOC-MED-002
    signal: Missing integration documentation
    evidence_pattern: external integrations not documented
    remediation: Document all external system integrations
  low:
  - id: ARCH-DOC-LOW-001
    signal: Inconsistent diagram formats
    evidence_pattern: mixed diagram styles
    remediation: Standardize on single diagramming approach
  positive:
  - id: ARCH-DOC-POS-001
    signal: Complete C4 documentation
    evidence_pattern: context, container, component diagrams
  - id: ARCH-DOC-POS-002
    signal: ADR process in place
    evidence_pattern: ADR directory with records
  - id: ARCH-DOC-POS-003
    signal: Current architecture diagrams
    evidence_pattern: recently updated diagrams
procedure:
  context:
    cognitive_mode: holistic
    ensemble_role: architecture-auditor
  steps:
  - id: '1'
    name: Inventory Architecture Documentation
    description: |
      Find all architecture-related documentation
      in the repository.
    duration_estimate: 20 min
    commands:
    - purpose: Find architecture docs
      command: |
        find . -iname "*architecture*" -type f 2>/dev/null
    - purpose: Find design docs
      command: |
        find . -iname "*design*" -type f -path "*docs*" 2>/dev/null
    expected_findings:
    - Documentation inventory
    - File locations
  - id: '2'
    name: Review Architecture Decision Records
    description: |
      Examine ADRs for coverage and quality
      of architectural decisions.
    duration_estimate: 25 min
    commands:
    - purpose: Find ADR directory
      command: |
        find . -type d -iname "adr" -o -iname "decisions" 2>/dev/null
    - purpose: Count ADRs
      command: |
        find . -path "*adr*" -name "*.md" 2>/dev/null | wc -l
    expected_findings:
    - ADR count
    - Decision coverage
  - id: '3'
    name: Assess System Diagrams
    description: |
      Review system diagrams for completeness
      and currency.
    duration_estimate: 25 min
    commands:
    - purpose: Find diagram files
      command: |
        find . -name "*.puml" -o -name "*.mmd" -o -name "*diagram*" 2>/dev/null
    - purpose: Find diagram references
      command: |
        grep -rn --include="*.md" -i "diagram\|![" . | head -20
    expected_findings:
    - Diagram inventory
    - Diagram types
  - id: '4'
    name: Check Documentation Currency
    description: |
      Verify architecture documentation is
      up to date with implementation.
    duration_estimate: 25 min
    commands:
    - purpose: Check doc last modified
      command: |
        find . -iname "*architecture*" -type f -exec stat -c "%Y %n" {} \; 2>/dev/null | \
          sort -rn | head -10
    - purpose: Check recent commits
      command: |
        git log --oneline --since="6 months ago" -- "**/architecture*" "**/design*" 2>/dev/null | head -10
    expected_findings:
    - Update frequency
    - Currency assessment
  - id: '5'
    name: Evaluate Documentation Quality
    description: |
      Assess overall quality and completeness
      of architecture documentation.
    duration_estimate: 25 min
    commands:
    - purpose: Check for key sections
      command: |
        find . -iname "ARCHITECTURE.md" -exec grep -l "overview\|component\|data\|security" {} \; 2>/dev/null
    - purpose: Check integration docs
      command: |
        find . -path "*docs*" -name "*.md" -exec grep -l -i "integration\|external" {} \; 2>/dev/null
    expected_findings:
    - Section coverage
    - Integration documentation
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Documentation Inventory
    - ADR Assessment
    - Currency Review
    - Recommendations
  confidence_guidance:
    high: Complete C4 docs with current ADRs
    medium: Partial documentation with gaps
    low: Minimal or outdated documentation
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: c4-model
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires thorough review
    full:
      included: true
      priority: 2
    architecture:
      included: true
      priority: 1
closeout_checklist:
- id: arch-doc-001
  item: Architecture documentation exists
  level: CRITICAL
  verification: |
    find . -iname "*architecture*" -type f 2>/dev/null | wc -l
  expected: Greater than 0
- id: arch-doc-002
  item: ADR process in place
  level: BLOCKING
  verification: |
    find . -type d -iname "adr" 2>/dev/null | wc -l
  expected: Greater than 0
- id: arch-doc-003
  item: System diagrams current
  level: WARNING
  verification: Manual review of diagrams
  agent_alternative: Use static analysis tools to generate metrics; check for existing code review comments
  expected: Updated within 6 months
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: ISO 25010
    controls:
    - Maintainability
  - framework: arc42
    controls:
    - Documentation Standards
relationships:
  commonly_combined:
  - code-quality.documentation.onboarding-documentation
  - code-quality.documentation.api-documentation
  - architecture-design.modularity.module-boundaries
