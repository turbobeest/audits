audit:
  id: code-quality.technical-debt.tech-debt-inventory
  name: Technical Debt Inventory Audit
  version: 1.0.0
  last_updated: '2026-01-18'
  status: active
  category: code-quality
  category_number: 6
  subcategory: technical-debt
  tier: expert
  estimated_duration: 2 hours
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: codebase
  default_profiles:
  - full
  - maintenance
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Systematically catalogs and documents all known technical debt across the
    codebase including code smells, architectural shortcuts, outdated dependencies,
    workarounds, and deferred improvements. Creates a comprehensive inventory
    that enables informed decision-making about debt remediation priorities.
  why_it_matters: |
    Without a complete inventory, technical debt accumulates invisibly until it
    causes development velocity collapse. Research by Martin Fowler and Ward
    Cunningham shows that undocumented debt compounds interest - teams repeatedly
    work around the same issues, duplicate effort, and make decisions without
    awareness of existing constraints. A living inventory enables strategic
    debt management.
  when_to_run:
  - Quarterly technical health assessments
  - Before major feature development
  - During sprint planning
  - After acquisition or team changes
prerequisites:
  required_artifacts:
  - type: source_code
    description: Complete codebase access
  - type: documentation
    description: Existing tech debt records if any
  - type: issue_tracker
    description: Access to issue tracking system
  access_requirements:
  - Read access to all source code
  - Access to issue tracking system
  - Access to code review history
discovery:
  code_patterns:
  - pattern: (TODO|FIXME|HACK|XXX|KLUDGE|WORKAROUND)
    type: regex
    scope: source
    purpose: Find acknowledged debt markers
  - pattern: '@deprecated|@obsolete'
    type: regex
    scope: source
    purpose: Find deprecated code
  - pattern: (tech.?debt|technical.?debt)
    type: regex
    scope: comments
    purpose: Find explicit debt references
  - pattern: temporary|temp_|_tmp|quick.?fix
    type: regex
    scope: source
    purpose: Find temporary solutions
  file_patterns:
  - glob: '**/DEBT.md'
    purpose: Technical debt documentation
  - glob: '**/TODO.md'
    purpose: TODO documentation
  - glob: '**/.todo'
    purpose: Todo files
knowledge_sources:
  specifications:
  - id: fowler-tech-debt
    name: 'Martin Fowler: Technical Debt'
    url: https://martinfowler.com/bliki/TechnicalDebt.html
    offline_cache: true
    priority: recommended
  guides:
  - id: tech-debt-quadrant
    name: Technical Debt Quadrant
    url: https://martinfowler.com/bliki/TechnicalDebtQuadrant.html
    offline_cache: true
  - id: refactoring-fowler
    name: Martin Fowler - Refactoring
    url: https://refactoring.com/
    offline_cache: false
  - id: refactoring-catalog
    name: Refactoring Catalog
    url: https://refactoring.com/catalog/
    offline_cache: false
  - id: clean-code
    name: Robert C. Martin - Clean Code
    url: https://www.oreilly.com/library/view/clean-code-a/9780136083238/
    offline_cache: false
tooling:
  static_analysis:
  - tool: sonarqube
    purpose: Code quality and debt metrics
    offline_capable: false
  - tool: codeclimate
    purpose: Technical debt assessment
    offline_capable: false
  scripts:
  - id: debt-marker-scan
    language: bash
    purpose: Scan for debt markers
    source: inline
    code: |
      # Count and categorize debt markers
      grep -rn --include="*.{js,ts,py,java,go,rb,cs}" \
        -E "(TODO|FIXME|HACK|XXX)" . | \
        awk -F: '{print $1}' | sort | uniq -c | sort -rn
signals:
  critical:
  - id: DEBT-INV-CRIT-001
    signal: No debt tracking mechanism
    evidence_pattern: absence of debt documentation
    explanation: |
      Project has no mechanism to track technical debt. This indicates
      debt is accumulating invisibly and decisions are made without
      awareness of existing constraints.
    remediation: Implement debt inventory system with categorization and tracking
  high:
  - id: DEBT-INV-HIGH-001
    signal: Excessive TODO/FIXME markers
    evidence_pattern: (TODO|FIXME).*count > 50
    explanation: |
      High volume of debt markers indicates significant accumulated
      debt that may be impacting development velocity.
    remediation: Audit and prioritize existing markers; create remediation plan
  - id: DEBT-INV-HIGH-002
    signal: Stale debt markers (over 1 year old)
    evidence_pattern: (TODO|FIXME).*created > 1 year ago
    explanation: |
      Old debt markers indicate abandoned improvement intentions.
      Stale debt accumulates interest through workarounds.
    remediation: Review old markers; either address or remove if no longer relevant
  medium:
  - id: DEBT-INV-MED-001
    signal: Untracked HACK markers
    evidence_pattern: HACK|KLUDGE
    remediation: Document all hacks in debt inventory with impact assessment
  - id: DEBT-INV-MED-002
    signal: Scattered debt documentation
    evidence_pattern: debt info in multiple disconnected locations
    remediation: Centralize debt tracking in single authoritative source
  low:
  - id: DEBT-INV-LOW-001
    signal: Missing debt categorization
    evidence_pattern: debt tracked but not categorized
    remediation: 'Categorize debt by type: code, architecture, testing, dependencies'
  positive:
  - id: DEBT-INV-POS-001
    signal: Structured debt inventory exists
    evidence_pattern: DEBT.md or debt tracking system
  - id: DEBT-INV-POS-002
    signal: Debt markers include ticket references
    evidence_pattern: (TODO|FIXME).*#[0-9]+
procedure:
  context:
    cognitive_mode: methodical
    ensemble_role: cataloger
  steps:
  - id: '1'
    name: Scan Debt Markers
    description: |
      Search codebase for all TODO, FIXME, HACK, and similar
      markers indicating acknowledged technical debt.
    duration_estimate: 25 min
    commands:
    - purpose: Find all debt markers
      command: |
        grep -rn --include="*.{js,ts,py,java,go,rb,cs}" -E \
          "(TODO|FIXME|HACK|XXX|KLUDGE)" .
    - purpose: Count markers by file
      command: |
        grep -rn --include="*.{js,ts,py,java,go,rb,cs}" -E \
          "(TODO|FIXME|HACK)" . | cut -d: -f1 | sort | uniq -c | sort -rn
    expected_findings:
    - Categorized debt markers
    - High-concentration files identified
  - id: '2'
    name: Review Deprecated Code
    description: |
      Identify all deprecated code, APIs, and patterns that
      represent technical debt.
    duration_estimate: 20 min
    commands:
    - purpose: Find deprecated markers
      command: |
        grep -rn --include="*.{js,ts,py,java,go,rb,cs}" -E \
          "@deprecated|@obsolete|deprecated" .
    - purpose: Find legacy patterns
      command: |
        grep -rn --include="*.{js,ts,py,java,go,rb,cs}" -E \
          "legacy|old_|_old|v1_|_v1" .
    expected_findings:
    - Deprecated code catalog
    - Migration candidates
  - id: '3'
    name: Analyze Issue Tracker
    description: |
      Review issue tracking system for tech debt tickets,
      backlog items, and improvement requests.
    duration_estimate: 25 min
    commands:
    - purpose: Search for debt issues
      command: |
        # If using GitHub
        gh issue list --label "tech-debt" --state all
    expected_findings:
    - Tracked debt items
    - Backlog debt items
  - id: '4'
    name: Check Code Review History
    description: |
      Review code review comments for deferred improvements
      and acknowledged shortcuts.
    duration_estimate: 20 min
    commands:
    - purpose: Search PR comments for debt
      command: |
        # If using GitHub
        gh pr list --state merged --json number,title,body | \
          jq '.[] | select(.body | test("tech.*debt|TODO|FIXME"; "i"))'
    expected_findings:
    - Deferred improvements
    - Acknowledged shortcuts
  - id: '5'
    name: Compile Debt Inventory
    description: |
      Create comprehensive inventory document categorizing
      all identified technical debt.
    duration_estimate: 30 min
    commands:
    - purpose: Generate inventory template
      command: |
        echo "# Technical Debt Inventory" > DEBT_INVENTORY.md
        echo "Generated: $(date)" >> DEBT_INVENTORY.md
    expected_findings:
    - Complete debt catalog
    - Categorized by type and severity
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Debt Inventory Overview
    - Categorized Debt List
    - High-Impact Items
    - Recommendations
  confidence_guidance:
    high: Comprehensive inventory with categorization
    medium: Partial inventory with gaps
    low: Limited visibility into debt
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: fowler-tech-debt
      priority: recommended
profiles:
  membership:
    quick:
      included: true
      priority: 3
    full:
      included: true
      priority: 2
    maintenance:
      included: true
      priority: 1
closeout_checklist:
- id: debt-inv-001
  item: All debt markers cataloged
  level: REQUIRED
  verification: |
    grep -rn --include="*.{js,ts,py,java,go}" -E "(TODO|FIXME|HACK)" . | wc -l
  expected: Documented count matches actual
- id: debt-inv-002
  item: Debt inventory document exists
  level: REQUIRED
  verification: |
    test -f DEBT.md || test -f docs/DEBT_INVENTORY.md && echo "exists"
  expected: exists
- id: debt-inv-003
  item: Debt categorized by type
  level: WARNING
  verification: Manual review of inventory
  agent_alternative: Use static analysis tools to generate metrics; check for existing code review comments
  expected: Categories defined and applied
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: ISO 25010
    controls:
    - Maintainability
  - framework: CMMI
    controls:
    - Technical Debt Management
relationships:
  commonly_combined:
  - code-quality.technical-debt.tech-debt-tracking
  - code-quality.technical-debt.debt-prioritization
  - code-quality.technical-debt.refactoring-backlog
