audit:
  id: code-quality.technical-debt.debt-prevention
  name: Debt Prevention Audit
  version: 1.0.0
  last_updated: '2026-01-18'
  status: active
  category: code-quality
  category_number: 6
  subcategory: technical-debt
  tier: expert
  estimated_duration: 1.5 hours
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: process
  default_profiles:
  - full
  - quality
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates practices, tools, and processes that prevent technical debt from
    being introduced. Reviews code review standards, quality gates, definition
    of done, architecture decision processes, and team practices that catch
    debt before it enters the codebase.
  why_it_matters: |
    Preventing debt is far more cost-effective than remediating it later.
    Martin Fowler's debt quadrant shows that deliberate, prudent debt can be
    managed, but inadvertent debt accumulates silently. Prevention practices
    like code review, quality gates, and clear standards catch debt at the
    point of creation when it's cheapest to address.
  when_to_run:
  - Process improvement initiatives
  - After quality issues
  - Team onboarding reviews
  - Quarterly retrospectives
prerequisites:
  required_artifacts:
  - type: process_documentation
    description: Development workflow documentation
  - type: ci_configuration
    description: CI/CD pipeline configuration
  - type: review_guidelines
    description: Code review guidelines
  access_requirements:
  - Access to development process documentation
  - Access to CI/CD configuration
  - Access to code review history
discovery:
  code_patterns:
  - pattern: quality.?gate|definition.?of.?done
    type: regex
    scope: documentation
    purpose: Find quality standards
  file_patterns:
  - glob: '**/.github/workflows/*.yml'
    purpose: CI/CD configurations
  - glob: '**/CONTRIBUTING.md'
    purpose: Contribution guidelines
  - glob: '**/.eslintrc*'
    purpose: Linting configuration
  - glob: '**/sonar-project.properties'
    purpose: Quality tool configuration
knowledge_sources:
  specifications:
  - id: fowler-quadrant
    name: Technical Debt Quadrant
    url: https://martinfowler.com/bliki/TechnicalDebtQuadrant.html
    offline_cache: true
    priority: required
  guides:
  - id: code-review
    name: Code Review Best Practices
    url: https://google.github.io/eng-practices/review/
    offline_cache: true
  - id: refactoring-fowler
    name: Martin Fowler - Refactoring
    url: https://refactoring.com/
    offline_cache: false
  - id: refactoring-catalog
    name: Refactoring Catalog
    url: https://refactoring.com/catalog/
    offline_cache: false
  - id: clean-code
    name: Robert C. Martin - Clean Code
    url: https://www.oreilly.com/library/view/clean-code-a/9780136083238/
    offline_cache: false
tooling:
  static_analysis:
  - tool: eslint
    purpose: Code quality enforcement
    offline_capable: true
  - tool: sonarqube
    purpose: Quality gates
    offline_capable: false
  - tool: prettier
    purpose: Formatting enforcement
    offline_capable: true
  scripts:
  - id: prevention-audit
    language: bash
    purpose: Check prevention mechanisms
    source: inline
    code: |
      # Check for quality configurations
      ls -la .eslintrc* .prettierrc* sonar-project.properties 2>/dev/null
signals:
  critical:
  - id: PREV-CRIT-001
    signal: No quality gates in CI
    evidence_pattern: CI without quality checks
    explanation: |
      CI pipeline has no quality gates, allowing debt to enter
      without any automated prevention.
    remediation: Add quality gates to CI pipeline (linting, tests, coverage)
  - id: PREV-CRIT-002
    signal: No code review process
    evidence_pattern: direct commits to main
    explanation: |
      Code is merged without review, missing human verification
      of quality and debt prevention.
    remediation: Implement mandatory code review for all changes
  high:
  - id: PREV-HIGH-001
    signal: Bypassed quality checks
    evidence_pattern: skip-ci or force merge usage
    explanation: |
      Quality checks are regularly bypassed, negating their
      debt prevention value.
    remediation: Restrict bypass permissions and audit bypass usage
  - id: PREV-HIGH-002
    signal: No definition of done
    evidence_pattern: missing DoD documentation
    explanation: |
      Without clear done criteria, debt-laden code can be
      considered complete and merged.
    remediation: Define and enforce definition of done including quality criteria
  medium:
  - id: PREV-MED-001
    signal: Inconsistent review standards
    evidence_pattern: variable review rigor
    remediation: Document and enforce consistent review guidelines
  - id: PREV-MED-002
    signal: Missing architectural review
    evidence_pattern: no architecture decision process
    remediation: Implement ADR process for significant changes
  low:
  - id: PREV-LOW-001
    signal: No debt-specific review criteria
    evidence_pattern: debt not in review checklist
    remediation: Add debt assessment to review checklist
  positive:
  - id: PREV-POS-001
    signal: Quality gates in CI
    evidence_pattern: linting and testing in pipeline
  - id: PREV-POS-002
    signal: Mandatory code review
    evidence_pattern: branch protection with reviews
  - id: PREV-POS-003
    signal: ADR process
    evidence_pattern: architecture decision records
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: process-auditor
  steps:
  - id: '1'
    name: Review CI/CD Quality Gates
    description: |
      Examine CI/CD pipeline for quality checks
      that prevent debt introduction.
    duration_estimate: 20 min
    commands:
    - purpose: Check CI configuration
      command: |
        cat .github/workflows/*.yml 2>/dev/null | \
          grep -i "lint\|test\|sonar\|quality" | head -20
    - purpose: Check for quality tools
      command: |
        ls -la .eslintrc* .prettierrc* sonar-project.properties \
          .codeclimate.yml 2>/dev/null
    expected_findings:
    - Quality gate inventory
    - Enforcement status
  - id: '2'
    name: Assess Code Review Process
    description: |
      Review code review practices and
      their debt prevention effectiveness.
    duration_estimate: 20 min
    commands:
    - purpose: Check branch protection
      command: |
        gh api repos/{owner}/{repo}/branches/main/protection 2>/dev/null | \
          jq '.required_pull_request_reviews'
    - purpose: Check review guidelines
      command: |
        cat CONTRIBUTING.md 2>/dev/null | grep -i "review" | head -10
    expected_findings:
    - Review requirements
    - Guideline coverage
  - id: '3'
    name: Check Definition of Done
    description: |
      Verify existence and content of
      definition of done criteria.
    duration_estimate: 15 min
    commands:
    - purpose: Find DoD documentation
      command: |
        find . -iname "*definition*done*" -o -iname "*dod*" 2>/dev/null
    - purpose: Check PR template
      command: |
        cat .github/PULL_REQUEST_TEMPLATE.md 2>/dev/null | head -30
    expected_findings:
    - DoD existence
    - Quality criteria
  - id: '4'
    name: Review Architecture Decisions
    description: |
      Examine process for making architecture
      decisions that avoid debt.
    duration_estimate: 20 min
    commands:
    - purpose: Find ADR directory
      command: |
        find . -type d -iname "adr" -o -iname "decisions" 2>/dev/null
    - purpose: Count ADRs
      command: |
        find . -path "*adr*" -name "*.md" 2>/dev/null | wc -l
    expected_findings:
    - ADR process
    - Decision documentation
  - id: '5'
    name: Evaluate Team Practices
    description: |
      Review team practices that contribute
      to debt prevention.
    duration_estimate: 15 min
    commands:
    - purpose: Check for style guides
      command: |
        find . -iname "*style*" -o -iname "*coding*standard*" 2>/dev/null
    - purpose: Check for templates
      command: |
        ls -la .github/ISSUE_TEMPLATE/ .github/PULL_REQUEST_TEMPLATE* 2>/dev/null
    expected_findings:
    - Team standards
    - Template usage
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Quality Gates Assessment
    - Review Process Evaluation
    - Standards and Practices
    - Recommendations
  confidence_guidance:
    high: Comprehensive prevention mechanisms
    medium: Partial prevention with gaps
    low: Limited prevention practices
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: fowler-quadrant
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires process evaluation
    full:
      included: true
      priority: 2
    quality:
      included: true
      priority: 1
closeout_checklist:
- id: prev-001
  item: Quality gates in CI
  level: CRITICAL
  verification: |
    cat .github/workflows/*.yml 2>/dev/null | grep -i "lint\|test" | wc -l
  expected: Greater than 0
- id: prev-002
  item: Code review required
  level: BLOCKING
  verification: |
    gh api repos/{owner}/{repo}/branches/main/protection 2>/dev/null
  expected: Review required
- id: prev-003
  item: Definition of done exists
  level: WARNING
  verification: |
    find . -iname "*definition*done*" -o -iname "*dod*" 2>/dev/null | wc -l
  expected: Greater than 0
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: ISO 25010
    controls:
    - Maintainability
  - framework: CMMI
    controls:
    - Process Quality
relationships:
  commonly_combined:
  - code-quality.code-review.review-effectiveness
  - code-quality.static-analysis.linting-configuration
  - code-quality.testing.test-coverage
