audit:
  id: code-quality.test-code-quality.test-naming
  name: Test Naming Audit
  version: 1.0.0
  last_updated: '2026-01-18'
  status: active
  category: code-quality
  category_number: 6
  subcategory: test-code-quality
  tier: expert
  estimated_duration: 30 minutes
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: 'yes'
  severity: medium
  scope: testing
  default_profiles:
  - full
  - quality
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates test naming conventions across the test suite to ensure tests
    clearly communicate what behavior is being verified and under what conditions.
    This includes examining test method names, describe/context blocks, and
    test file organization.
  why_it_matters: |
    Good test names serve as documentation. When a test fails, the name should
    immediately communicate what broke. Poorly named tests waste time during
    debugging, make code review difficult, and reduce the value of test output
    reports. Consistent naming enables better test organization and discovery.
  when_to_run:
  - During code reviews
  - Test suite refactoring
  - Style guide establishment
  - CI/CD configuration
prerequisites:
  required_artifacts:
  - type: test_code
    description: Test files
  access_requirements:
  - Read access to test directories
discovery:
  code_patterns:
  - pattern: describe\(['"]\w+['"]
    type: regex
    scope: testing
    purpose: Find describe block names
  - pattern: it\(['"][^'"]+['"]
    type: regex
    scope: testing
    purpose: Find test case names
  - pattern: def test_\w+
    type: regex
    scope: testing
    purpose: Find Python test method names
  - pattern: func Test\w+\(t \*testing\.T\)
    type: regex
    scope: testing
    purpose: Find Go test function names
  file_patterns:
  - glob: '**/*.test.{js,ts,jsx,tsx}'
    purpose: Jest/Vitest test files
  - glob: '**/*.spec.{js,ts,jsx,tsx}'
    purpose: Spec files
  - glob: '**/test_*.py'
    purpose: Python pytest files
  - glob: '**/*_test.go'
    purpose: Go test files
knowledge_sources:
  guides:
  - id: better-specs
    name: Better Specs - RSpec Guidelines
    url: https://www.betterspecs.org/
    offline_cache: true
  - id: google-testing-naming
    name: Google Testing Blog - Test Naming
    url: https://testing.googleblog.com/2014/10/testing-on-toilet-writing-descriptive.html
    offline_cache: true
  - id: xunit-patterns
    name: 'xUnit Test Patterns: Refactoring Test Code'
    url: https://www.amazon.com/xUnit-Test-Patterns-Refactoring-Code/dp/0131495054
    offline_cache: false
  - id: working-effectively-legacy
    name: Working Effectively with Legacy Code
    url: https://www.oreilly.com/library/view/working-effectively-with/0131177052/
    offline_cache: false
  learning_resources:
  - id: osherove-naming
    title: Naming Standards for Unit Tests
    type: article
    reference: Roy Osherove's naming convention
tooling:
  static_analysis:
  - tool: eslint-plugin-jest
    purpose: Jest test naming enforcement
    offline_capable: true
  scripts:
  - id: test-naming-scan
    language: bash
    purpose: Analyze test naming patterns
    source: inline
    code: |
      echo "=== Test Naming Pattern Analysis ==="
      echo "--- Descriptive names (should/when/given) ---"
      grep -rn "it('should\|test('.*should\|test_.*_should_\|Test.*Should" \
        --include="*.test.js" --include="*.spec.ts" --include="test_*.py" --include="*_test.go" . 2>/dev/null | wc -l

      echo "--- Non-descriptive names ---"
      grep -rn "it('\(test\|foo\|bar\|baz\)'\|test('[a-z]\{1,5\}')" \
        --include="*.test.js" --include="*.spec.ts" . 2>/dev/null | head -20

      echo "--- Numeric test names ---"
      grep -rn "test[0-9]\|test_[0-9]\|Test[0-9]" \
        --include="*.test.js" --include="*.spec.ts" --include="test_*.py" --include="*_test.go" . 2>/dev/null | head -20
signals:
  critical:
  - id: TNAME-CRIT-001
    signal: Test names are completely generic (test1, test2, etc.)
    evidence_pattern: def test_\d+|func Test\d+|it\('test\d+'
    explanation: |
      Generic numbered test names provide zero information about what
      is being tested. Failures are meaningless without reading the code.
    remediation: 'Rename using pattern: MethodName_StateUnderTest_ExpectedBehavior'
  - id: TNAME-CRIT-002
    signal: Test names describe implementation, not behavior
    evidence_pattern: test.*calls.*method|test.*returns.*object
    explanation: |
      Tests named after implementation details break when refactoring
      and don't communicate what user-visible behavior is verified.
    remediation: Focus names on expected behavior from user perspective
  high:
  - id: TNAME-HIGH-001
    signal: Test names too short to be descriptive (<15 chars)
    evidence_pattern: it\('[^']{1,14}'\)|test('[^']{1,14}')
    explanation: |
      Very short test names can't adequately describe the scenario
      being tested. They fail to serve as documentation.
    remediation: Expand names to include state and expected outcome
  - id: TNAME-HIGH-002
    signal: Inconsistent naming conventions across test suite
    evidence_pattern: Mixed should/when/given patterns
    explanation: |
      Inconsistent naming makes the test suite harder to navigate
      and understand. It indicates lack of coding standards.
    remediation: Standardize on a single naming convention
  medium:
  - id: TNAME-MED-001
    signal: Test names don't indicate the system under test
    remediation: Include class/module name in describe blocks
    evidence_description: describe('[a-z]+' without class/module name
  - id: TNAME-MED-002
    signal: Nested describe blocks without context
    evidence_pattern: describe.*describe.*describe
    remediation: Use 'context' or 'when' for nested scenarios
  - id: TNAME-MED-003
    signal: Test file names don't match source files
    evidence_pattern: 'Source: user.js, Test: tests.js'
    remediation: Match test file names to source files (user.test.js)
  low:
  - id: TNAME-LOW-001
    signal: Test names use abbreviations
    evidence_pattern: test.*usr|test.*cfg|test.*btn
    remediation: Use full words for clarity
  - id: TNAME-LOW-002
    signal: Test names include redundant words
    evidence_pattern: test.*test.*test|should.*should
    remediation: Remove redundant terms
  positive:
  - id: TNAME-POS-001
    signal: Consistent use of 'should' convention
    evidence_pattern: it('should|def test_.*_should
  - id: TNAME-POS-002
    signal: Given-When-Then naming pattern
    evidence_pattern: given.*when.*then|_given_.*_when_.*_then
  - id: TNAME-POS-003
    signal: Test names read as specifications
    evidence_pattern: Names form complete sentences describing behavior
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Extract Test Names
    description: |
      Collect all test names from the codebase for analysis.
    duration_estimate: 10 min
    commands:
    - purpose: Extract JavaScript/TypeScript test names
      command: |
        grep -rn "it('\|it(\"\|test('\|test(\"" --include="*.test.js" --include="*.spec.ts" . 2>/dev/null | \
        grep -v node_modules | head -100
    - purpose: Extract Python test names
      command: |
        grep -rn "def test_" --include="test_*.py" . 2>/dev/null | head -100
    - purpose: Extract Go test names
      command: |
        grep -rn "func Test" --include="*_test.go" . 2>/dev/null | head -100
    expected_findings:
    - Complete test name inventory
    - Test count by file
  - id: '2'
    name: Analyze Naming Patterns
    description: |
      Categorize test names by their naming convention.
    duration_estimate: 10 min
    commands:
    - purpose: Count 'should' pattern
      command: |
        grep -rn "it('should\|test.*should" --include="*.test.js" --include="*.spec.ts" --include="test_*.py" . 2>/dev/null | wc -l
    - purpose: Count 'when/given' pattern
      command: |
        grep -rn "when\|given" --include="*.test.js" --include="*.spec.ts" --include="test_*.py" . 2>/dev/null | wc -l
    - purpose: Count poor names
      command: |
        grep -rn "test[0-9]\|it('[a-z]\{1,5\}')" --include="*.test.js" --include="*.spec.ts" --include="test_*.py" . 2>/dev/null | wc -l
    expected_findings:
    - Naming pattern distribution
    - Convention compliance rate
  - id: '3'
    name: Check Describe Block Organization
    description: |
      Evaluate the organization of describe/context blocks.
    duration_estimate: 5 min
    commands:
    - purpose: Find describe blocks
      command: |
        grep -rn "describe('\|describe(\"" --include="*.test.js" --include="*.spec.ts" . 2>/dev/null | \
        grep -v node_modules | head -50
    expected_findings:
    - Describe block organization
    - Nesting depth
  - id: '4'
    name: Generate Naming Report
    description: |
      Compile findings into a naming convention compliance report.
    duration_estimate: 5 min
    expected_findings:
    - Naming convention compliance score
    - Priority fix list
    - Standardization recommendations
output:
  deliverables:
  - type: finding_list
    format: structured
    content:
    - naming_violations
    - pattern_distribution
    - recommended_names
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Naming Convention Analysis
    - Standardization Recommendations
  confidence_guidance:
    high: Pattern-matched naming violations
    medium: Inconsistency detection
    low: Subjective naming quality assessment
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: better-specs
      priority: recommended
profiles:
  membership:
    quick:
      included: true
      priority: 3
    full:
      included: true
      priority: 2
    quality:
      included: true
      priority: 1
closeout_checklist:
- id: tname-001
  item: No generic numbered test names
  level: CRITICAL
  verification: grep -rn 'test[0-9]' --include='*.test.js' --include='test_*.py'
  expected: Zero matches
- id: tname-002
  item: Naming convention documented
  level: BLOCKING
  verification: Team has agreed-upon naming standard
  expected: Documented convention
- id: tname-003
  item: High compliance rate (>80%)
  level: WARNING
  verification: Pattern analysis completed
  expected: '>80% convention compliance'
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: ISO 25010
    controls:
    - Maintainability
relationships:
  commonly_combined:
  - code-quality.test-code-quality.test-readability
  - code-quality.test-code-quality.arrange-act-assert-pattern
