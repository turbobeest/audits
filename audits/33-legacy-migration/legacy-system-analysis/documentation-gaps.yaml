audit:
  id: legacy-migration.legacy-system-analysis.documentation-gaps
  name: Documentation Gaps Analysis Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: legacy-migration
  category_number: 33
  subcategory: legacy-system-analysis
  tier: expert
  estimated_duration: 4-6 hours  # median: 5h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: system
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Identifies missing, outdated, or incomplete documentation for legacy systems
    including architecture diagrams, API documentation, operational runbooks,
    deployment procedures, and business logic explanations. This audit compares
    actual system behavior against available documentation to find gaps that
    impede maintenance and migration efforts.
  why_it_matters: |
    Missing documentation makes legacy systems expensive and risky to maintain.
    Engineers must reverse-engineer behavior, make assumptions, or rely on tribal
    knowledge. Documentation gaps are especially critical during migrations when
    accurate understanding of existing behavior is essential.
  when_to_run:
  - Before migration planning begins
  - During onboarding of new team members
  - When maintenance becomes unexpectedly difficult
  - As part of legacy system assessment
prerequisites:
  required_artifacts:
  - type: documentation_repository
    description: All available system documentation
  - type: source_code
    description: Codebase for documentation coverage analysis
  - type: architecture_diagrams
    description: Existing architecture documentation
  access_requirements:
  - Access to documentation systems
  - Read access to source repositories
  - Access to internal wikis and knowledge bases
discovery:
  file_patterns:
  - glob: '**/README*'
    purpose: Find project readme files
  - glob: '**/docs/**'
    purpose: Find documentation directories
  - glob: '**/*.md'
    purpose: Find markdown documentation
  - glob: '**/swagger*.{json,yaml}'
    purpose: Find API documentation
  - glob: '**/openapi*.{json,yaml}'
    purpose: Find OpenAPI specifications
  interview_questions:
  - role: Developer
    questions:
    - What documentation do you wish existed?
    - How do you learn how a system works?
    - What documentation is outdated or incorrect?
  - role: Operations Engineer
    questions:
    - Are runbooks accurate and complete?
    - What procedures are undocumented?
    - How do you troubleshoot issues without documentation?
knowledge_sources:
  guides:
  - id: diátaxis
    name: Diátaxis Documentation Framework
    url: https://diataxis.fr/
  - id: arc42
    name: arc42 Architecture Documentation
    url: https://arc42.org/
  standards:
  - id: ieee-830
    name: IEEE 830 Software Requirements Specification
    relevance: Requirements documentation standards
tooling:
  analysis_tools:
  - tool: swagger-cli
    purpose: Validate API documentation completeness
    command: swagger-cli validate openapi.yaml
  - tool: doc-coverage
    purpose: Measure code documentation coverage
  - tool: pydocstyle
    purpose: Python docstring checking
    command: pydocstyle src/
  - tool: checkstyle
    purpose: Java documentation verification
signals:
  critical:
  - id: DGA-CRIT-001
    signal: No architecture documentation exists for critical system
    evidence_indicators:
    - No system diagrams or architecture decision records
    - Component interactions undocumented
    - Data flows unknown
    explanation: |
      Without architecture documentation, understanding system behavior
      requires expensive reverse engineering. This makes safe modifications
      nearly impossible.
    remediation: Commission architecture documentation project immediately
  - id: DGA-CRIT-002
    signal: Operational runbooks missing for production systems
    evidence_indicators:
    - No incident response procedures documented
    - Recovery procedures unknown
    - On-call must improvise during incidents
    explanation: |
      Missing operational documentation extends incident resolution time
      and increases likelihood of errors during high-stress situations.
    remediation: Create runbooks for all critical operational procedures
  high:
  - id: DGA-HIGH-001
    signal: API documentation does not match implementation
    remediation: Update API documentation to reflect current behavior
  - id: DGA-HIGH-002
    signal: Business logic undocumented in complex modules
    remediation: Document business rules and decision logic
  - id: DGA-HIGH-003
    signal: Deployment procedures incomplete or outdated
    remediation: Update deployment documentation with current procedures
  medium:
  - id: DGA-MED-001
    signal: Code comments sparse or misleading
    remediation: Add documentation during maintenance activities
  - id: DGA-MED-002
    signal: Configuration options undocumented
    remediation: Document all configuration parameters and defaults
  low:
  - id: DGA-LOW-001
    signal: Minor documentation formatting inconsistencies
    remediation: Standardize documentation format during updates
  - id: DGA-LOW-002
    signal: Historical decision rationale not recorded
    remediation: Begin capturing architectural decision records (ADRs)
  positive:
  - id: DGA-POS-001
    signal: Comprehensive documentation covering architecture, API, and operations
  - id: DGA-POS-002
    signal: Documentation kept current with regular reviews
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Existing Documentation
    description: Catalog all available documentation
    duration_estimate: 1 hour
  - id: '2'
    name: Define Documentation Requirements
    description: Establish what documentation should exist
    duration_estimate: 30 minutes
  - id: '3'
    name: Compare Against Requirements
    description: Identify missing documentation types
    duration_estimate: 1 hour
  - id: '4'
    name: Verify Accuracy
    description: Check existing documentation against actual system
    duration_estimate: 2 hours
  - id: '5'
    name: Assess Documentation Quality
    description: Evaluate completeness and clarity
    duration_estimate: 1 hour
  - id: '6'
    name: Prioritize Gap Remediation
    description: Rank documentation needs by impact
    duration_estimate: 30 minutes
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Documentation Inventory
    - Gap Analysis
    - Accuracy Assessment
    - Remediation Priorities
closeout_checklist:
- id: dga-001
  item: All existing documentation catalogued
  level: WARNING
  verification: manual
- id: dga-002
  item: Documentation gaps identified and prioritized
  level: WARNING
  verification: manual
- id: dga-003
  item: Accuracy of critical documentation verified
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - legacy-systems
    - multi-team-environments
    - regulated-industries
  compliance_mappings:
  - framework: ISO 27001
    control: A.8.1.1
    description: Inventory of assets
  - framework: SOC 2
    control: CC2.2
    description: Information and communication
relationships:
  commonly_combined:
  - documentation.api-documentation
  - documentation.architecture-documentation
  depends_on:
  - inventory.system-inventory
  feeds_into:
  - legacy-migration.migration-planning.knowledge-requirements
  - legacy-migration.legacy-system-analysis.knowledge-concentration
