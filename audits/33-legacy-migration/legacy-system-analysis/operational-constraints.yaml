audit:
  id: legacy-migration.legacy-system-analysis.operational-constraints
  name: Operational Constraints Analysis Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: legacy-migration
  category_number: 33
  subcategory: legacy-system-analysis
  tier: expert
  estimated_duration: 4-6 hours  # median: 5h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: system
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Identifies operational constraints and limitations of legacy systems including
    maintenance windows, deployment restrictions, scalability limits, performance
    bottlenecks, and operational procedures that must be preserved during migration.
    This audit documents the operational reality that any replacement must accommodate.
  why_it_matters: |
    Migration plans that ignore operational constraints fail. Understanding when
    systems can be modified, how they must be deployed, and what operational
    procedures exist ensures migration plans are realistic. These constraints
    often dictate migration approach and timeline.
  when_to_run:
  - During migration planning
  - When evaluating replacement options
  - Before modernization projects
  - As part of system assessment
prerequisites:
  required_artifacts:
  - type: runbooks
    description: Operational procedures and runbooks
  - type: deployment_procedures
    description: Current deployment documentation
  - type: monitoring_data
    description: Performance and utilization metrics
  access_requirements:
  - Access to operations team
  - Production metrics visibility
  - Change management records
  - Incident history
discovery:
  file_patterns:
  - glob: '**/runbook*'
    purpose: Find operational runbooks
  - glob: '**/deployment*'
    purpose: Find deployment documentation
  - glob: '**/CHANGELOG*'
    purpose: Find change history
  interview_questions:
  - role: Operations Engineer
    questions:
    - What are the maintenance windows for this system?
    - What deployment constraints exist?
    - What manual interventions are regularly required?
  - role: SRE
    questions:
    - What are the known performance limitations?
    - How does the system behave under load?
    - What are the common failure modes?
knowledge_sources:
  guides:
  - id: sre-book
    name: Site Reliability Engineering
    url: https://sre.google/books/
  - id: itil-operations
    name: ITIL Service Operations
    url: https://www.axelos.com/best-practice-solutions/itil
  standards:
  - id: iso-20000
    name: ISO/IEC 20000 IT Service Management
    relevance: Service operation standards
tooling:
  analysis_tools:
  - tool: Grafana
    purpose: Performance metrics analysis
  - tool: Prometheus
    purpose: Resource utilization monitoring
  - tool: PagerDuty
    purpose: Incident history analysis
  - tool: ServiceNow
    purpose: Change management record review
signals:
  critical:
  - id: OCA-CRIT-001
    signal: System requires 24/7 manual intervention to operate
    evidence_indicators:
    - On-call pages multiple times daily
    - Manual restarts required regularly
    - Batch jobs require human monitoring
    explanation: |
      Systems requiring constant manual intervention are unsustainable and
      represent significant operational risk and cost.
    remediation: Prioritize automation or replacement
  - id: OCA-CRIT-002
    signal: No safe deployment window available
    evidence_indicators:
    - 24/7 business-critical operation
    - Global usage with no quiet period
    - Zero tolerance for downtime
    explanation: |
      Without deployment windows, any migration requires zero-downtime
      approaches which significantly increase complexity and risk.
    remediation: Plan for zero-downtime migration strategy
  high:
  - id: OCA-HIGH-001
    signal: Deployment requires extended downtime
    remediation: Implement blue-green or rolling deployment
  - id: OCA-HIGH-002
    signal: System cannot scale to meet demand
    remediation: Address scalability as part of migration
  - id: OCA-HIGH-003
    signal: Manual processes not documented
    remediation: Document all manual operational procedures
  medium:
  - id: OCA-MED-001
    signal: Limited maintenance windows restrict updates
    remediation: Plan migration phases around available windows
  - id: OCA-MED-002
    signal: Performance degradation during peak periods
    remediation: Include performance improvements in migration
  low:
  - id: OCA-LOW-001
    signal: Minor operational inefficiencies
    remediation: Address as part of migration improvements
  - id: OCA-LOW-002
    signal: Monitoring gaps for non-critical functions
    remediation: Improve monitoring in new system
  positive:
  - id: OCA-POS-001
    signal: Clear maintenance windows with flexible scheduling
  - id: OCA-POS-002
    signal: Automated deployment with rollback capability
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Review Operational Procedures
    description: Gather all runbooks and operational documentation
    duration_estimate: 1 hour
  - id: '2'
    name: Analyze Maintenance Windows
    description: Document available maintenance and deployment windows
    duration_estimate: 30 minutes
  - id: '3'
    name: Assess Performance Limits
    description: Review performance metrics and scalability constraints
    duration_estimate: 1 hour
  - id: '4'
    name: Interview Operations Team
    description: Gather knowledge of undocumented constraints
    duration_estimate: 2 hours
  - id: '5'
    name: Review Incident History
    description: Analyze past incidents for operational patterns
    duration_estimate: 1 hour
  - id: '6'
    name: Document Constraints
    description: Create comprehensive constraint documentation
    duration_estimate: 1 hour
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Maintenance Windows
    - Deployment Constraints
    - Performance Limitations
    - Manual Procedures
    - Migration Implications
closeout_checklist:
- id: oca-001
  item: All operational constraints documented
  level: WARNING
  verification: manual
- id: oca-002
  item: Maintenance windows identified
  level: WARNING
  verification: manual
- id: oca-003
  item: Migration approach implications assessed
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - production-systems
    - 24x7-operations
    - regulated-industries
  compliance_mappings:
  - framework: ITIL
    control: Service Operation
    description: Operational management practices
  - framework: ISO 20000
    control: Service Delivery
    description: Service operation requirements
relationships:
  commonly_combined:
  - operations.change-management
  - operations.incident-management
  depends_on:
  - observability.monitoring-coverage
  feeds_into:
  - legacy-migration.migration-planning.migration-approach
  - legacy-migration.migration-planning.timeline-development
