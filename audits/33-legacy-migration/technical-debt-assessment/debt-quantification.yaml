audit:
  id: legacy-migration.technical-debt-assessment.debt-quantification
  name: Technical Debt Quantification Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: legacy-migration
  category_number: 33
  subcategory: technical-debt-assessment
  tier: phd
  estimated_duration: 6-10 hours  # median: 8h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: system
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Measures and quantifies technical debt across the codebase using industry-standard
    metrics and tools. This audit calculates the cost of remediation, prioritizes
    debt items by business impact, and creates a comprehensive inventory of all
    identified technical debt. It translates code quality issues into time and
    cost estimates for planning purposes.
  why_it_matters: |
    Unquantified technical debt leads to poor planning decisions, unexpected project
    delays, and mounting maintenance costs. By putting concrete numbers on technical
    debt, organizations can make informed decisions about when to pay it down versus
    when to continue accumulating it. Quantification enables budget allocation and
    helps justify refactoring efforts to stakeholders.
  when_to_run:
  - Before major release planning
  - During annual technical reviews
  - When maintenance costs exceed projections
  - Before committing to new feature timelines
prerequisites:
  required_artifacts:
  - type: source_code
    description: Complete access to all codebases being assessed
  - type: version_history
    description: Git or other VCS history for trend analysis
  - type: issue_tracker
    description: Access to bug and technical debt tickets
  access_requirements:
  - Read access to all source repositories
  - Access to CI/CD pipeline metrics
  - Read access to issue tracking system
  - Historical code quality reports
discovery:
  file_patterns:
  - glob: '**/*.{java,cs,py,js,ts,go,rb,php}'
    purpose: Find all application source files
  - glob: '**/sonar-project.properties'
    purpose: Identify existing SonarQube configurations
  - glob: '**/.codeclimate.yml'
    purpose: Find Code Climate configurations
  interview_questions:
  - role: Engineering Manager
    questions:
    - What is the current budget allocation for technical debt reduction?
    - Which areas of the codebase cause the most maintenance burden?
    - How do you currently prioritize technical debt work?
  - role: Tech Lead
    questions:
    - What are the known high-debt areas in the system?
    - How much time does the team spend on unplanned maintenance?
    - Are there any areas that developers avoid touching?
knowledge_sources:
  guides:
  - id: sonarqube-debt
    name: SonarQube Technical Debt Calculation
    url: https://docs.sonarqube.org/latest/user-guide/metric-definitions/
  - id: sqale
    name: SQALE Method for Technical Debt
    url: http://www.sqale.org/
  standards:
  - id: iso-25010
    name: ISO/IEC 25010 Software Quality Model
    relevance: Defines maintainability characteristics
  - id: cast-technical-debt
    name: CAST Technical Debt Estimation
    relevance: Industry benchmark for debt calculation
tooling:
  analysis_tools:
  - tool: SonarQube
    purpose: Primary technical debt calculation
    command: sonar-scanner -Dsonar.projectKey=project
  - tool: CodeClimate
    purpose: Alternative debt measurement
  - tool: ndepend
    purpose: .NET specific debt analysis
  - tool: CodeScene
    purpose: Behavioral code analysis and debt hotspots
signals:
  critical:
  - id: TDQ-CRIT-001
    signal: Technical debt remediation time exceeds 90 developer-days
    evidence_indicators:
    - SonarQube debt ratio above 20%
    - Estimated remediation time over 720 hours
    - Multiple critical code smells unaddressed for >1 year
    explanation: |
      Extreme technical debt levels indicate systemic neglect and can result
      in exponentially increasing maintenance costs. At this level, new feature
      development is significantly impaired.
    remediation: Implement immediate debt reduction program with dedicated resources
  - id: TDQ-CRIT-002
    signal: Debt growth rate exceeds reduction capacity
    evidence_indicators:
    - Monthly debt increase consistently higher than debt reduction
    - Debt backlog growing for 6+ consecutive months
    explanation: |
      When debt accumulates faster than it can be addressed, the codebase
      enters a death spiral of decreasing maintainability.
    remediation: Halt new feature development until debt growth is controlled
  high:
  - id: TDQ-HIGH-001
    signal: Technical debt exceeds 10% of total development effort
    remediation: Allocate minimum 20% of sprint capacity to debt reduction
  - id: TDQ-HIGH-002
    signal: Critical modules have debt density above threshold
    remediation: Prioritize refactoring of high-debt critical modules
  medium:
  - id: TDQ-MED-001
    signal: Technical debt between 5-10% of development effort
    remediation: Schedule regular debt reduction in sprint planning
  - id: TDQ-MED-002
    signal: Inconsistent debt tracking across teams
    remediation: Standardize debt measurement tools and processes
  low:
  - id: TDQ-LOW-001
    signal: Minor code quality issues without business impact
    remediation: Address during routine code maintenance
  - id: TDQ-LOW-002
    signal: Technical debt documentation incomplete
    remediation: Update debt inventory during next review cycle
  positive:
  - id: TDQ-POS-001
    signal: Technical debt consistently below 5% threshold
  - id: TDQ-POS-002
    signal: Active debt reduction showing measurable progress
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Configure Analysis Tools
    description: Set up SonarQube or alternative tools with proper rulesets and quality gates
    duration_estimate: 1 hour
  - id: '2'
    name: Execute Static Analysis
    description: Run comprehensive code analysis across all repositories
    duration_estimate: 2 hours
  - id: '3'
    name: Calculate Debt Metrics
    description: Extract and compile debt metrics including SQALE ratings and remediation estimates
    duration_estimate: 1 hour
  - id: '4'
    name: Analyze Historical Trends
    description: Compare current debt levels against historical baselines
    duration_estimate: 1 hour
  - id: '5'
    name: Prioritize Debt Items
    description: Rank debt items by business impact and remediation cost
    duration_estimate: 2 hours
  - id: '6'
    name: Calculate Financial Impact
    description: Convert debt metrics to time and cost estimates
    duration_estimate: 1 hour
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Debt Quantification Results
    - Trend Analysis
    - Priority Rankings
    - Financial Impact Assessment
    - Remediation Recommendations
closeout_checklist:
- id: tdq-001
  item: All codebases analyzed with consistent tooling
  level: WARNING
  verification: manual
- id: tdq-002
  item: Debt metrics calculated and documented
  level: WARNING
  verification: tool_output
- id: tdq-003
  item: Prioritized remediation plan created
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - enterprise-systems
    - long-running-projects
    - multi-team-codebases
  compliance_mappings:
  - framework: ISO 27001
    control: A.14.2.2
    description: System change control procedures
  - framework: CMMI
    control: Technical Solution
    description: Process area for technical practices
relationships:
  commonly_combined:
  - code-quality.complexity-metrics
  - code-quality.maintainability
  depends_on:
  - code-quality.static-analysis
  feeds_into:
  - legacy-migration.migration-planning.roadmap-development
  - risk-management.technical-risk-assessment
