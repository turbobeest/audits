audit:
  id: cost-economics.roi-value-analysis.tco-analysis
  name: TCO Analysis Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: cost-economics
  category_number: 31
  subcategory: roi-value-analysis
  tier: expert
  estimated_duration: 4-6 hours  # median: 5h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: minimal
  requires_interviews: true
  severity: medium
  scope: organizational
  default_profiles:
  - full
  - finops
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines the organization's capability to perform
    Total Cost of Ownership analysis for technology decisions.
    It evaluates TCO methodology, cost components included, and
    the quality of TCO-based decision-making.
  why_it_matters: |
    TCO analysis enables informed technology decisions by
    capturing all costs - direct, indirect, and hidden. Without
    proper TCO analysis, organizations make decisions based on
    incomplete cost pictures, often leading to poor outcomes and
    unexpected expenses.
  when_to_run:
  - Before major technology decisions
  - During vendor/platform selection
  - For cloud migration planning
  - During architecture reviews
prerequisites:
  required_artifacts:
  - type: tco-methodology
    description: TCO analysis methodology
  - type: cost-models
    description: Cost models and assumptions
  - type: decision-history
    description: Previous TCO analyses
  access_requirements:
  - Access to TCO methodology documentation
  - Access to cost data for analysis
  - Access to previous TCO studies
discovery:
  tco_components:
  - component: Direct costs
    examples:
    - Hardware
    - Software
    - Cloud services
  - component: Indirect costs
    examples:
    - Support
    - Training
    - Management
  - component: Hidden costs
    examples:
    - Integration
    - Migration
    - Downtime
  - component: Opportunity costs
    examples:
    - Staff time
    - Delayed projects
  tco_use_cases:
  - use_case: Cloud migration
  - use_case: Build vs buy
  - use_case: Platform selection
  - use_case: Technology refresh
  - use_case: Outsourcing decisions
  file_patterns:
  - glob: '**/*.tf'
    purpose: Terraform files
  - glob: '**/cloudformation/**/*.yaml'
    purpose: CloudFormation templates
  - glob: '**/*cost*.yaml'
    purpose: Cost configuration files
  - glob: '**/*budget*.yaml'
    purpose: Budget configuration files
  - glob: '**/*tag*.yaml'
    purpose: Tagging policy files
  code_patterns:
  - pattern: tags\s*[=:]|cost_center|billing|budget
    type: regex
    scope: config
    purpose: Cost/billing references
  - pattern: reserved_instance|spot_instance|savings_plan
    type: regex
    scope: config
    purpose: Cost optimization patterns
knowledge_sources:
  specifications:
  - id: gartner-tco
    name: Gartner TCO Methodology
    url: https://www.gartner.com/en/information-technology/glossary/tco-total-cost-of-ownership
    offline_cache: true
    priority: required
  guides:
  - id: aws-tco
    name: AWS TCO Calculator
    url: https://aws.amazon.com/tco-calculator/
    offline_cache: true
  - id: tco-best-practices
    name: TCO Analysis Best Practices
    url: https://www.cio.com/article/tco-analysis/
    offline_cache: true
tooling:
  tco_tools:
  - tool: AWS Migration Evaluator
    purpose: Cloud migration TCO
  - tool: Azure TCO Calculator
    purpose: Azure migration analysis
  - tool: Custom models
    purpose: Organization-specific TCO
signals:
  critical:
  - id: TCO-CRIT-001
    signal: Major decisions made without TCO analysis
    evidence_pattern: Technology decisions based on acquisition cost only
    explanation: |
      Decisions based solely on acquisition cost miss 60-80%
      of total ownership costs. This leads to poor decisions
      and budget surprises.
    remediation: Require TCO analysis for major decisions
  high:
  - id: TCO-HIGH-001
    signal: TCO analysis missing key cost components
    evidence_pattern: Direct costs only, no indirect/hidden
    explanation: |
      Incomplete TCO understates true costs and skews
      comparisons. All cost categories must be included
      for valid analysis.
    remediation: Expand TCO to include all cost components
  - id: TCO-HIGH-002
    signal: TCO assumptions not documented or validated
    evidence_pattern: Analysis based on unstated assumptions
    explanation: |
      Undocumented assumptions make TCO analysis unreliable
      and non-reproducible. Key assumptions must be explicit.
    remediation: Document and validate all TCO assumptions
  medium:
  - id: TCO-MED-001
    signal: TCO analysis not updated over time
    evidence_pattern: One-time analysis without refresh
    remediation: Periodically validate TCO assumptions and outcomes
  - id: TCO-MED-002
    signal: No standard TCO methodology
    evidence_pattern: Inconsistent approach across analyses
    remediation: Standardize TCO methodology
  low:
  - id: TCO-LOW-001
    signal: TCO not validated against actuals
    evidence_pattern: Predictions not compared to reality
    remediation: Track actual costs against TCO predictions
  positive:
  - id: TCO-POS-001
    signal: Comprehensive TCO methodology in place
  - id: TCO-POS-002
    signal: TCO required for major decisions
  - id: TCO-POS-003
    signal: TCO predictions validated against actuals
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Assess TCO methodology
    description: |
      Evaluate the organization's TCO methodology including
      components, assumptions, and process.
    duration_estimate: 60 min
    expected_findings:
    - Methodology assessment
    - Component coverage
  - id: '2'
    name: Review TCO completeness
    description: |
      Analyze whether TCO analyses include all relevant
      cost categories.
    duration_estimate: 45 min
    expected_findings:
    - Completeness assessment
    - Missing components
  - id: '3'
    name: Evaluate decision integration
    description: |
      Assess how TCO analysis is integrated into
      decision-making processes.
    duration_estimate: 45 min
    expected_findings:
    - Integration assessment
    - Decision influence
  - id: '4'
    name: Review historical accuracy
    description: |
      Compare past TCO predictions to actual costs
      to assess accuracy.
    duration_estimate: 45 min
    expected_findings:
    - Accuracy assessment
    - Variance analysis
  - id: '5'
    name: Assess tooling and templates
    description: |
      Evaluate tools and templates used for TCO analysis.
    duration_estimate: 30 min
    expected_findings:
    - Tool assessment
    - Standardization level
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Methodology Assessment
    - Completeness Review
    - Accuracy Analysis
    - Recommendations
  - type: tco_framework
    format: template
    description: Recommended TCO analysis template
  confidence_guidance:
    high: Complete methodology access with historical validation
    medium: Methodology review without validation
    low: Documentation only
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: gartner-tco
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive review
    full:
      included: true
      priority: 2
    finops:
      included: true
      priority: 1
closeout_checklist:
- id: tco-001
  item: TCO methodology assessed
  level: CRITICAL
  verification: manual
  expected: Assessment complete
- id: tco-002
  item: Completeness evaluated
  level: BLOCKING
  verification: manual
  expected: Evaluation complete
- id: tco-003
  item: Recommendations provided
  level: WARNING
  verification: manual
  expected: Recommendations documented
governance:
  applicable_to:
    archetypes:
    - enterprise
    - hybrid
    - migration-planning
  compliance_frameworks:
  - framework: FinOps Foundation
    controls:
    - Decision Making
relationships:
  commonly_combined:
  - cost-economics.roi-value-analysis.roi-measurement
  - cost-economics.license-management.cloud-license-mobility
  - cost-economics.financial-governance.budget-management
