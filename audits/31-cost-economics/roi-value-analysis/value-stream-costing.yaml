audit:
  id: cost-economics.roi-value-analysis.value-stream-costing
  name: Value Stream Costing Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: cost-economics
  category_number: 31
  subcategory: roi-value-analysis
  tier: expert
  estimated_duration: 5-7 hours  # median: 6h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: organizational
  default_profiles:
  - full
  - finops
  blocks_phase: false
  parallelizable: false
description:
  what: |
    This audit examines value stream costing - the ability to
    understand total costs along the value delivery chain from
    concept to customer. It evaluates how well costs are mapped
    to value streams and used for optimization.
  why_it_matters: |
    Value stream costing connects technology costs to business
    outcomes. By understanding costs in the context of value
    delivery, organizations can optimize where it matters most
    and make trade-offs that maximize value, not just minimize cost.
  when_to_run:
  - Annually for mature value streams
  - When establishing value stream management
  - During digital transformation
  - For cost optimization initiatives
prerequisites:
  required_artifacts:
  - type: value-stream-map
    description: Defined value streams
  - type: cost-data
    description: Cost data attributable to value streams
  - type: flow-metrics
    description: Value stream flow metrics
  access_requirements:
  - Access to value stream definitions
  - Access to cost attribution data
  - Access to flow and delivery metrics
discovery:
  value_stream_components:
  - component: Development
    costs:
    - Labor
    - Tools
    - Infrastructure
  - component: Delivery
    costs:
    - CI/CD
    - Deployment
    - Environments
  - component: Operations
    costs:
    - Hosting
    - Monitoring
    - Support
  - component: Maintenance
    costs:
    - Bugs
    - Technical debt
    - Updates
  costing_approaches:
  - approach: Activity-based costing
  - approach: Time-driven costing
  - approach: Capacity-based costing
  file_patterns:
  - glob: '**/*.tf'
    purpose: Terraform files
  - glob: '**/cloudformation/**/*.yaml'
    purpose: CloudFormation templates
  - glob: '**/*cost*.yaml'
    purpose: Cost configuration files
  - glob: '**/*budget*.yaml'
    purpose: Budget configuration files
  - glob: '**/*tag*.yaml'
    purpose: Tagging policy files
  code_patterns:
  - pattern: tags\s*[=:]|cost_center|billing|budget
    type: regex
    scope: config
    purpose: Cost/billing references
  - pattern: reserved_instance|spot_instance|savings_plan
    type: regex
    scope: config
    purpose: Cost optimization patterns
knowledge_sources:
  specifications:
  - id: value-stream-management
    name: Value Stream Management
    url: https://www.scaledagileframework.com/value-streams/
    offline_cache: true
    priority: required
  guides:
  - id: lean-accounting
    name: Lean Accounting for Value Streams
    url: https://www.lean.org/lexicon/lean-accounting
    offline_cache: true
tooling:
  vsm_tools:
  - tool: Value stream management platforms
    purpose: Flow and cost visibility
  - tool: Cost allocation systems
    purpose: Value stream cost attribution
  - tool: DevOps metrics tools
    purpose: Delivery metrics
signals:
  critical:
  - id: VSC-CRIT-001
    signal: No value stream cost visibility
    evidence_pattern: Cannot attribute costs to value streams
    explanation: |
      Without value stream cost visibility, optimization efforts
      cannot be aligned with value delivery. Costs are managed
      in silos without understanding business impact.
    remediation: Implement value stream cost attribution
  high:
  - id: VSC-HIGH-001
    signal: Costs not correlated with value delivery
    evidence_pattern: Cost management separate from delivery
    explanation: |
      When cost management is disconnected from value delivery,
      optimization may harm value rather than enhance it.
    remediation: Connect cost metrics with delivery metrics
  - id: VSC-HIGH-002
    signal: Value streams not defined or mapped
    evidence_pattern: No clear value stream boundaries
    explanation: |
      Without defined value streams, cost attribution is
      impossible. Value streams must be identified before
      costs can be mapped.
    remediation: Define and document value streams
  medium:
  - id: VSC-MED-001
    signal: Partial value stream cost visibility
    evidence_pattern: Only some cost categories mapped
    remediation: Expand cost mapping to all categories
  - id: VSC-MED-002
    signal: Value stream costs not used for optimization
    evidence_pattern: Data available but not acted upon
    remediation: Use value stream costs in decision-making
  low:
  - id: VSC-LOW-001
    signal: No value stream cost benchmarking
    evidence_pattern: No comparison across value streams
    remediation: Implement cross-stream benchmarking
  positive:
  - id: VSC-POS-001
    signal: Comprehensive value stream cost visibility
  - id: VSC-POS-002
    signal: Costs correlated with flow metrics
  - id: VSC-POS-003
    signal: Value stream costing driving optimization
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Map value streams
    description: |
      Identify and document the organization's value streams.
    duration_estimate: 60 min
    expected_findings:
    - Value stream inventory
    - Boundaries defined
  - id: '2'
    name: Assess cost attribution
    description: |
      Evaluate the ability to attribute costs to value streams.
    duration_estimate: 60 min
    expected_findings:
    - Attribution capability
    - Coverage assessment
  - id: '3'
    name: Review cost components
    description: |
      Analyze which cost components are included in value
      stream costing.
    duration_estimate: 45 min
    expected_findings:
    - Component coverage
    - Missing elements
  - id: '4'
    name: Assess flow integration
    description: |
      Evaluate how costs are correlated with flow and
      delivery metrics.
    duration_estimate: 45 min
    expected_findings:
    - Flow integration
    - Correlation analysis
  - id: '5'
    name: Review optimization usage
    description: |
      Assess how value stream costs are used for
      optimization decisions.
    duration_estimate: 45 min
    expected_findings:
    - Optimization usage
    - Decision integration
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Value Stream Map
    - Cost Attribution Assessment
    - Flow Integration Review
    - Recommendations
  - type: value_stream_cost_map
    format: visual
    description: Value stream cost visualization
  confidence_guidance:
    high: Complete value stream and cost data
    medium: Partial data
    low: Limited visibility
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: value-stream-management
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive analysis
    full:
      included: true
      priority: 2
    finops:
      included: true
      priority: 2
closeout_checklist:
- id: vsc-001
  item: Value streams mapped
  level: CRITICAL
  verification: manual
  expected: Mapping complete
- id: vsc-002
  item: Cost attribution assessed
  level: BLOCKING
  verification: manual
  expected: Assessment complete
- id: vsc-003
  item: Recommendations provided
  level: WARNING
  verification: manual
  expected: Recommendations documented
governance:
  applicable_to:
    archetypes:
    - product-centric
    - agile
    - value-stream-managed
  compliance_frameworks:
  - framework: SAFe
    controls:
    - Lean Portfolio Management
  - framework: FinOps Foundation
    controls:
    - Decision Making
relationships:
  commonly_combined:
  - cost-economics.roi-value-analysis.roi-measurement
  - cost-economics.cost-visibility.unit-cost-tracking
  - cost-economics.cost-allocation.project-cost-tracking
