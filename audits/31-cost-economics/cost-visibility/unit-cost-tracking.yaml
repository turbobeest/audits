audit:
  id: cost-economics.cost-visibility.unit-cost-tracking
  name: Unit Cost Tracking Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: cost-economics
  category_number: 31
  subcategory: cost-visibility
  tier: expert
  estimated_duration: 4-6 hours  # median: 5h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: organizational
  default_profiles:
  - full
  - finops
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines the organization's capability to calculate,
    track, and report unit economics for cloud infrastructure. It
    evaluates metrics like cost per transaction, cost per customer,
    cost per API call, and cost per deployment, enabling the connection
    of infrastructure spending to business value.
  why_it_matters: |
    Unit costs provide the bridge between infrastructure spending and
    business outcomes. Without unit cost metrics, organizations cannot
    determine if their cloud spend is efficient relative to the value
    it produces. Unit costs enable meaningful trend analysis, capacity
    planning, and optimization prioritization based on ROI.
  when_to_run:
  - Quarterly business reviews
  - During capacity planning
  - When evaluating optimization investments
  - Before pricing decisions
  - As part of FinOps maturity progression
prerequisites:
  required_artifacts:
  - type: cost-data
    description: Granular cloud cost data by service
  - type: business-metrics
    description: Transaction volumes, user counts, API calls
  - type: unit-definitions
    description: Defined business units for measurement
  access_requirements:
  - Access to cloud billing data
  - Access to application metrics (APM, logs)
  - Access to business KPI dashboards
  - Query access for metric correlation
discovery:
  metrics_to_correlate:
  - category: Business metrics
    examples:
    - Transactions processed
    - Active users/customers
    - Orders fulfilled
    - Revenue generated
  - category: Technical metrics
    examples:
    - API calls
    - Requests served
    - Data processed (GB)
    - Deployments executed
    - Compute hours consumed
  data_sources:
  - source: Cloud billing
    purpose: Cost data by service and resource
  - source: Application monitoring
    purpose: Transaction and request volumes
  - source: Business systems
    purpose: Customer and revenue data
  file_patterns:
  - glob: '**/*.tf'
    purpose: Terraform files
  - glob: '**/cloudformation/**/*.yaml'
    purpose: CloudFormation templates
  - glob: '**/*cost*.yaml'
    purpose: Cost configuration files
  - glob: '**/*budget*.yaml'
    purpose: Budget configuration files
  - glob: '**/*tag*.yaml'
    purpose: Tagging policy files
  code_patterns:
  - pattern: tags\s*[=:]|cost_center|billing|budget
    type: regex
    scope: config
    purpose: Cost/billing references
  - pattern: reserved_instance|spot_instance|savings_plan
    type: regex
    scope: config
    purpose: Cost optimization patterns
knowledge_sources:
  specifications:
  - id: finops-unit-economics
    name: FinOps Foundation - Unit Economics
    url: https://www.finops.org/framework/capabilities/measure-unit-costs/
    offline_cache: true
    priority: required
  guides:
  - id: aws-cost-per-customer
    name: AWS - Calculating Cost Per Customer
    url: https://aws.amazon.com/blogs/aws-cost-management/
    offline_cache: true
  - id: unit-cost-benchmarks
    name: Cloud Unit Cost Benchmarking
    url: https://www.finops.org/resources/
    offline_cache: true
tooling:
  analysis_tools:
  - tool: AWS Cost Explorer
    purpose: Cost data for unit calculations
  - tool: CloudWatch
    purpose: Technical metrics for correlation
  - tool: Datadog
    purpose: APM metrics for request/transaction volumes
  - tool: Custom analytics
    purpose: Join cost and business metrics
signals:
  critical:
  - id: UNIT-CRIT-001
    signal: No unit cost metrics defined or tracked
    evidence_pattern: Organization cannot answer 'cost per X'
    explanation: |
      Without unit cost metrics, the organization has no way to
      assess whether infrastructure spending is efficient or
      aligned with business growth. This prevents meaningful
      optimization decisions.
    remediation: Define and implement key unit cost metrics
  high:
  - id: UNIT-HIGH-001
    signal: Unit costs increasing faster than business volume
    evidence_threshold: unit_cost_growth > volume_growth
    explanation: |
      When unit costs increase while volume is flat or growing
      more slowly, infrastructure efficiency is degrading. This
      erodes margins and indicates optimization opportunities.
    remediation: Investigate and address causes of unit cost increase
  - id: UNIT-HIGH-002
    signal: Unable to correlate costs with business metrics
    evidence_pattern: Data silos prevent unit cost calculation
    explanation: |
      When cost data cannot be joined with business metrics,
      unit costs cannot be calculated. This is often due to
      data pipeline gaps or inconsistent attribution.
    remediation: Build data pipelines to correlate cost and business data
  medium:
  - id: UNIT-MED-001
    signal: Unit cost metrics not automated
    evidence_pattern: Manual calculation required for unit costs
    remediation: Automate unit cost calculation and reporting
  - id: UNIT-MED-002
    signal: Unit cost tracking limited to single dimension
    evidence_pattern: Only one unit cost metric tracked
    remediation: Expand unit cost tracking to multiple dimensions
  low:
  - id: UNIT-LOW-001
    signal: No unit cost benchmarking against industry
    evidence_pattern: Unit costs not compared to external benchmarks
    remediation: Establish external benchmarks for comparison
  positive:
  - id: UNIT-POS-001
    signal: Comprehensive unit cost tracking across services
  - id: UNIT-POS-002
    signal: Unit costs declining year-over-year
  - id: UNIT-POS-003
    signal: Unit cost targets integrated into engineering goals
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Identify relevant unit metrics
    description: |
      Work with business and engineering stakeholders to identify
      the most meaningful unit cost metrics for the organization.
    duration_estimate: 45 min
    expected_findings:
    - Key business units identified
    - Technical units identified
    - Priority metrics selected
  - id: '2'
    name: Assess data availability
    description: |
      Evaluate whether the data required to calculate unit costs
      is available, accurate, and can be correlated.
    duration_estimate: 60 min
    expected_findings:
    - Data source inventory
    - Data quality assessment
    - Correlation feasibility
  - id: '3'
    name: Calculate current unit costs
    description: |
      Compute unit costs for the identified metrics using available
      data. Document methodology and assumptions.
    duration_estimate: 90 min
    expected_findings:
    - Current unit cost baselines
    - Calculation methodology
    - Data gaps identified
  - id: '4'
    name: Analyze unit cost trends
    description: |
      Review historical unit cost trends to identify patterns,
      improvements, and degradations.
    duration_estimate: 45 min
    expected_findings:
    - Trend analysis by metric
    - Seasonality patterns
    - Improvement/degradation areas
  - id: '5'
    name: Evaluate tracking infrastructure
    description: |
      Assess the systems and processes in place to track and
      report unit costs on an ongoing basis.
    duration_estimate: 30 min
    expected_findings:
    - Automation assessment
    - Reporting capability
    - Infrastructure gaps
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Unit Cost Baseline
    - Trend Analysis
    - Data Infrastructure Assessment
    - Recommendations
  - type: metrics_dashboard
    metrics:
    - Cost per transaction
    - Cost per customer
    - Cost per API call
    - Cost per GB processed
    - Cost per deployment
  confidence_guidance:
    high: Complete data correlation with verified methodology
    medium: Partial data with reasonable assumptions
    low: Estimated based on limited data
offline:
  capability: minimal
  cache_manifest:
    knowledge:
    - source_id: finops-unit-economics
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive data analysis
    full:
      included: true
      priority: 1
    finops:
      included: true
      priority: 1
closeout_checklist:
- id: unit-001
  item: Key unit cost metrics defined
  level: CRITICAL
  verification: manual
  expected: At least 3 unit cost metrics defined
- id: unit-002
  item: Unit cost baselines established
  level: BLOCKING
  verification: automated
  expected: Baseline values documented
- id: unit-003
  item: Unit cost tracking automated
  level: WARNING
  verification: manual
  expected: Automated calculation and reporting
governance:
  applicable_to:
    archetypes:
    - cloud-native
    - saas
    - platform
  compliance_frameworks:
  - framework: FinOps Foundation
    controls:
    - Measure Unit Costs
    - Unit Economics
relationships:
  commonly_combined:
  - cost-economics.cost-visibility.cost-attribution
  - cost-economics.roi-value-analysis.roi-measurement
  - cost-economics.cost-optimization.rightsizing
