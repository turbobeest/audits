audit:
  id: accessibility-inclusion.understandable-predictable.component-consistency
  name: Component Identification Consistency
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: accessibility-inclusion
  category_number: 15
  subcategory: understandable-predictable
  tier: phd
  estimated_duration: 3-4 hours  # median: 3h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: codebase
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines user interface components that have the same
    functionality to verify they are identified consistently across the
    application. Per WCAG Success Criterion 3.2.4 (Consistent Identification),
    components with the same functionality must have consistent:

    - Text labels
    - Icon usage
    - Accessible names (aria-label, alt text)
    - Visual appearance
    - Behavior

    The audit focuses on common patterns like:
    - Search functions (search boxes, search buttons)
    - Print/download/share functionality
    - Form submission buttons
    - Close/dismiss buttons
    - Navigation links to same destinations
    - Error messages and validation indicators
  why_it_matters: |
    Consistent identification enables users to:
    - Recognize familiar functionality without relearning
    - Build reliable mental models of the interface
    - Navigate efficiently using learned patterns
    - Avoid confusion from inconsistent labeling

    For users with cognitive disabilities, consistent identification is
    essential for successful interface use. Screen reader users particularly
    benefit from consistent accessible names, as they cannot see visual
    similarities between components. Inconsistent identification forces
    users to repeatedly determine whether differently-labeled components
    have the same or different functions.
  when_to_run:
  - During design system audits
  - After implementing new component variations
  - When consolidating UI patterns
  - During accessibility compliance reviews
prerequisites:
  required_artifacts:
  - type: source_code
    description: UI component library and implementations
  - type: design_system
    description: Design system documentation (if available)
  - type: running_application
    description: Application for manual consistency verification
  access_requirements:
  - Component library source code
  - All feature areas of the application
  - Design documentation
discovery:
  code_patterns:
  - pattern: aria-label=['"][^'"]+['"]
    type: regex
    scope: source
    purpose: Find accessible names for comparison
  - pattern: type=['"]submit['"]|role=['"]button['"]
    type: regex
    scope: source
    purpose: Find button components
  - pattern: type=['"]search['"]|role=['"]search['"]
    type: regex
    scope: source
    purpose: Find search components
  - pattern: alt=['"][^'"]+['"]
    type: regex
    scope: source
    purpose: Find image alternative text
  - pattern: <button[^>]*>|<Button[^>]*>
    type: regex
    scope: source
    purpose: Find button elements for label comparison
  file_patterns:
  - glob: '**/components/**'
    purpose: Component library
  - glob: '**/ui/**'
    purpose: UI elements
  - glob: '**/shared/**'
    purpose: Shared components
  - glob: '**/common/**'
    purpose: Common UI patterns
knowledge_sources:
  specifications:
  - id: wcag-3.2.4
    name: 'WCAG 2.2 Success Criterion 3.2.4: Consistent Identification'
    url: https://www.w3.org/WAI/WCAG22/Understanding/consistent-identification.html
    offline_cache: true
    priority: required
  - id: wcag-1.1.1
    name: 'WCAG 2.2 Success Criterion 1.1.1: Non-text Content'
    url: https://www.w3.org/WAI/WCAG22/Understanding/non-text-content.html
    offline_cache: true
    priority: recommended
  guides:
  - id: w3c-labels
    name: 'W3C WAI: Labels and Instructions'
    url: https://www.w3.org/WAI/WCAG22/Understanding/labels-or-instructions.html
    offline_cache: true
  - id: design-system-a11y
    name: Inclusive Design System Components
    url: https://inclusive-components.design/
    offline_cache: true
tooling:
  static_analysis:
  - tool: axe-core
    purpose: Check for accessible name consistency
    offline_capable: true
  - tool: eslint-plugin-jsx-a11y
    purpose: Lint for consistent accessible naming
    offline_capable: true
  assessment_tools:
  - tool: Component consistency spreadsheet
    purpose: Track labels and names across component instances
  scripts:
  - id: label-consistency-checker
    language: bash
    purpose: Extract and compare labels for common components
    source: inline
    code: |
      #!/bin/bash
      echo "=== Search Component Labels ==="
      grep -rn --include="*.jsx" --include="*.tsx" --include="*.vue" \
        -E "(search|Search)" . | grep -E "(aria-label|placeholder|title)"

      echo ""
      echo "=== Submit Button Labels ==="
      grep -rn --include="*.jsx" --include="*.tsx" --include="*.vue" \
        -E "type=['\"]submit['\"]" . | head -30

      echo ""
      echo "=== Close Button Labels ==="
      grep -rn --include="*.jsx" --include="*.tsx" --include="*.vue" \
        -i "(close|dismiss|cancel)" . | grep -E "(<button|<Button|aria-label)"
signals:
  critical:
  - id: A11Y-COMP-CRIT-001
    signal: Same function has different accessible names
    evidence_indicators:
    - Search buttons labeled 'Search', 'Find', 'Go' across pages
    - Close buttons labeled 'Close', 'X', 'Dismiss', 'Cancel'
    - Download labeled 'Download', 'Get PDF', 'Save File'
    explanation: |
      Components with identical functionality have different accessible names,
      preventing screen reader users from recognizing them as the same function
      and requiring users to learn multiple labels for the same action.
    remediation: |
      Standardize accessible names for common functions. Document standard
      labels in the design system and enforce through code review. Examples:
      - Search: always "Search"
      - Close: always "Close" or "Close [dialog name]"
      - Submit: context-appropriate but consistent pattern
  high:
  - id: A11Y-COMP-HIGH-001
    signal: Icons for same function vary without text labels
    evidence_indicators:
    - Search uses magnifying glass on some pages, binoculars on others
    - Close uses X icon, trash icon, or circle-X inconsistently
    - Print functionality uses different printer icon variations
    explanation: |
      The same function uses different icons without text labels, making it
      difficult for users to recognize the function, particularly those who
      cannot rely on learned icon associations.
    remediation: |
      Standardize icons for common functions. When icon-only buttons are used,
      ensure consistent icon selection and provide identical accessible names.
      Prefer icons with text labels for important functions.
  - id: A11Y-COMP-HIGH-002
    signal: Same link text leads to different destinations
    evidence_pattern: Multiple 'Click here' or 'Learn more' links
    explanation: |
      Generic link text like "Click here" or "Learn more" is used for links
      to different destinations. Screen reader users navigating by links
      cannot distinguish between them.
    remediation: |
      Use descriptive, unique link text that indicates the destination.
      Instead of "Learn more", use "Learn more about pricing" and
      "Learn more about features". Ensure aria-label provides uniqueness
      if visible text must remain generic.
  medium:
  - id: A11Y-COMP-MED-001
    signal: Form validation messages inconsistent
    evidence_indicators:
    - 'Required field messages vary: ''Required'', ''This field is required'', ''Cannot be empty'''
    - Error styling differs between forms
    - Error announcement patterns inconsistent
    explanation: |
      Form validation follows different patterns across the application,
      making it harder for users to understand and resolve errors.
    remediation: |
      Establish standard validation message formats and implement through
      shared validation component. Ensure error messages are announced
      consistently to assistive technology.
  - id: A11Y-COMP-MED-002
    signal: Visual appearance varies for same component type
    evidence_indicators:
    - Primary buttons styled differently in different sections
    - Input fields have varying border, padding, or label positioning
    - Error states indicated differently
    explanation: |
      Same component type has visual variations that may confuse users
      expecting consistent appearance for consistent function.
    remediation: |
      Use design system tokens and shared component implementations to
      ensure visual consistency. Document allowed variations and their
      semantic meaning.
  low:
  - id: A11Y-COMP-LOW-001
    signal: Minor label variations for same function
    evidence_indicators:
    - 'Capitalization differences: ''Submit'' vs ''SUBMIT'''
    - 'Punctuation differences: ''Search'' vs ''Search.'''
    explanation: |
      Minor variations in labeling that don't significantly impact
      usability but indicate inconsistent implementation.
    remediation: |
      Standardize text formatting through design system guidelines and
      shared string constants.
  positive:
  - id: A11Y-COMP-POS-001
    signal: Design system enforces consistent component usage
    evidence_indicators:
    - Shared component library used across application
    - Standard accessible names defined in components
    - Documentation specifies label standards
  - id: A11Y-COMP-POS-002
    signal: Consistent icon + text pattern used
    evidence_indicators:
    - Icons always paired with visible text labels
    - Icon usage standardized in design system
procedure:
  context:
    cognitive_mode: critical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory common functionality
    description: |
      Identify all instances of common functionality that appears
      multiple times in the application (search, submit, close, etc.).
    duration_estimate: 45 min
    commands:
    - purpose: Find search-related components
      command: |
        grep -rn --include="*.jsx" --include="*.tsx" --include="*.vue" \
          -i "search" . | grep -E "(button|input|aria-label)"
    - purpose: Find submit buttons
      command: |
        grep -rn --include="*.jsx" --include="*.tsx" --include="*.vue" \
          -E "type=['\"]submit['\"]" .
    - purpose: Find close/dismiss buttons
      command: |
        grep -rn --include="*.jsx" --include="*.tsx" --include="*.vue" \
          -i "(close|dismiss)" . | grep -E "(button|Button|aria)"
    expected_findings:
    - Inventory of common functionality instances
    - File locations for each instance
  - id: '2'
    name: Extract and compare labels
    description: |
      For each common functionality type, extract all labels (visible text,
      aria-label, alt text) and compare for consistency.
    duration_estimate: 45 min
    questions:
    - What labels are used for search functionality?
    - What labels are used for submit buttons?
    - What labels are used for close/dismiss actions?
    - What icons are used for each function type?
    expected_findings:
    - Label comparison table for each functionality type
    - Inconsistencies identified
  - id: '3'
    name: Review design system documentation
    description: |
      Check if design system documents standard labels and whether
      implementation matches documentation.
    duration_estimate: 30 min
    questions:
    - Does design system specify standard accessible names?
    - Are icon usage guidelines documented?
    - Do implementations match documented standards?
    expected_findings:
    - Gap analysis between documentation and implementation
  - id: '4'
    name: Manual verification with assistive technology
    description: |
      Use screen reader to navigate application and verify that same
      functions are announced consistently.
    duration_estimate: 45 min
    questions:
    - Are search functions announced the same way throughout?
    - Are close buttons announced consistently?
    - Can you identify same functions by their announcements?
    expected_findings:
    - Assistive technology experience assessment
    - Specific inconsistencies encountered
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Component Inventory
    - Consistency Analysis by Function Type
    - Recommendations
  - type: consistency_matrix
    format: table
    description: Labels and identifiers for each common function type
  confidence_guidance:
    high: Complete inventory with manual assistive technology verification
    medium: Code analysis with limited manual verification
    low: Partial inventory or inference-based assessment
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: wcag-3.2.4
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive component analysis
    full:
      included: true
      priority: 2
    production:
      included: true
      priority: 2
closeout_checklist:
- id: comp-consistency-001
  item: Search functions use consistent accessible name
  level: CRITICAL
  verification: manual
  verification_notes: Verify all search buttons/inputs have same accessible name
  expected: Confirmed by reviewer
- id: comp-consistency-002
  item: Close/dismiss actions use consistent accessible name
  level: CRITICAL
  verification: manual
  verification_notes: Verify all close buttons have consistent naming pattern
  expected: Confirmed by reviewer
- id: comp-consistency-003
  item: Icons paired with text or have consistent accessible names
  level: BLOCKING
  verification: manual
  verification_notes: Verify icon-only buttons have appropriate accessible names
  expected: Confirmed by reviewer
- id: comp-consistency-004
  item: Link text uniquely identifies destinations
  level: BLOCKING
  verification: |
    grep -rn --include="*.html" --include="*.jsx" --include="*.tsx" \
      -E ">click here<|>learn more<|>read more<" . | wc -l | \
      xargs -I {} sh -c '[ {} -eq 0 ] && echo "PASS" || echo "FAIL"'
  expected: PASS
governance:
  applicable_to:
    archetypes:
    - web-application
    - spa
    - website
    - design-system
  compliance_frameworks:
  - framework: WCAG 2.2
    controls:
    - 3.2.4
  - framework: Section 508
    controls:
    - 1194.22(l)
  - framework: EN 301 549
    controls:
    - 9.3.2.4
relationships:
  commonly_combined:
  - accessibility-inclusion.understandable-predictable.navigation-consistency
  - accessibility-inclusion.robust-compatibility.aria-label-completeness
  - accessibility-inclusion.cognitive-accessibility.consistent-layout
