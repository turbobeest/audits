audit:
  id: accessibility-inclusion.cognitive-accessibility.reading-aid-compatibility
  name: Reading Aid Compatibility
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: accessibility-inclusion
  category_number: 15
  subcategory: cognitive-accessibility
  tier: phd
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: runtime
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: false
description:
  what: |
    This audit evaluates compatibility with reading assistance tools and
    technologies used by people with dyslexia, reading difficulties, and
    other learning disabilities.

    Reading aids include:
    - Text-to-speech software (NaturalReader, Read&Write)
    - Reading rulers and focus guides
    - Dyslexia-friendly fonts (OpenDyslexic, Lexie Readable)
    - Line highlighting tools
    - Word prediction and spell checking
    - Browser reading modes and extensions
    - Customizable text display (spacing, size, contrast)

    The audit verifies:
    - Content accessible to text-to-speech
    - Text customization doesn't break layout
    - Reading mode compatibility
    - Proper document structure for reading navigation
    - Support for user font preferences
    - Adequate line spacing and text sizing
    - Contrast and readability
  why_it_matters: |
    Dyslexia and reading difficulties affect 5-10% of the population:
    - Dyslexia causes word and letter recognition issues
    - Other learning disabilities affect reading comprehension
    - Acquired conditions can affect reading ability
    - Language barriers create similar reading challenges

    Without reading aid support:
    - Content becomes inaccessible to reading tool users
    - Customization causes layout breaks
    - Text-to-speech reads incorrectly
    - Users cannot employ their preferred reading strategies
  when_to_run:
  - For educational platforms
  - For content-heavy sites
  - When accessibility compliance required
  - When serving diverse reading abilities
prerequisites:
  required_artifacts:
  - type: running_application
    description: Application with text content
  - type: source_code
    description: CSS and content structure
  access_requirements:
  - Text-to-speech software or browser extension
  - Browser reading mode
  - Font customization capability
discovery:
  code_patterns:
  - pattern: font-family:\s*[^;]+!important
    type: regex
    scope: source
    purpose: Find forced font declarations
  - pattern: line-height:\s*[0-9.]+(?:px|em|rem)|line-height:\s*[0-9.]+;
    type: regex
    scope: source
    purpose: Find line-height specifications
  - pattern: -webkit-user-select:\s*none|user-select:\s*none
    type: regex
    scope: source
    purpose: Find text selection prevention
  file_patterns:
  - glob: '**/*.css'
    purpose: CSS files for text styling
  - glob: '**/*.scss'
    purpose: SCSS files
  - glob: '**/content/**'
    purpose: Content files
knowledge_sources:
  specifications:
  - id: wcag-22
    name: WCAG 2.2 Specification
    url: https://www.w3.org/TR/WCAG22/
    offline_cache: true
    priority: recommended
  - id: wcag-1.4.12
    name: 'WCAG 2.2 SC 1.4.12: Text Spacing'
    url: https://www.w3.org/WAI/WCAG22/Understanding/text-spacing.html
    offline_cache: true
    priority: required
  - id: wcag-1.4.4
    name: 'WCAG 2.2 SC 1.4.4: Resize Text'
    url: https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html
    offline_cache: true
    priority: required
  - id: coga-reading
    name: 'COGA: Make Content Easy to Read'
    url: https://www.w3.org/TR/coga-usable/#make-content-easy-to-read
    offline_cache: true
    priority: required
  guides:
  - id: bdadyslexia
    name: British Dyslexia Association Style Guide
    url: https://www.bdadyslexia.org.uk/advice/employers/creating-a-dyslexia-friendly-workplace/dyslexia-friendly-style-guide
    offline_cache: true
  - id: webaim-reading
    name: 'WebAIM: Reading Disabilities'
    url: https://webaim.org/articles/cognitive/
    offline_cache: true
tooling:
  assessment_tools:
  - tool: NaturalReader or similar TTS
    purpose: Test text-to-speech compatibility
  - tool: Firefox Reader Mode
    purpose: Test reading mode compatibility
  - tool: Text Spacing bookmarklet
    purpose: Test WCAG 1.4.12 compliance
  - tool: Browser font override
    purpose: Test custom font compatibility
  scripts:
  - id: text-style-checker
    language: bash
    purpose: Find text styling that may cause issues
    source: inline
    code: |
      #!/bin/bash
      echo "=== Forced Font Families ==="
      grep -rn --include="*.css" --include="*.scss" \
        'font-family.*!important' . | head -20

      echo ""
      echo "=== Text Selection Prevention ==="
      grep -rn --include="*.css" --include="*.scss" \
        'user-select:\s*none' . | head -15

      echo ""
      echo "=== Fixed Line Heights ==="
      grep -rn --include="*.css" --include="*.scss" \
        'line-height:\s*[0-9]*px' . | head -20
signals:
  critical:
  - id: A11Y-READ-CRIT-001
    signal: Text cannot be read by text-to-speech
    evidence_indicators:
    - Text rendered as images without alt text
    - CSS content used for meaningful text
    - Text in canvas or SVG without accessible text
    explanation: |
      Text-to-speech tools cannot access text that isn't in the DOM or
      accessibility tree, making content inaccessible to users who rely
      on TTS for reading.
    remediation: |
      Ensure all text is real text:
      - Use HTML text, not images of text
      - Avoid CSS content for meaningful text
      - Provide accessible alternatives for canvas/SVG text
      - Ensure aria-label is present where text isn't
  - id: A11Y-READ-CRIT-002
    signal: Text spacing adjustment breaks layout
    evidence_indicators:
    - Content overlaps when spacing increased
    - Text cut off in containers
    - Layout breaks at WCAG 1.4.12 spacing levels
    explanation: |
      WCAG 1.4.12 requires content to remain functional when text spacing
      is adjusted (line height 1.5x, paragraph spacing 2x, letter spacing
      0.12x, word spacing 0.16x).
    remediation: |
      Use flexible containers:
      - Don't use fixed heights for text containers
      - Ensure containers expand with content
      - Test with text spacing bookmarklet
      - Avoid overflow: hidden on text areas
  high:
  - id: A11Y-READ-HIGH-001
    signal: User cannot override fonts
    evidence_indicators:
    - '!important on font-family declarations'
    - Font forced via inline styles
    - Browser font override doesn't work
    explanation: |
      Users with dyslexia may need specific fonts (like OpenDyslexic) that
      work better for them. Preventing font override blocks this
      accommodation.
    remediation: |
      Allow font customization:
      - Remove !important from font declarations
      - Use relative font sizing
      - Test with browser font override enabled
      - Consider offering built-in font options
  - id: A11Y-READ-HIGH-002
    signal: Text selection disabled
    evidence_indicators:
    - 'user-select: none on content'
    - Text cannot be copied
    - Selection blocked by JavaScript
    explanation: |
      Disabling text selection prevents users from:
      - Copying text to translate or define
      - Using reading tools that require selection
      - Highlighting to track reading position
    remediation: |
      Allow text selection on content:
      - Remove user-select: none from content
      - Only disable on UI controls if necessary
      - Never disable on reading content
  - id: A11Y-READ-HIGH-003
    signal: Reading mode doesn't work properly
    evidence_indicators:
    - Browser reading mode shows broken content
    - Content missing in reader view
    - Reading mode not available
    explanation: |
      Reading modes strip away distractions and present clean text.
      When content doesn't work in reading mode, users lose this
      valuable accessibility feature.
    remediation: |
      Ensure reading mode compatibility:
      - Use semantic HTML (article, section, main)
      - Use proper heading structure
      - Include metadata (author, date)
      - Test in Firefox/Safari reading mode
  medium:
  - id: A11Y-READ-MED-001
    signal: Insufficient line spacing
    evidence_indicators:
    - Line height below 1.5
    - Dense text blocks
    - Cramped paragraph spacing
    explanation: |
      Insufficient line spacing makes text harder to track for users with
      dyslexia or reading difficulties.
    remediation: |
      Use adequate spacing:
      - Line height at least 1.5 for body text
      - Paragraph spacing at least 2x font size
      - Avoid very long lines (max ~80 characters)
  - id: A11Y-READ-MED-002
    signal: Text-to-speech reads incorrectly
    evidence_indicators:
    - Abbreviations read letter by letter
    - Numbers formatted oddly
    - Special characters cause issues
    explanation: |
      While TTS can access the text, it may pronounce it incorrectly due
      to abbreviations, special formatting, or unusual characters.
    remediation: |
      Optimize for TTS:
      - Expand abbreviations or use <abbr> with title
      - Use aria-label for unusual pronunciations
      - Avoid special characters that TTS handles poorly
      - Test with actual TTS software
  low:
  - id: A11Y-READ-LOW-001
    signal: Minor reading experience enhancements possible
    evidence_indicators:
    - Could have better paragraph separation
    - Line length could be optimized
    explanation: |
      Reading experience is functional but could be enhanced.
    remediation: |
      Refine based on readability best practices.
  positive:
  - id: A11Y-READ-POS-001
    signal: Excellent reading aid support
    evidence_indicators:
    - All text accessible to TTS
    - Text customization works
    - Reading mode compatible
  - id: A11Y-READ-POS-002
    signal: Dyslexia-friendly design
    evidence_indicators:
    - Good line spacing
    - Clear font choices
    - Short line lengths
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: tester
  steps:
  - id: '1'
    name: Test text-to-speech compatibility
    description: |
      Use TTS software or browser extension to read content and verify
      all text is accessible and read correctly.
    duration_estimate: 30 min
    questions:
    - Is all content text accessible to TTS?
    - Does TTS read text in correct order?
    - Are abbreviations and special content read correctly?
    - Is any meaningful text missed?
    expected_findings:
    - TTS compatibility assessment
    - Content not accessible to TTS
  - id: '2'
    name: Test text spacing adjustment
    description: |
      Apply WCAG 1.4.12 text spacing adjustments and verify content
      remains usable.
    duration_estimate: 25 min
    commands:
    - purpose: Apply text spacing bookmarklet
      command: |
        # Use this bookmarklet in browser:
        # javascript:(function(){var css=document.createElement('style');css.innerHTML='*{line-height:1.5!important;letter-spacing:0.12em!important;word-spacing:0.16em!important}p{margin-bottom:2em!important}';document.body.appendChild(css)})()
    questions:
    - Does content remain visible with increased spacing?
    - Is any text cut off or overlapping?
    - Does layout break at spacing levels?
    expected_findings:
    - Text spacing tolerance assessment
  - id: '3'
    name: Test font customization
    description: |
      Override fonts using browser settings and verify content still works.
    duration_estimate: 25 min
    questions:
    - Can fonts be overridden via browser settings?
    - Does layout work with different fonts?
    - Are there !important font declarations blocking override?
    expected_findings:
    - Font customization support
  - id: '4'
    name: Test reading mode
    description: |
      Test content in browser reading mode (Firefox, Safari) to verify
      compatibility.
    duration_estimate: 20 min
    questions:
    - Is reading mode available for content pages?
    - Does content display correctly in reading mode?
    - Is any content missing?
    expected_findings:
    - Reading mode compatibility
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Text-to-Speech Testing
    - Text Customization
    - Reading Mode Compatibility
    - Recommendations
  confidence_guidance:
    high: Tested with multiple reading tools and customization methods
    medium: Tested with primary reading aids
    low: Limited testing
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: wcag-1.4.12
      priority: required
    - source_id: coga-reading
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires testing with reading tools
    full:
      included: true
      priority: 2
    production:
      included: true
      priority: 2
closeout_checklist:
- id: read-001
  item: All text accessible to text-to-speech
  level: CRITICAL
  verification: manual
  verification_notes: Test with TTS software or browser extension
  expected: Confirmed by reviewer
- id: read-002
  item: Text spacing adjustment doesn't break layout
  level: CRITICAL
  verification: manual
  verification_notes: Apply WCAG 1.4.12 spacing levels
  expected: Confirmed by reviewer
- id: read-003
  item: User can override fonts
  level: BLOCKING
  verification: |
    grep -rn --include="*.css" --include="*.scss" \
      'font-family.*!important' . | wc -l | \
      xargs -I {} sh -c '[ {} -eq 0 ] && echo "PASS" || echo "FAIL"'
  expected: PASS
- id: read-004
  item: Text selection enabled on content
  level: BLOCKING
  verification: |
    grep -rn --include="*.css" --include="*.scss" \
      'user-select:\s*none' . | wc -l | \
      xargs -I {} sh -c '[ {} -lt 5 ] && echo "PASS" || echo "FAIL"'
  expected: PASS
governance:
  applicable_to:
    archetypes:
    - website
    - content-site
    - educational
    - web-application
  compliance_frameworks:
  - framework: WCAG 2.2
    controls:
    - 1.4.4
    - 1.4.12
  - framework: COGA
    controls:
    - make-content-easy-to-read
relationships:
  commonly_combined:
  - accessibility-inclusion.cognitive-accessibility.clear-language
  - accessibility-inclusion.inclusive-design.low-literacy-consideration
  - accessibility-inclusion.robust-compatibility.assistive-tech-compatibility
