audit:
  id: accessibility-inclusion.cognitive-accessibility.distraction-minimization
  name: Distraction Minimization
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: accessibility-inclusion
  category_number: 15
  subcategory: cognitive-accessibility
  tier: phd
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: codebase
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates the control users have over distracting content
    and motion, particularly important for users with attention disorders,
    anxiety, or other cognitive conditions.

    Based on WCAG 2.2 (Time-based, Pause-Stop-Hide) guidelines and COGA
    design patterns, the audit examines:
    - Moving, blinking, or auto-updating content
    - Animation and motion intensity
    - Auto-playing media (audio and video)
    - Interruptions (pop-ups, notifications, chat widgets)
    - Advertising and promotional content
    - Content density and visual complexity
    - Ability to pause, stop, or hide dynamic content
    - Support for prefers-reduced-motion
  why_it_matters: |
    Users with cognitive disabilities may be severely impacted by distractions:
    - ADHD users lose focus easily with moving content
    - Anxiety can be triggered by unexpected motion or sounds
    - Autism may include sensory sensitivities to animation
    - Memory issues worsen when attention is divided
    - Vestibular disorders can cause nausea from motion

    Distracting content:
    - Prevents users from reading or completing tasks
    - Causes physical discomfort (headaches, nausea)
    - Increases cognitive load and fatigue
    - May trigger seizures (flashing content)
    - Leads to site abandonment
  when_to_run:
  - When adding animations or motion
  - When implementing advertising
  - During accessibility audits
  - When user distraction complaints occur
prerequisites:
  required_artifacts:
  - type: running_application
    description: Application with all dynamic features active
  - type: source_code
    description: Animation and media code
  access_requirements:
  - Access to all pages including those with ads
  - Ability to test with prefers-reduced-motion
discovery:
  code_patterns:
  - pattern: animation|transition|@keyframes
    type: regex
    scope: source
    purpose: Find CSS animations
  - pattern: animate|motion|gsap|framer
    type: regex
    scope: source
    purpose: Find JavaScript animation libraries
  - pattern: autoplay|autoPlay
    type: regex
    scope: source
    purpose: Find auto-playing media
  - pattern: prefers-reduced-motion
    type: regex
    scope: source
    purpose: Find reduced motion support
  - pattern: setInterval|setTimeout|requestAnimationFrame
    type: regex
    scope: source
    purpose: Find timed/animated content
  file_patterns:
  - glob: '**/*.css'
    purpose: CSS animations
  - glob: '**/*.scss'
    purpose: SCSS animations
  - glob: '**/animations/**'
    purpose: Animation components
knowledge_sources:
  specifications:
  - id: wcag-22
    name: WCAG 2.2 Specification
    url: https://www.w3.org/TR/WCAG22/
    offline_cache: true
    priority: recommended
  - id: wcag-2.2.2
    name: 'WCAG 2.2 SC 2.2.2: Pause, Stop, Hide'
    url: https://www.w3.org/WAI/WCAG22/Understanding/pause-stop-hide.html
    offline_cache: true
    priority: required
  - id: wcag-2.3.1
    name: 'WCAG 2.2 SC 2.3.1: Three Flashes or Below'
    url: https://www.w3.org/WAI/WCAG22/Understanding/three-flashes-or-below-threshold.html
    offline_cache: true
    priority: required
  - id: coga-distraction
    name: 'COGA: Limit Interruptions'
    url: https://www.w3.org/TR/coga-usable/#limit-interruptions
    offline_cache: true
    priority: required
  guides:
  - id: a11y-motion
    name: Accessible Animation Guide
    url: https://www.smashingmagazine.com/2020/09/design-reduced-motion-sensitivities/
    offline_cache: true
  - id: mdn-prefers-motion
    name: 'MDN: prefers-reduced-motion'
    url: https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-reduced-motion
    offline_cache: true
tooling:
  static_analysis:
  - tool: stylelint
    purpose: Check for animation CSS
    offline_capable: true
  scripts:
  - id: motion-finder
    language: bash
    purpose: Find animation and motion code
    source: inline
    code: |
      #!/bin/bash
      echo "=== CSS Animations ==="
      grep -rn --include="*.css" --include="*.scss" \
        'animation\|@keyframes\|transition' . | head -30

      echo ""
      echo "=== JS Animation Libraries ==="
      grep -rn --include="*.js" --include="*.jsx" --include="*.tsx" \
        -i 'gsap\|framer\|animate\|spring' . | head -20

      echo ""
      echo "=== Auto-play Media ==="
      grep -rn --include="*.jsx" --include="*.tsx" --include="*.vue" \
        'autoplay\|autoPlay' . | head -15

      echo ""
      echo "=== Reduced Motion Support ==="
      grep -rn --include="*.css" --include="*.scss" --include="*.jsx" \
        'prefers-reduced-motion' . | head -15
signals:
  critical:
  - id: A11Y-DIST-CRIT-001
    signal: Content flashes more than 3 times per second
    evidence_indicators:
    - Rapid flashing animations
    - Strobe-like effects
    - Blinking text or backgrounds
    explanation: |
      WCAG 2.3.1 prohibits content that flashes more than 3 times per second
      as this can trigger seizures in users with photosensitive epilepsy.
    remediation: |
      Remove or reduce flashing:
      - Limit flashing to below 3 Hz
      - Ensure small area if flashing needed
      - Add warning before any unavoidable flashing content
      - Test with PEAT (Photosensitive Epilepsy Analysis Tool)
  - id: A11Y-DIST-CRIT-002
    signal: Moving content cannot be paused or stopped
    evidence_indicators:
    - Carousels auto-advance with no pause
    - Animations loop infinitely without control
    - Moving backgrounds without disable option
    explanation: |
      WCAG 2.2.2 requires moving, blinking, or auto-updating content that
      lasts more than 5 seconds to be pausable, stoppable, or hideable.
    remediation: |
      Add controls for all moving content:
      - Pause button for carousels/slideshows
      - Stop/hide for auto-updating content
      - Respect prefers-reduced-motion preference
      - Consider making movement on-demand rather than automatic
  high:
  - id: A11Y-DIST-HIGH-001
    signal: Audio or video auto-plays
    evidence_indicators:
    - Video plays automatically on page load
    - Background music starts without interaction
    - Ads auto-play with sound
    explanation: |
      Auto-playing media is distracting and can be startling or distressing.
      It also interferes with screen reader users' audio.
    remediation: |
      Never auto-play media with sound. If video auto-plays:
      - Mute by default with clear unmute control
      - Provide pause/stop controls
      - Consider not auto-playing at all
      - Respect prefers-reduced-motion for video
  - id: A11Y-DIST-HIGH-002
    signal: prefers-reduced-motion not respected
    evidence_indicators:
    - Animations play regardless of OS setting
    - No CSS media query for reduced motion
    - JavaScript ignores motion preferences
    explanation: |
      Users set prefers-reduced-motion for important reasons including
      vestibular disorders that cause motion sickness. Ignoring this
      preference can cause physical harm.
    remediation: |
      Implement reduced motion support:
      ```css
      @media (prefers-reduced-motion: reduce) {
        *, *::before, *::after {
          animation-duration: 0.01ms !important;
          transition-duration: 0.01ms !important;
        }
      }
      ```
      Or disable non-essential animations entirely.
  - id: A11Y-DIST-HIGH-003
    signal: Pop-ups or modals interrupt without user action
    evidence_indicators:
    - Newsletter pop-up on page load
    - Chat widget auto-expands
    - Promotional overlays appear automatically
    explanation: |
      Unexpected interruptions break concentration and can be extremely
      disruptive for users with attention difficulties.
    remediation: |
      Minimize interruptions:
      - Delay pop-ups until user engagement signals
      - Keep chat widgets minimized until clicked
      - Never interrupt users mid-task
      - Provide easy dismiss that stays dismissed
  medium:
  - id: A11Y-DIST-MED-001
    signal: Excessive animation throughout interface
    evidence_indicators:
    - Every interaction has elaborate animation
    - Page transitions with significant motion
    - Decorative animations throughout
    explanation: |
      While individual animations may be pausable, excessive use creates
      a generally distracting environment.
    remediation: |
      Practice animation restraint:
      - Use animation purposefully, not decoratively
      - Keep transitions short (< 300ms)
      - Reduce or remove animations in reduced-motion mode
      - Test with users who have attention difficulties
  - id: A11Y-DIST-MED-002
    signal: Auto-refreshing content without control
    evidence_indicators:
    - News feeds update automatically
    - Live data refreshes without pause option
    - Social feeds auto-load new content
    explanation: |
      Content that updates automatically can distract and cause users to
      lose their place, especially problematic for those with attention
      or memory issues.
    remediation: |
      Provide control over auto-refresh:
      - "Pause updates" button
      - Manual refresh option
      - Notification of new content without auto-insertion
      - Remember user preference
  low:
  - id: A11Y-DIST-LOW-001
    signal: Minor animation optimizations possible
    evidence_indicators:
    - Some animations longer than necessary
    - Reduced motion mode could be more thorough
    explanation: |
      Animation handling is generally good but could be further optimized.
    remediation: |
      Refine based on user feedback.
  positive:
  - id: A11Y-DIST-POS-001
    signal: Excellent reduced motion support
    evidence_indicators:
    - prefers-reduced-motion fully implemented
    - Essential-only animations in reduced mode
    - User controls for all motion
  - id: A11Y-DIST-POS-002
    signal: Respectful interruption handling
    evidence_indicators:
    - No unsolicited pop-ups
    - Notifications user-controlled
    - Calm, focused interface
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory moving and animated content
    description: |
      Identify all moving, blinking, and auto-updating content in the
      application.
    duration_estimate: 30 min
    commands:
    - purpose: Find CSS animations
      command: |
        grep -rn --include="*.css" --include="*.scss" \
          'animation\|@keyframes' . | wc -l
    - purpose: Find auto-play media
      command: |
        grep -rn --include="*.jsx" --include="*.tsx" --include="*.vue" \
          'autoplay\|autoPlay' .
    expected_findings:
    - Inventory of all animated content
    - Auto-playing media identified
  - id: '2'
    name: Test pause/stop controls
    description: |
      Verify all moving content can be paused, stopped, or hidden.
    duration_estimate: 30 min
    questions:
    - Can carousels be paused?
    - Can background animations be stopped?
    - Can auto-updating content be paused?
    - Are controls keyboard accessible?
    expected_findings:
    - Control availability for moving content
    - Content without adequate controls
  - id: '3'
    name: Test prefers-reduced-motion
    description: |
      Enable prefers-reduced-motion in OS/browser and verify application
      respects it.
    duration_estimate: 25 min
    questions:
    - Do animations stop or reduce in reduced-motion mode?
    - Are essential animations still functional?
    - Is the experience still usable without animation?
    - Does JavaScript animation respect the preference?
    expected_findings:
    - Reduced motion support assessment
  - id: '4'
    name: Evaluate interruption patterns
    description: |
      Test for unsolicited pop-ups, notifications, and other interruptions.
    duration_estimate: 25 min
    questions:
    - Do pop-ups appear without user action?
    - Can notifications be disabled?
    - Are interruptions dismissible and stay dismissed?
    - Is the chat widget intrusive?
    expected_findings:
    - Interruption pattern assessment
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: motion_inventory
    format: table
    description: All animated content with control status
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Animated Content Inventory
    - Control Mechanisms
    - Reduced Motion Support
    - Interruption Assessment
    - Recommendations
  confidence_guidance:
    high: All animated content tested with motion preferences
    medium: Major animations tested
    low: Code analysis without runtime testing
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: wcag-2.2.2
      priority: required
    - source_id: wcag-2.3.1
      priority: required
    - source_id: coga-distraction
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive motion testing
    full:
      included: true
      priority: 2
    production:
      included: true
      priority: 1
closeout_checklist:
- id: distract-001
  item: No content flashes more than 3 times per second
  level: CRITICAL
  verification: manual
  verification_notes: Review all animated content for flash frequency
  expected: Confirmed by reviewer
- id: distract-002
  item: Moving content can be paused/stopped
  level: CRITICAL
  verification: manual
  verification_notes: Test controls for all carousels and animations > 5 seconds
  expected: Confirmed by reviewer
- id: distract-003
  item: prefers-reduced-motion respected
  level: BLOCKING
  verification: |
    grep -rn --include="*.css" --include="*.scss" \
      'prefers-reduced-motion' . | wc -l | \
      xargs -I {} sh -c '[ {} -gt 0 ] && echo "PASS" || echo "FAIL"'
  expected: PASS
- id: distract-004
  item: No auto-play audio
  level: BLOCKING
  verification: manual
  verification_notes: Verify no audio plays without user interaction
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - website
    - web-application
    - spa
    - media-site
  compliance_frameworks:
  - framework: WCAG 2.2
    controls:
    - 2.2.2
    - 2.3.1
    - 1.4.2
  - framework: COGA
    controls:
    - limit-interruptions
relationships:
  commonly_combined:
  - accessibility-inclusion.cognitive-accessibility.consistent-layout
  - accessibility-inclusion.assistive-technology.switch-device-compatibility
  - accessibility-inclusion.inclusive-design.situational-impairment
