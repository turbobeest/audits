audit:
  id: accessibility-inclusion.cognitive-accessibility.consistent-layout
  name: Consistent Layout and Visual Design
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: accessibility-inclusion
  category_number: 15
  subcategory: cognitive-accessibility
  tier: phd
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: codebase
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates visual layout consistency and predictability across
    an application to support users with cognitive disabilities who rely on
    spatial memory and consistent patterns.

    The audit examines:
    - Consistent placement of navigation and common elements
    - Predictable page layouts and visual hierarchy
    - Consistent visual treatment of interactive elements
    - Stable layouts that don't shift unexpectedly
    - Consistent iconography and visual symbols
    - Predictable behavior of UI patterns
    - Visual grouping of related content
    - White space and content density

    Based on WCAG 3.2 (Predictable) guidelines and COGA (Cognitive Accessibility)
    design patterns.
  why_it_matters: |
    Users with cognitive disabilities often rely on:
    - Spatial memory to locate elements
    - Visual patterns to understand function
    - Consistency to reduce cognitive load
    - Predictable layouts to navigate efficiently

    Inconsistent layouts cause:
    - Increased time and effort to complete tasks
    - Confusion about element functions
    - Difficulty building mental models of the interface
    - Frustration and abandonment
    - Errors from clicking wrong elements

    Consistent layouts benefit all users by reducing cognitive load and
    supporting efficient navigation.
  when_to_run:
  - After design system changes
  - When adding new page templates
  - During accessibility audits
  - When user confusion is reported
prerequisites:
  required_artifacts:
  - type: design_system
    description: Design system or style guide (if available)
  - type: running_application
    description: Application for visual inspection
  access_requirements:
  - Access to multiple page types
  - Design documentation
discovery:
  code_patterns:
  - pattern: layout|template|page
    type: regex
    scope: source
    purpose: Find layout components and templates
  - pattern: position:\s*fixed|position:\s*sticky
    type: regex
    scope: source
    purpose: Find fixed/sticky elements
  file_patterns:
  - glob: '**/layouts/**'
    purpose: Layout templates
  - glob: '**/templates/**'
    purpose: Page templates
  - glob: '**/*.css'
    purpose: CSS files for layout patterns
knowledge_sources:
  specifications:
  - id: wcag-22
    name: WCAG 2.2 Specification
    url: https://www.w3.org/TR/WCAG22/
    offline_cache: true
    priority: recommended
  - id: wcag-3.2
    name: 'WCAG 2.2 Guideline 3.2: Predictable'
    url: https://www.w3.org/WAI/WCAG22/Understanding/predictable.html
    offline_cache: true
    priority: required
  - id: coga-design
    name: 'COGA Design Pattern: Consistent Layout'
    url: https://www.w3.org/TR/coga-usable/#consistent-layout
    offline_cache: true
    priority: required
  - id: wcag-1.4.10
    name: 'WCAG 2.2 SC 1.4.10: Reflow'
    url: https://www.w3.org/WAI/WCAG22/Understanding/reflow.html
    offline_cache: true
    priority: recommended
  guides:
  - id: material-layout
    name: Material Design Layout Principles
    url: https://m3.material.io/foundations/layout/understanding-layout
    offline_cache: true
  - id: nngroup-consistency
    name: 'Nielsen Norman Group: Consistency'
    url: https://www.nngroup.com/articles/consistency-and-standards/
    offline_cache: true
tooling:
  assessment_tools:
  - tool: Visual comparison screenshots
    purpose: Compare layouts across pages
  - tool: Design system audit tools
    purpose: Check component consistency
  scripts:
  - id: layout-finder
    language: bash
    purpose: Find layout components
    source: inline
    code: |
      #!/bin/bash
      echo "=== Layout Templates ==="
      find . \( find . -name "*layout*" -o -name "*template*" \) | head -20

      echo ""
      echo "=== Fixed/Sticky Elements ==="
      grep -rn --include="*.css" --include="*.scss" \
        'position:\s*\(fixed\|sticky\)' . | head -20
signals:
  critical:
  - id: A11Y-LAYOUT-CRIT-001
    signal: Navigation location changes between pages
    evidence_indicators:
    - Primary nav in different positions on different pages
    - Navigation disappears on some pages
    - Menu location changes with user state
    explanation: |
      Changing navigation location forces users to search for navigation
      on every page, creating significant cognitive burden and causing
      users to lose orientation.
    remediation: |
      Fix navigation position across all pages:
      - Use shared layout component
      - Navigation should appear in same relative position
      - Consider user state changes (show/hide items, not relocate)
  high:
  - id: A11Y-LAYOUT-HIGH-001
    signal: Visual treatment of same elements differs
    evidence_indicators:
    - Primary buttons styled differently across pages
    - Links have different visual indicators
    - Form fields styled inconsistently
    explanation: |
      When the same type of element looks different on different pages,
      users cannot rely on visual recognition to understand function.
    remediation: |
      Use design system with consistent component styles:
      - Primary buttons always same color and shape
      - Links always same underline/color treatment
      - Form fields always same visual design
      - Icons always same visual style
  - id: A11Y-LAYOUT-HIGH-002
    signal: Layout shifts unexpectedly during use
    evidence_indicators:
    - Content jumps when images load
    - Elements move when dynamic content loads
    - Layout changes without user action
    explanation: |
      Unexpected layout shifts disorient users and can cause accidental
      clicks on wrong elements. This is especially problematic for users
      with cognitive or motor impairments.
    remediation: |
      Prevent layout shifts:
      - Reserve space for images/media before loading
      - Use skeleton loaders
      - Load dynamic content without displacing existing content
      - Optimize Cumulative Layout Shift (CLS)
  - id: A11Y-LAYOUT-HIGH-003
    signal: Page templates vary significantly without reason
    evidence_indicators:
    - Similar pages use different layouts
    - Content placement varies by section
    - Visual hierarchy differs between pages
    explanation: |
      Users expect similar pages to follow similar patterns. When product
      pages, for example, have different layouts, users must relearn the
      interface for each one.
    remediation: |
      Create page templates for each content type:
      - All product pages share same layout
      - All article pages share same layout
      - Variations should be minor, not structural
  medium:
  - id: A11Y-LAYOUT-MED-001
    signal: Inconsistent spacing and alignment
    evidence_indicators:
    - Margins and padding vary between similar elements
    - Alignment differs across pages
    - Visual rhythm broken
    explanation: |
      Inconsistent spacing creates visual noise and makes it harder to
      group related content visually.
    remediation: |
      Use design tokens for consistent spacing:
      - Define spacing scale (4px, 8px, 16px, 24px, etc.)
      - Apply consistently across components
      - Align elements to grid
  - id: A11Y-LAYOUT-MED-002
    signal: Iconography varies or is inconsistent
    evidence_indicators:
    - Same function uses different icons
    - Icons from different icon sets mixed
    - Icon styles vary (outline vs filled)
    explanation: |
      Inconsistent icons confuse users who rely on visual recognition
      to understand function.
    remediation: |
      Standardize iconography:
      - Use single icon set throughout
      - Same function = same icon everywhere
      - Consistent icon style (all outline or all filled)
  low:
  - id: A11Y-LAYOUT-LOW-001
    signal: Minor visual inconsistencies
    evidence_indicators:
    - Slight color variations
    - Minor spacing differences
    - Cosmetic inconsistencies
    explanation: |
      Small visual inconsistencies that don't significantly impact usability
      but indicate design system issues.
    remediation: |
      Address during design system maintenance.
  positive:
  - id: A11Y-LAYOUT-POS-001
    signal: Strong visual consistency
    evidence_indicators:
    - Consistent layouts across all pages
    - Design system well-implemented
    - Predictable visual patterns
  - id: A11Y-LAYOUT-POS-002
    signal: Stable layouts without shifts
    evidence_indicators:
    - No layout shift during loading
    - Content remains stable
    - Good CLS score
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Compare navigation placement
    description: |
      Document navigation position across multiple page types to verify
      consistency.
    duration_estimate: 20 min
    questions:
    - Is primary navigation in the same position on all pages?
    - Does secondary navigation appear consistently?
    - Is footer consistent across pages?
    expected_findings:
    - Navigation consistency assessment
    - Any position variations
  - id: '2'
    name: Assess component visual consistency
    description: |
      Compare visual treatment of common components (buttons, links,
      forms, cards) across pages.
    duration_estimate: 30 min
    questions:
    - Are primary buttons styled the same everywhere?
    - Are links visually consistent?
    - Are form fields styled consistently?
    - Do cards/lists follow same visual patterns?
    expected_findings:
    - Component consistency assessment
    - Visual variations identified
  - id: '3'
    name: Check for layout shifts
    description: |
      Test for unexpected layout shifts during page load and interaction.
    duration_estimate: 25 min
    commands:
    - purpose: Check CLS in Lighthouse
      command: |
        # Run Lighthouse in Chrome DevTools or:
        npx lighthouse <URL> --only-categories=performance --output=json 2>/dev/null | \
          grep -i "cumulative-layout-shift" || echo "Run Lighthouse manually"
    questions:
    - Does content jump during page load?
    - Do elements shift when images load?
    - Are there shifts during interaction?
    expected_findings:
    - Layout shift assessment
    - CLS score if available
  - id: '4'
    name: Review page template consistency
    description: |
      Compare similar page types to ensure they follow consistent layouts.
    duration_estimate: 25 min
    questions:
    - Do similar pages use the same templates?
    - Is content placement predictable?
    - Are visual hierarchies consistent?
    expected_findings:
    - Template consistency assessment
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: consistency_matrix
    format: table
    description: Layout comparison across page types
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Navigation Consistency
    - Component Consistency
    - Layout Stability
    - Recommendations
  confidence_guidance:
    high: Comprehensive review of all page types and components
    medium: Sample-based review of major page types
    low: Limited visual inspection
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: wcag-3.2
      priority: required
    - source_id: coga-design
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires cross-page visual comparison
    full:
      included: true
      priority: 2
    production:
      included: true
      priority: 2
closeout_checklist:
- id: layout-001
  item: Navigation position consistent across all pages
  level: CRITICAL
  verification: manual
  verification_notes: Visit at least 5 different page types and verify navigation position
  expected: Confirmed by reviewer
- id: layout-002
  item: Component visual treatment consistent
  level: BLOCKING
  verification: manual
  verification_notes: Verify buttons, links, forms styled consistently
  expected: Confirmed by reviewer
- id: layout-003
  item: No unexpected layout shifts
  level: BLOCKING
  verification: manual
  verification_notes: Test page loads and verify no content jumps
  expected: Confirmed by reviewer
- id: layout-004
  item: Similar pages use consistent templates
  level: WARNING
  verification: manual
  verification_notes: Compare similar page types for layout consistency
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - website
    - web-application
    - spa
    - e-commerce
  compliance_frameworks:
  - framework: WCAG 2.2
    controls:
    - 3.2.3
    - 3.2.4
  - framework: COGA
    controls:
    - consistent-layout
relationships:
  commonly_combined:
  - accessibility-inclusion.understandable-predictable.navigation-consistency
  - accessibility-inclusion.understandable-predictable.component-consistency
  - accessibility-inclusion.cognitive-accessibility.distraction-minimization
