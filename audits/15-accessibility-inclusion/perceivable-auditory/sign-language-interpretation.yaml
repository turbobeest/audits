# ============================================================
# AUDIT: Sign Language Interpretation - WCAG 2.1 AAA
# ============================================================
# Verifies video content provides sign language interpretation
# for enhanced deaf accessibility.

audit:
  id: "accessibility-inclusion.perceivable-auditory.sign-language-interpretation"
  name: "Sign Language Interpretation Audit"
  version: "1.0.0"
  last_updated: "2026-01-19"
  status: "active"

  category: "accessibility-inclusion"
  category_number: 15
  subcategory: "perceivable-auditory"

  tier: "phd"
  estimated_duration: "2-4 hours"  # median: 3h

  completeness: "requires_discovery"
  requires_runtime: true
  destructive: false

execution:
  automatable: "manual"
  severity: "medium"
  scope: "codebase"

  default_profiles:
    - "full"
    - "accessibility"

  blocks_phase: false
  parallelizable: true

description:
  what: |
    This audit evaluates the provision of sign language interpretation
    for video content per WCAG 2.1 SC 1.2.6 Sign Language (Prerecorded)
    Level AAA.

    The audit covers:
    - Availability of sign language interpretation tracks
    - Quality and accuracy of sign language translation
    - Visibility and sizing of interpreter window
    - Support for multiple sign languages (ASL, BSL, etc.)
    - Picture-in-picture or separate track options
    - Live event sign language interpretation

  why_it_matters: |
    For many deaf individuals, sign language is their first language,
    and written text (including captions) is a second language:

    - Approximately 70 million deaf people worldwide use sign language
    - Reading comprehension in written language varies significantly
    - Sign language provides full linguistic access with tone and nuance
    - Cultural and emotional content translates better through sign
    - Some concepts are clearer in sign than in written text

    While this is a Level AAA criterion (enhanced, not required),
    it significantly improves access for the deaf community.

  when_to_run:
    - "When targeting AAA compliance"
    - "For critical informational content"
    - "For government or public service applications"
    - "For educational content"
    - "When serving deaf community specifically"

prerequisites:
  required_artifacts:
    - type: "codebase"
      description: "Access to video content and player code"
    - type: "running_application"
      description: "Deployed instance for verification"
    - type: "content_inventory"
      description: "Prioritized video content list"

  access_requirements:
    - "Read access to video files and embedding code"
    - "Access to sign language interpretation tracks"
    - "Consultation with deaf users or interpreters"

discovery:
  code_patterns:
    - pattern: "sign-language|signlanguage|asl|bsl|interpretation"
      type: "regex"
      scope: "source"
      purpose: "Find sign language implementation references"
    - pattern: "kind=\"captions\".*sign|sign.*kind=\"captions\""
      type: "regex"
      scope: "source"
      purpose: "Find sign language video tracks"

  file_patterns:
    - glob: "**/*-asl.*"
      purpose: "ASL version video files"
    - glob: "**/*-bsl.*"
      purpose: "BSL version video files"
    - glob: "**/sign-language/**"
      purpose: "Sign language content directory"

  documents_to_review:
    - type: "Content strategy"
      purpose: "Check for sign language content plans"
    - type: "Accessibility policy"
      purpose: "Review AAA compliance commitments"

knowledge_sources:
  specifications:
    - id: "wcag-21"
      name: "WCAG 2.1 Quick Reference"
      url: "https://www.w3.org/WAI/WCAG21/quickref/"
      offline_cache: true
      priority: "recommended"
    - id: "wcag21-126"
      name: "WCAG 2.1 Success Criterion 1.2.6 Sign Language (Prerecorded)"
      url: "https://www.w3.org/WAI/WCAG21/Understanding/sign-language-prerecorded.html"
      offline_cache: true
      priority: "required"

  guides:
    - id: "w3c-sign-language"
      name: "W3C: Sign Languages"
      url: "https://www.w3.org/WAI/media/av/sign-languages/"
      offline_cache: true
    - id: "nad-guidelines"
      name: "National Association of the Deaf: Position Statement on Accessible Media"
      url: "https://www.nad.org/resources/technology/accessible-media/"
      offline_cache: true

  papers:
    - id: "deaf-literacy"
      title: "Deaf Literacy and Sign Language Access"
      url: "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4596557/"

tooling:
  assessment_tools:
    - tool: "Deaf interpreter consultation"
      purpose: "Quality assessment of sign language interpretation"
    - tool: "Video editing software"
      purpose: "Create picture-in-picture sign language videos"

signals:
  critical:
    - id: "A11Y-SIGN-CRIT-001"
      signal: "Critical public service content lacks sign language option"
      evidence_pattern: "Government or emergency content without sign language"
      explanation: |
        Some deaf individuals cannot effectively access written captions.
        Critical content requires sign language for full accessibility.
      remediation: "Provide sign language interpretation for critical content"

  high:
    - id: "A11Y-SIGN-HIGH-001"
      signal: "Sign language interpreter too small to see clearly"
      explanation: "Interpreter window must be large enough for hand shapes to be visible"
      remediation: "Ensure interpreter is at least 1/6 of video area"
    - id: "A11Y-SIGN-HIGH-002"
      signal: "Sign language version not discoverable"
      explanation: "Users must be able to easily find sign language options"
      remediation: "Add visible sign language toggle or link"
    - id: "A11Y-SIGN-HIGH-003"
      signal: "Interpretation quality is poor"
      explanation: "Sign language must be provided by qualified interpreters"
      remediation: "Use certified interpreters and get deaf community review"

  medium:
    - id: "A11Y-SIGN-MED-001"
      signal: "Only one sign language provided"
      remediation: "Consider multiple sign languages (ASL, BSL, etc.) for international audience"
    - id: "A11Y-SIGN-MED-002"
      signal: "Sign language not available for live content"
      remediation: "Provide live sign language interpretation for events"
    - id: "A11Y-SIGN-MED-003"
      signal: "Cannot resize or reposition interpreter window"
      remediation: "Allow user customization of interpreter display"

  low:
    - id: "A11Y-SIGN-LOW-001"
      signal: "Background behind interpreter could be clearer"

  positive:
    - id: "A11Y-SIGN-POS-001"
      signal: "Sign language interpretation available for key content"
    - id: "A11Y-SIGN-POS-002"
      signal: "Multiple sign languages supported"
    - id: "A11Y-SIGN-POS-003"
      signal: "Interpreter display is customizable"

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Inventory Priority Video Content"
      description: |
        Identify videos that would benefit most from sign
        language interpretation (critical, educational, legal).
      duration_estimate: "30 min"
      commands:
        - purpose: "Find video content"
          command: "grep -rn '<video\\|youtube\\|vimeo' --include='*.html' --include='*.jsx' . | head -30"
      questions:
        - "What content is most critical for full accessibility?"
        - "Is there government, legal, or emergency content?"
        - "Is there educational content?"
        - "What is the target audience?"
      expected_findings:
        - "Prioritized content list"
        - "Target audience analysis"

    - id: "2"
      name: "Check for Existing Sign Language Content"
      description: |
        Determine if any sign language interpretation
        is currently available.
      duration_estimate: "30 min"
      commands:
        - purpose: "Find sign language references"
          command: "grep -rn 'sign-language\\|asl\\|bsl' --include='*.html' --include='*.jsx' --include='*.json' ."
      expected_findings:
        - "Existing sign language content"
        - "Implementation patterns used"

    - id: "3"
      name: "Evaluate Implementation Quality"
      description: |
        If sign language is present, evaluate quality,
        visibility, and discoverability.
      duration_estimate: "45 min"
      questions:
        - "Is the interpreter clearly visible?"
        - "Is the interpreter window appropriately sized?"
        - "Can users easily find the sign language option?"
        - "Is the interpretation by a certified interpreter?"
        - "Is the background appropriate for visibility?"
      expected_findings:
        - "Quality assessment"
        - "Visibility and usability issues"

    - id: "4"
      name: "Develop Implementation Recommendations"
      description: |
        Create recommendations for adding or improving
        sign language interpretation.
      duration_estimate: "30 min"
      expected_findings:
        - "Implementation strategy"
        - "Vendor/interpreter recommendations"
        - "Priority content for interpretation"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Content Priority Analysis"
        - "Current Sign Language Coverage"
        - "Quality Assessment"
        - "Implementation Recommendations"
        - "Resource Requirements"

  confidence_guidance:
    high: "Evaluated with deaf community input"
    medium: "Technical assessment without deaf user testing"
    low: "Code-based discovery only"

offline:
  capability: "partial"

  cache_manifest:
    knowledge:
      - source_id: "wcag21-126"
        priority: "required"

profiles:
  membership:
    quick:
      included: false
      reason: "AAA requirement, not baseline"
    full:
      included: true
      priority: 4
    accessibility:
      included: true
      priority: 3

closeout_checklist:
  - id: "sign-language-001"
    item: "Critical content has sign language option (if targeting AAA)"
    level: "WARNING"
    verification: "manual"
    verification_notes: "Review priority content for sign language availability"
    expected: "Confirmed by reviewer or deferred"

  - id: "sign-language-002"
    item: "Sign language interpreter is clearly visible"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Verify interpreter window size and clarity"
    expected: "Confirmed by reviewer"

  - id: "sign-language-003"
    item: "Sign language option is easily discoverable"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Check for visible toggle or link to sign language version"
    expected: "Confirmed by reviewer"

  - id: "sign-language-004"
    item: "Interpretation quality verified"
    level: "WARNING"
    verification: "manual"
    verification_notes: "Ideally review with deaf community members"
    expected: "Confirmed by reviewer"

governance:
  applicable_to:
    archetypes: ["government", "education", "public-service"]

  compliance_frameworks:
    - framework: "WCAG 2.1"
      controls: ["1.2.6"]
    - framework: "EN 301 549"
      controls: ["9.1.2.6"]

relationships:
  commonly_combined:
    - "accessibility-inclusion.perceivable-auditory.video-caption"
    - "accessibility-inclusion.perceivable-auditory.audio-transcript"
    - "accessibility-inclusion.perceivable-auditory.audio-description"
