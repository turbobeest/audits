audit:
  id: accessibility-inclusion.assistive-technology.screen-reader-flow
  name: Screen Reader Navigation Flow
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: accessibility-inclusion
  category_number: 15
  subcategory: assistive-technology
  tier: phd
  estimated_duration: 3-4 hours  # median: 3h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: manual
  severity: high
  scope: runtime
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: false
description:
  what: |
    This audit evaluates the logical flow and navigational experience for
    screen reader users, going beyond basic accessibility to assess whether
    the experience is efficient and intuitive.

    The audit examines:
    - Heading hierarchy and navigation by headings
    - Landmark region structure and navigation
    - Reading order vs visual order
    - Tab order for interactive elements
    - Content grouping and relationships
    - Skip navigation and quick navigation features
    - Announcement of state changes and updates
    - Orientation cues and context

    Screen reader users navigate primarily via:
    - Headings (H key)
    - Landmarks (D key or rotor)
    - Links (K key)
    - Forms/buttons (F/B keys)
    - Tab key for interactive elements
  why_it_matters: |
    A technically accessible site can still provide a poor screen reader
    experience if the flow and structure aren't well designed:
    - Illogical heading structure makes navigation inefficient
    - Poor reading order causes confusion about content relationships
    - Missing landmarks force linear reading through everything
    - Lack of context makes users lose their place
    - Verbose or redundant content wastes time

    Good screen reader flow enables blind users to navigate as efficiently
    as sighted users scanning a page visually.
  when_to_run:
  - After major structural changes
  - When adding new page types
  - During accessibility experience reviews
  - When screen reader user feedback is received
prerequisites:
  required_artifacts:
  - type: running_application
    description: Application available for testing
  access_requirements:
  - Screen reader software (NVDA, JAWS, or VoiceOver)
  - Access to all application areas
  - Test accounts for different user states
discovery:
  code_patterns:
  - pattern: <h[1-6][^>]*>
    type: regex
    scope: source
    purpose: Identify heading structure
  - pattern: role=['"](?:banner|main|navigation|complementary|contentinfo|search)['"]|<(?:header|main|nav|aside|footer)
    type: regex
    scope: source
    purpose: Identify landmark regions
  - pattern: skip.*content|skip.*nav
    type: regex
    scope: source
    purpose: Identify skip links
  file_patterns:
  - glob: '**/layouts/**'
    purpose: Page layout templates
  - glob: '**/templates/**'
    purpose: Page templates
  - glob: '**/*.html'
    purpose: HTML files
knowledge_sources:
  specifications:
  - id: wcag-1.3.1
    name: 'WCAG 2.2 SC 1.3.1: Info and Relationships'
    url: https://www.w3.org/WAI/WCAG22/Understanding/info-and-relationships.html
    offline_cache: true
    priority: required
  - id: wcag-1.3.2
    name: 'WCAG 2.2 SC 1.3.2: Meaningful Sequence'
    url: https://www.w3.org/WAI/WCAG22/Understanding/meaningful-sequence.html
    offline_cache: true
    priority: required
  - id: wcag-2.4.1
    name: 'WCAG 2.2 SC 2.4.1: Bypass Blocks'
    url: https://www.w3.org/WAI/WCAG22/Understanding/bypass-blocks.html
    offline_cache: true
    priority: required
  guides:
  - id: w3c-page-structure
    name: 'W3C WAI: Page Structure Tutorial'
    url: https://www.w3.org/WAI/tutorials/page-structure/
    offline_cache: true
  - id: webaim-headings
    name: 'WebAIM: Headings and Document Structure'
    url: https://webaim.org/techniques/semanticstructure/
    offline_cache: true
tooling:
  assessment_tools:
  - tool: NVDA
    purpose: Primary screen reader testing
  - tool: HeadingsMap browser extension
    purpose: Visualize heading structure
  - tool: Landmarks browser extension
    purpose: Visualize landmark structure
  scripts:
  - id: structure-checker
    language: bash
    purpose: Extract heading and landmark structure
    source: inline
    code: |
      #!/bin/bash
      echo "=== Heading Structure ==="
      grep -rn --include="*.html" --include="*.jsx" --include="*.tsx" \
        -E "<h[1-6]" . | head -50

      echo ""
      echo "=== Landmark Regions ==="
      grep -rn --include="*.html" --include="*.jsx" --include="*.tsx" \
        -E "(role=\"(banner|main|navigation|complementary|contentinfo)\"|<(header|main|nav|aside|footer))" . | head -30

      echo ""
      echo "=== Skip Links ==="
      grep -rn --include="*.html" --include="*.jsx" --include="*.tsx" \
        -i "skip" . | grep -i "(content|nav|main)"
signals:
  critical:
  - id: A11Y-FLOW-CRIT-001
    signal: No heading structure present
    evidence_indicators:
    - Page has no headings
    - Only H1 used with no hierarchy
    - Headings used purely for styling
    explanation: |
      Without proper heading structure, screen reader users cannot navigate
      by headings, forcing them to read through all content sequentially
      to find what they need.
    remediation: |
      Implement logical heading hierarchy:
      - Single H1 for page title
      - H2 for major sections
      - H3 for subsections within H2
      - Don't skip levels (H1 to H3 without H2)
  - id: A11Y-FLOW-CRIT-002
    signal: Reading order does not match visual order
    evidence_indicators:
    - CSS reorders content visually but DOM order differs
    - Flexbox/grid order different from source order
    - Content announced in confusing sequence
    explanation: |
      Screen readers follow DOM order, not visual order. When these differ
      significantly, screen reader users receive content in a confusing
      sequence that doesn't match the intended reading flow.
    remediation: |
      Ensure DOM order matches visual order. If CSS reordering is necessary,
      verify the DOM order still makes logical sense. Consider restructuring
      HTML to match intended reading order.
  high:
  - id: A11Y-FLOW-HIGH-001
    signal: Missing or inadequate landmark regions
    evidence_indicators:
    - No main landmark
    - No navigation landmark
    - Multiple unlabeled landmarks of same type
    explanation: |
      Landmark regions enable screen reader users to jump quickly between
      major page sections. Without them, users must navigate element by
      element.
    remediation: |
      Add appropriate landmarks:
      - <main> or role="main" for primary content
      - <nav> or role="navigation" for navigation
      - <header> for page header (becomes banner)
      - <footer> for page footer (becomes contentinfo)
      - Label multiple landmarks with aria-label
  - id: A11Y-FLOW-HIGH-002
    signal: No skip link or skip link doesn't work
    evidence_indicators:
    - No skip to main content link
    - Skip link not first focusable element
    - Skip link target doesn't exist
    explanation: |
      Without a working skip link, keyboard and screen reader users must
      tab through all navigation on every page to reach main content.
    remediation: |
      Add skip link as first focusable element:
      <a href="#main" class="skip-link">Skip to main content</a>
      Ensure #main target exists and has tabindex="-1" for programmatic focus.
  - id: A11Y-FLOW-HIGH-003
    signal: Heading levels skip inappropriately
    evidence_indicators:
    - H1 followed directly by H3
    - Heading levels jump more than one level
    - Inconsistent heading hierarchy
    explanation: |
      Skipped heading levels confuse screen reader users about document
      structure and may indicate missing content sections.
    remediation: |
      Don't skip heading levels. Each section should have appropriate level
      headings. If visual styling differs from hierarchy, use CSS to style
      headings appropriately.
  medium:
  - id: A11Y-FLOW-MED-001
    signal: Tab order differs significantly from reading order
    evidence_indicators:
    - Focus jumps around illogically
    - Positive tabindex values used
    - Interactive elements focused in unexpected order
    explanation: |
      When tab order doesn't follow reading order, users become disoriented
      as focus jumps to unexpected locations.
    remediation: |
      Ensure tab order follows visual/reading order. Avoid positive tabindex
      values. Restructure DOM if necessary to achieve logical focus order.
  - id: A11Y-FLOW-MED-002
    signal: Verbose or repetitive announcements
    evidence_indicators:
    - Same information announced multiple ways
    - Decorative images announced
    - Hidden content announced
    explanation: |
      Excessive announcements waste time and cognitive effort for screen
      reader users navigating the content.
    remediation: |
      Use aria-hidden on decorative content. Ensure accessible names don't
      repeat visible text. Use sr-only text sparingly and meaningfully.
  low:
  - id: A11Y-FLOW-LOW-001
    signal: Minor flow optimizations possible
    evidence_indicators:
    - Headings could be more descriptive
    - Additional landmarks would help
    - Reading order mostly good with minor issues
    explanation: |
      While functional, the screen reader experience could be improved
      with minor refinements.
    remediation: |
      Consider user feedback and implement optimizations based on
      actual usage patterns.
  positive:
  - id: A11Y-FLOW-POS-001
    signal: Excellent heading structure
    evidence_indicators:
    - Logical heading hierarchy without skips
    - Descriptive heading text
    - Heading navigation efficient
  - id: A11Y-FLOW-POS-002
    signal: Complete landmark structure
    evidence_indicators:
    - All standard landmarks present and labeled
    - Landmark navigation efficient
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: tester
  steps:
  - id: '1'
    name: Analyze heading structure
    description: |
      Review the heading structure both in code and by navigating with
      screen reader heading navigation (H key in NVDA/JAWS).
    duration_estimate: 30 min
    commands:
    - purpose: Extract heading structure
      command: |
        grep -rn --include="*.html" --include="*.jsx" --include="*.tsx" \
          -E "<h[1-6]" . | head -50
    questions:
    - Is there exactly one H1?
    - Does heading hierarchy avoid level skips?
    - Are headings descriptive and meaningful?
    - Can you navigate to any section via headings?
    expected_findings:
    - Heading structure documentation
    - Hierarchy issues identified
  - id: '2'
    name: Evaluate landmark structure
    description: |
      Verify landmark regions are present and properly labeled.
      Test navigation by landmarks with screen reader.
    duration_estimate: 30 min
    questions:
    - Is there a main landmark?
    - Are navigation areas marked as navigation landmarks?
    - Are multiple landmarks of same type uniquely labeled?
    - Can you jump to major sections via landmarks?
    expected_findings:
    - Landmark structure documentation
    - Missing or unlabeled landmarks
  - id: '3'
    name: Test reading order
    description: |
      Navigate with screen reader in reading mode to verify content
      is announced in logical order.
    duration_estimate: 30 min
    questions:
    - Does reading order match visual layout intent?
    - Is related content grouped together?
    - Are there any confusing jumps in content?
    - Is context maintained when reading sequentially?
    expected_findings:
    - Reading order assessment
    - Any order issues documented
  - id: '4'
    name: Test focus/tab order
    description: |
      Tab through all interactive elements to verify focus order
      is logical and predictable.
    duration_estimate: 30 min
    questions:
    - Does tab order follow visual/reading order?
    - Are any interactive elements skipped?
    - Does focus ever jump unexpectedly?
    - Is there a working skip link?
    expected_findings:
    - Tab order assessment
    - Focus management issues
  - id: '5'
    name: Evaluate overall navigation efficiency
    description: |
      Assess how efficiently a screen reader user can accomplish
      common tasks compared to sighted users.
    duration_estimate: 45 min
    questions:
    - How many keystrokes to reach main content?
    - Can users quickly orient themselves on each page?
    - Is the experience efficient for repeated visits?
    expected_findings:
    - Navigation efficiency assessment
    - Recommendations for improvement
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: structure_documentation
    format: outline
    description: Documented heading and landmark structure
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Heading Structure Analysis
    - Landmark Structure Analysis
    - Reading/Tab Order Assessment
    - Efficiency Recommendations
  confidence_guidance:
    high: Tested with multiple screen readers on all page types
    medium: Tested with one screen reader on representative pages
    low: Code analysis without screen reader testing
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: wcag-1.3.1
      priority: required
    - source_id: wcag-1.3.2
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires manual screen reader navigation
    full:
      included: true
      priority: 1
    production:
      included: true
      priority: 1
closeout_checklist:
- id: sr-flow-001
  item: Logical heading hierarchy without level skips
  level: CRITICAL
  verification: manual
  verification_notes: Verify using HeadingsMap or NVDA element list
  expected: Confirmed by reviewer
- id: sr-flow-002
  item: Main landmark present and labeled
  level: CRITICAL
  verification: manual
  verification_notes: Verify main region exists on all pages
  expected: Confirmed by reviewer
- id: sr-flow-003
  item: Skip link functional
  level: BLOCKING
  verification: manual
  verification_notes: Verify skip link is first focusable and works
  expected: Confirmed by reviewer
- id: sr-flow-004
  item: Reading order matches visual order
  level: BLOCKING
  verification: manual
  verification_notes: Navigate with arrow keys and verify logical order
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - website
    - web-application
    - spa
    - content-site
  compliance_frameworks:
  - framework: WCAG 2.2
    controls:
    - 1.3.1
    - 1.3.2
    - 2.4.1
    - 2.4.6
  - framework: Section 508
    controls:
    - '1194.22'
  - framework: EN 301 549
    controls:
    - 9.1.3.1
    - 9.1.3.2
    - 9.2.4.1
relationships:
  commonly_combined:
  - accessibility-inclusion.robust-compatibility.screen-reader-testing
  - accessibility-inclusion.robust-compatibility.aria-usage
  - accessibility-inclusion.cognitive-accessibility.consistent-layout
