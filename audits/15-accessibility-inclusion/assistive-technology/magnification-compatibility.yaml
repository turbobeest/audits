audit:
  id: accessibility-inclusion.assistive-technology.magnification-compatibility
  name: Screen Magnification Compatibility
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: accessibility-inclusion
  category_number: 15
  subcategory: assistive-technology
  tier: phd
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: manual
  severity: high
  scope: runtime
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: false
description:
  what: |
    This audit evaluates application compatibility with screen magnification
    software used by people with low vision who need enlarged content to
    read and navigate.

    Magnification tools include:
    - ZoomText (Windows) - full-featured commercial magnifier
    - Windows Magnifier - built-in Windows magnification
    - macOS Zoom - built-in macOS magnification
    - Browser zoom - 200-500% browser zoom levels
    - iOS/Android zoom - mobile accessibility zoom

    At 200-400% magnification, users see only a small portion of the screen.
    The audit verifies:
    - Content reflows properly at zoom levels (WCAG 1.4.10)
    - Focus tracking keeps focused element visible
    - Tooltips and popups appear near their triggers
    - Text remains readable when enlarged
    - Related content stays visually grouped
    - Horizontal scrolling is minimized
  why_it_matters: |
    Low vision is one of the most common visual impairments, affecting
    millions of people who need magnification to use computers. At high
    zoom levels:
    - Users see only 6-25% of the screen at once
    - Content separated by distance becomes disconnected
    - Focus indicators must be visible in the viewport
    - Popups appearing far from triggers are lost
    - Horizontal scrolling is extremely disorienting

    Poor magnification compatibility can make sites unusable even when
    they pass automated accessibility tests.
  when_to_run:
  - During accessibility audits
  - After layout changes
  - When adding tooltips, popovers, or modals
  - For low vision user support
prerequisites:
  required_artifacts:
  - type: running_application
    description: Application available for zoom testing
  access_requirements:
  - Screen magnification software or browser zoom
  - Access to all application features
  - Multiple viewport sizes
discovery:
  code_patterns:
  - pattern: position:\s*fixed|position:\s*absolute
    type: regex
    scope: source
    purpose: Find fixed/absolute positioning that may cause zoom issues
  - pattern: tooltip|popover|popup|dropdown
    type: regex
    scope: source
    purpose: Find popup elements needing proximity testing
  - pattern: overflow:\s*hidden|overflow-x:\s*hidden
    type: regex
    scope: source
    purpose: Find overflow hidden that may clip content
  file_patterns:
  - glob: '**/*.css'
    purpose: CSS files for layout analysis
  - glob: '**/*.scss'
    purpose: SCSS files
  - glob: '**/components/**'
    purpose: Component styles
knowledge_sources:
  specifications:
  - id: wcag-1.4.10
    name: 'WCAG 2.2 SC 1.4.10: Reflow'
    url: https://www.w3.org/WAI/WCAG22/Understanding/reflow.html
    offline_cache: true
    priority: required
  - id: wcag-1.4.4
    name: 'WCAG 2.2 SC 1.4.4: Resize Text'
    url: https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html
    offline_cache: true
    priority: required
  - id: wcag-1.4.12
    name: 'WCAG 2.2 SC 1.4.12: Text Spacing'
    url: https://www.w3.org/WAI/WCAG22/Understanding/text-spacing.html
    offline_cache: true
    priority: recommended
  guides:
  - id: zoomtext-guide
    name: ZoomText User Guide
    url: https://www.freedomscientific.com/products/software/zoomtext/
    offline_cache: false
  - id: webaim-zoom
    name: 'WebAIM: Screen Magnifiers'
    url: https://webaim.org/techniques/screenreader/
    offline_cache: true
tooling:
  assessment_tools:
  - tool: ZoomText
    purpose: Full-featured magnification testing
  - tool: Windows Magnifier
    purpose: Free Windows magnification testing
  - tool: Browser zoom
    purpose: Quick zoom testing at 200%, 400%
  scripts:
  - id: fixed-position-finder
    language: bash
    purpose: Find fixed positioning that may cause issues
    source: inline
    code: |
      #!/bin/bash
      echo "=== Fixed/Absolute Positioning ==="
      grep -rn --include="*.css" --include="*.scss" \
        'position:\s*\(fixed\|absolute\)' . | head -30

      echo ""
      echo "=== Overflow Hidden ==="
      grep -rn --include="*.css" --include="*.scss" \
        'overflow.*hidden' . | head -20

      echo ""
      echo "=== Viewport-based sizing ==="
      grep -rn --include="*.css" --include="*.scss" \
        -E '(vw|vh)' . | head -20
signals:
  critical:
  - id: A11Y-MAG-CRIT-001
    signal: Horizontal scrolling required at 400% zoom
    evidence_indicators:
    - Content extends beyond viewport width
    - Two-dimensional scrolling needed to read content
    - Tables or images force horizontal scroll
    explanation: |
      WCAG 1.4.10 requires content to reflow at 400% zoom (320px width
      equivalent) without horizontal scrolling for vertical content.
      Horizontal scrolling at high zoom is extremely disorienting for
      low vision users.
    remediation: |
      Implement responsive design that reflows at all zoom levels:
      - Use flexible layouts (flexbox, grid)
      - Set max-width on content containers
      - Make tables responsive or provide alternative views
      - Use relative units (em, rem, %) not fixed pixels
  - id: A11Y-MAG-CRIT-002
    signal: Content or functionality lost at zoom
    evidence_indicators:
    - 'Content clipped by overflow: hidden'
    - Interactive elements hidden or inaccessible
    - Text truncated without access to full content
    explanation: |
      Essential content or functionality becomes inaccessible when zoomed,
      preventing low vision users from completing tasks.
    remediation: |
      Remove overflow: hidden from containers that may clip content.
      Ensure all content remains accessible at all zoom levels.
      Use scrollable containers rather than clipping.
  high:
  - id: A11Y-MAG-HIGH-001
    signal: Focus indicator not visible when magnified
    evidence_indicators:
    - Focus moves outside visible viewport
    - Focus indicator too subtle to see
    - Magnifier doesn't track focus
    explanation: |
      At high magnification, focus may move to elements outside the
      current view. If the magnifier doesn't track focus or the indicator
      is too subtle, users lose their place.
    remediation: |
      Ensure strong, visible focus indicators:
      - Minimum 2px solid border
      - High contrast colors
      - Sufficient size to be seen in magnified viewport
      - Test that magnifiers track focus movement
  - id: A11Y-MAG-HIGH-002
    signal: Tooltips/popovers appear far from trigger
    evidence_indicators:
    - Popup appears at screen edge, far from mouse/focus
    - Related content positioned far from reference
    - Error messages far from invalid fields
    explanation: |
      At high magnification, users see only a small area. If popups appear
      far from their triggers, users won't see them without panning.
    remediation: |
      Position popups adjacent to their triggers:
      - Tooltips directly above/below triggering element
      - Error messages inline or immediately adjacent to fields
      - Dropdown menus directly below toggle buttons
  - id: A11Y-MAG-HIGH-003
    signal: Text becomes unreadable when resized
    evidence_indicators:
    - Text uses fixed pixel sizes
    - Containers don't expand with text
    - Text overlaps or gets cut off
    explanation: |
      WCAG 1.4.4 requires text to be resizable to 200% without loss of
      content or functionality. Fixed pixel text doesn't resize with
      user preferences.
    remediation: |
      Use relative units for text (rem, em). Ensure containers expand
      to accommodate larger text. Test with browser text size settings.
  medium:
  - id: A11Y-MAG-MED-001
    signal: Related content separated at zoom
    evidence_indicators:
    - Form labels far from their inputs
    - Buttons far from related content
    - Data tables split across viewports
    explanation: |
      Content that makes sense together becomes separated at zoom,
      forcing users to pan back and forth to understand relationships.
    remediation: |
      Keep related content close together:
      - Labels adjacent to or inside form fields
      - Action buttons near the content they affect
      - Use proximity as a grouping mechanism
  - id: A11Y-MAG-MED-002
    signal: Fixed headers/footers consume screen space
    evidence_indicators:
    - Large fixed navigation takes significant viewport
    - Sticky elements crowd remaining space
    - Limited content visible between fixed elements
    explanation: |
      At high magnification, fixed elements take proportionally more space,
      leaving little room for actual content.
    remediation: |
      Consider making fixed elements collapsible at high zoom, or use
      smaller fixed headers at narrow viewports. Ensure fixed elements
      are as compact as possible.
  low:
  - id: A11Y-MAG-LOW-001
    signal: Minor layout issues at extreme zoom
    evidence_indicators:
    - Slight overlaps at 500%+ zoom
    - Decorative elements clip
    - Minor spacing issues
    explanation: |
      Minor cosmetic issues at extreme zoom levels that don't prevent
      functionality.
    remediation: |
      Address if resources permit, prioritize functional issues first.
  positive:
  - id: A11Y-MAG-POS-001
    signal: Excellent reflow at all zoom levels
    evidence_indicators:
    - Content reflows smoothly at 400%
    - No horizontal scrolling needed
    - All content accessible at high zoom
  - id: A11Y-MAG-POS-002
    signal: Magnifier-friendly design
    evidence_indicators:
    - Focus tracking works well
    - Related content stays close
    - Popups appear near triggers
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: tester
  steps:
  - id: '1'
    name: Test at 200% browser zoom
    description: |
      Zoom browser to 200% and verify content remains usable without
      horizontal scrolling.
    duration_estimate: 30 min
    questions:
    - Does content reflow to single column?
    - Is all content visible without horizontal scroll?
    - Can all functionality be accessed?
    - Is text readable?
    expected_findings:
    - 200% zoom assessment
    - Reflow issues at this level
  - id: '2'
    name: Test at 400% zoom (320px equivalent)
    description: |
      Test at 400% zoom, which WCAG 1.4.10 requires content to support
      for horizontal content.
    duration_estimate: 30 min
    questions:
    - Does content reflow without horizontal scroll?
    - Is all content accessible?
    - Are there any cut-off or clipped areas?
    - Can forms be completed?
    expected_findings:
    - 400% zoom assessment
    - Reflow compliance status
  - id: '3'
    name: Test focus tracking
    description: |
      Navigate with keyboard at high zoom to verify focus tracking
      keeps focused element visible.
    duration_estimate: 25 min
    questions:
    - Does viewport follow focus movement?
    - Is focus indicator visible?
    - Does focus ever move off-screen?
    - Can you maintain orientation while tabbing?
    expected_findings:
    - Focus tracking assessment
    - Focus visibility issues
  - id: '4'
    name: Test popup positioning
    description: |
      Test tooltips, dropdowns, and other popups at high zoom to verify
      they appear near their triggers.
    duration_estimate: 25 min
    questions:
    - Do tooltips appear adjacent to triggers?
    - Do dropdown menus appear near buttons?
    - Do error messages appear near fields?
    - Can you see popups without panning?
    expected_findings:
    - Popup positioning assessment
  - id: '5'
    name: Test with magnification software
    description: |
      If available, test with ZoomText or Windows Magnifier for
      complete magnification experience.
    duration_estimate: 30 min
    questions:
    - Does magnifier track focus and mouse?
    - Is experience comfortable for extended use?
    - Are there any specific magnifier issues?
    expected_findings:
    - Magnification software assessment
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Reflow Testing Results
    - Focus Tracking Assessment
    - Popup Positioning
    - Recommendations
  confidence_guidance:
    high: Tested with magnification software at multiple zoom levels
    medium: Browser zoom testing at 200% and 400%
    low: Limited zoom testing
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: wcag-1.4.10
      priority: required
    - source_id: wcag-1.4.4
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires manual zoom testing
    full:
      included: true
      priority: 1
    production:
      included: true
      priority: 1
closeout_checklist:
- id: mag-001
  item: Content reflows at 400% without horizontal scrolling
  level: CRITICAL
  verification: manual
  verification_notes: Test at 400% zoom on multiple page types
  expected: Confirmed by reviewer
- id: mag-002
  item: No content lost or clipped at zoom
  level: CRITICAL
  verification: manual
  verification_notes: Verify all content accessible at high zoom
  expected: Confirmed by reviewer
- id: mag-003
  item: Focus tracking maintains visibility
  level: BLOCKING
  verification: manual
  verification_notes: Tab through page at high zoom, verify focus visible
  expected: Confirmed by reviewer
- id: mag-004
  item: Popups appear near triggers
  level: BLOCKING
  verification: manual
  verification_notes: Test tooltips and dropdowns at high zoom
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - website
    - web-application
    - spa
    - content-site
  compliance_frameworks:
  - framework: WCAG 2.2
    controls:
    - 1.4.4
    - 1.4.10
    - 1.4.12
  - framework: Section 508
    controls:
    - '1194.22'
  - framework: EN 301 549
    controls:
    - 9.1.4.4
    - 9.1.4.10
relationships:
  commonly_combined:
  - accessibility-inclusion.robust-compatibility.assistive-tech-compatibility
  - accessibility-inclusion.cognitive-accessibility.consistent-layout
  - accessibility-inclusion.inclusive-design.aging-user-consideration
