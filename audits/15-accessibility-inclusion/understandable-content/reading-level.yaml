# ============================================================
# AUDIT: Reading Level - WCAG 2.1 AAA Compliance
# ============================================================
# Verifies content is written at an appropriate reading level
# per WCAG 2.1 SC 3.1.5.

audit:
  id: "accessibility-inclusion.understandable-content.reading-level"
  name: "Reading Level Audit"
  version: "1.0.0"
  last_updated: "2026-01-19"
  status: "active"

  category: "accessibility-inclusion"
  category_number: 15
  subcategory: "understandable-content"

  tier: "phd"
  estimated_duration: "3-5 hours"  # median: 4h

  completeness: "requires_discovery"
  requires_runtime: false
  destructive: false

execution:
  automatable: "partial"
  severity: "medium"
  scope: "documentation"

  default_profiles:
    - "full"
    - "accessibility"

  blocks_phase: false
  parallelizable: true

description:
  what: |
    This audit evaluates content readability per WCAG 2.1 SC 3.1.5
    Reading Level (Level AAA), ensuring content is accessible to
    users with varying reading abilities.

    The audit covers:
    - Text complexity and sentence structure
    - Vocabulary and technical term usage
    - Reading grade level analysis
    - Availability of simplified versions
    - Supplementary content (illustrations, summaries)
    - Technical documentation readability
    - Error messages and user guidance
    - Legal and policy content accessibility

  why_it_matters: |
    Many users have difficulty with complex text:

    - 21% of US adults read at basic or below basic level
    - Cognitive disabilities affect text processing
    - Non-native speakers struggle with complex language
    - Dyslexia affects ~10% of the population
    - Aging can affect reading comprehension

    Clear, simple writing makes content accessible to the
    widest possible audience.

  when_to_run:
    - "When writing user-facing content"
    - "Before publishing documentation"
    - "When creating error messages"
    - "During content audits"
    - "For AAA compliance efforts"

prerequisites:
  required_artifacts:
    - type: "content"
      description: "User-facing text content"
    - type: "documentation"
      description: "Help text and documentation"

  access_requirements:
    - "Read access to all user-facing content"
    - "Access to content management system"

discovery:
  documents_to_review:
    - type: "Marketing copy"
      purpose: "Evaluate promotional content readability"
    - type: "Help documentation"
      purpose: "Assess user assistance readability"
    - type: "Error messages"
      purpose: "Evaluate error communication clarity"
    - type: "Legal/policy text"
      purpose: "Assess required disclosures"

  file_patterns:
    - glob: "**/docs/**/*.md"
      purpose: "Documentation files"
    - glob: "**/content/**/*.{md,mdx}"
      purpose: "Content files"
    - glob: "**/messages/**"
      purpose: "Message/string files"

knowledge_sources:
  specifications:
    - id: "wcag-21"
      name: "WCAG 2.1 Quick Reference"
      url: "https://www.w3.org/WAI/WCAG21/quickref/"
      offline_cache: true
      priority: "recommended"
    - id: "wcag21-315"
      name: "WCAG 2.1 Success Criterion 3.1.5 Reading Level"
      url: "https://www.w3.org/WAI/WCAG21/Understanding/reading-level.html"
      offline_cache: true
      priority: "required"

  guides:
    - id: "plainlanguage-gov"
      name: "Plain Language Guidelines"
      url: "https://www.plainlanguage.gov/guidelines/"
      offline_cache: true
    - id: "hemingway"
      name: "Hemingway App Guidelines"
      url: "https://hemingwayapp.com/"
      offline_cache: true

  papers:
    - id: "readability-research"
      title: "Readability and User Experience"
      url: "https://www.nngroup.com/articles/legibility-readability-comprehension/"

tooling:
  assessment_tools:
    - tool: "Hemingway Editor"
      purpose: "Analyze reading level and complexity"
    - tool: "Readable.com"
      purpose: "Automated readability scoring"
    - tool: "Flesch-Kincaid Calculator"
      purpose: "Calculate grade level scores"

  scripts:
    - id: "extract-text-content"
      language: "bash"
      purpose: "Extract text content for analysis"
      source: "inline"
      code: |
        #!/bin/bash
        # Extract text content from docs for readability analysis
        find . -name "*.md" -type f | xargs cat | head -500

signals:
  critical:
    - id: "A11Y-READ-CRIT-001"
      signal: "Critical user content requires advanced reading level"
      evidence_pattern: "Error messages or instructions above 9th grade level"
      explanation: |
        Users must be able to understand critical instructions and
        error messages regardless of reading ability.
      remediation: "Simplify critical content to 8th grade level or provide simplified version"

  high:
    - id: "A11Y-READ-HIGH-001"
      signal: "Main content exceeds lower secondary education level"
      explanation: "WCAG AAA requires content readable at lower secondary level"
      remediation: "Provide simplified supplement for complex content"
    - id: "A11Y-READ-HIGH-002"
      signal: "Technical jargon used without explanation"
      explanation: "Technical terms should be defined or explained"
      remediation: "Add glossary, definitions, or plain language alternatives"
    - id: "A11Y-READ-HIGH-003"
      signal: "Long sentences averaging over 25 words"
      explanation: "Shorter sentences improve comprehension"
      remediation: "Break up long sentences"

  medium:
    - id: "A11Y-READ-MED-001"
      signal: "Passive voice overused"
      remediation: "Use active voice for clarity"
    - id: "A11Y-READ-MED-002"
      signal: "No visual aids for complex concepts"
      remediation: "Add diagrams, illustrations, or videos"
    - id: "A11Y-READ-MED-003"
      signal: "No summary provided for long content"
      remediation: "Add executive summary or TL;DR"

  low:
    - id: "A11Y-READ-LOW-001"
      signal: "Content could be more concise"

  positive:
    - id: "A11Y-READ-POS-001"
      signal: "Content at or below 8th grade reading level"
    - id: "A11Y-READ-POS-002"
      signal: "Technical terms consistently defined"
    - id: "A11Y-READ-POS-003"
      signal: "Visual aids support complex concepts"

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Inventory User-Facing Content"
      description: |
        Identify all content that users need to read and
        understand to use the application.
      duration_estimate: "30 min"
      commands:
        - purpose: "Find documentation files"
          command: "find . -name '*.md' -o -name '*.mdx' 2>/dev/null | head -50"
        - purpose: "Find string/message files"
          command: "find . -name '*messages*' -o -name '*strings*' -o -name '*.json' -path '*locale*' 2>/dev/null | head -20"
      expected_findings:
        - "Content inventory"
        - "Content types and locations"

    - id: "2"
      name: "Analyze Readability Scores"
      description: |
        Run readability analysis on key content to determine
        grade level and complexity.
      duration_estimate: "60 min"
      questions:
        - "What is the Flesch-Kincaid grade level?"
        - "What is the average sentence length?"
        - "What percentage is passive voice?"
        - "How many complex words are used?"
      expected_findings:
        - "Readability scores by content type"
        - "Areas exceeding recommended levels"

    - id: "3"
      name: "Evaluate Critical Content"
      description: |
        Focus on content users must understand: error messages,
        form instructions, critical alerts.
      duration_estimate: "45 min"
      questions:
        - "Are error messages clear and actionable?"
        - "Are form instructions easy to understand?"
        - "Are alerts and warnings comprehensible?"
        - "Is the onboarding content accessible?"
      expected_findings:
        - "Critical content assessment"
        - "Comprehension barriers"

    - id: "4"
      name: "Check for Supplements"
      description: |
        Verify supplementary content exists for complex material
        (summaries, glossaries, illustrations).
      duration_estimate: "30 min"
      questions:
        - "Do complex pages have summaries?"
        - "Is there a glossary for technical terms?"
        - "Are diagrams used to explain concepts?"
        - "Are alternative versions available?"
      expected_findings:
        - "Supplementary content availability"
        - "Gaps in support materials"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Readability Analysis Results"
        - "Critical Content Assessment"
        - "Supplementary Content Review"
        - "Recommendations"

  confidence_guidance:
    high: "Professional readability analysis with user testing"
    medium: "Automated readability tools with manual review"
    low: "Automated analysis only"

offline:
  capability: "full"

  cache_manifest:
    knowledge:
      - source_id: "wcag21-315"
        priority: "required"
      - source_id: "plainlanguage-gov"
        priority: "recommended"

profiles:
  membership:
    quick:
      included: false
      reason: "AAA requirement, requires comprehensive content review"
    full:
      included: true
      priority: 3
    accessibility:
      included: true
      priority: 2

closeout_checklist:
  - id: "reading-level-001"
    item: "Critical content at lower secondary reading level"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Run Flesch-Kincaid on error messages and instructions"
    expected: "Grade 8 or below, or supplement provided"

  - id: "reading-level-002"
    item: "Technical terms defined or explained"
    level: "WARNING"
    verification: "manual"
    verification_notes: "Check for glossary or inline definitions"
    expected: "Confirmed by reviewer"

  - id: "reading-level-003"
    item: "Supplementary content available for complex material"
    level: "WARNING"
    verification: "manual"
    verification_notes: "Verify summaries, diagrams, or simplified versions exist"
    expected: "Confirmed by reviewer"

  - id: "reading-level-004"
    item: "Error messages are clear and actionable"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Review error message clarity"
    expected: "Confirmed by reviewer"

governance:
  applicable_to:
    archetypes: ["consumer", "government", "education"]

  compliance_frameworks:
    - framework: "WCAG 2.1"
      controls: ["3.1.5"]
    - framework: "Plain Writing Act"
      controls: ["Government content"]
    - framework: "EN 301 549"
      controls: ["9.3.1.5"]

relationships:
  commonly_combined:
    - "accessibility-inclusion.understandable-content.abbreviation-explanation"
    - "accessibility-inclusion.understandable-content.error-suggestion"
    - "accessibility-inclusion.understandable-content.language-identification"
