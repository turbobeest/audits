audit:
  id: usability-interaction.mobile-touch.gesture-support
  name: Gesture Support Assessment
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: usability-interaction
  category_number: 14
  subcategory: mobile-touch
  tier: phd
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: codebase
  default_profiles:
  - full
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates touch gesture implementation including swipe,
    pinch-to-zoom, long press, and other gestures. It examines whether
    gestures are properly implemented, discoverable, have button
    alternatives for accessibility, and follow platform conventions.
  why_it_matters: |
    Gestures can make mobile interfaces faster and more intuitive, but
    they have significant discoverability problems. Hidden gestures
    frustrate users who don't discover them, while gesture-only features
    create accessibility barriers. Proper gesture design includes clear
    affordances and button alternatives.
  when_to_run:
  - When implementing gesture-based features
  - During mobile UX audits
  - When users report missing features
  - During accessibility reviews
prerequisites:
  required_artifacts:
  - type: source_code
    description: Gesture implementation source code
  - type: running_application
    description: Access on touch device
  access_requirements:
  - Access to gesture handling code
  - Touch device for testing
  - Understanding of expected gestures
discovery:
  code_patterns:
  - pattern: swipe|Swipe|onSwipe
    type: keyword
    scope: source
    purpose: Find swipe gesture handlers
  - pattern: pinch|Pinch|zoom|Zoom
    type: keyword
    scope: source
    purpose: Find pinch/zoom handlers
  - pattern: longPress|long-press|onLongPress
    type: keyword
    scope: source
    purpose: Find long press handlers
  - pattern: touchstart|touchmove|touchend
    type: keyword
    scope: source
    purpose: Find low-level touch handlers
  file_patterns:
  - glob: '**/*gesture*'
    purpose: Find gesture-related files
  - glob: '**/*swipe*'
    purpose: Find swipe implementations
  - glob: '**/*touch*'
    purpose: Find touch handling files
knowledge_sources:
  specifications:
  - id: wcag-pointer
    name: WCAG 2.2 - Pointer Gestures (2.5.1)
    url: https://www.w3.org/WAI/WCAG22/Understanding/pointer-gestures
    offline_cache: true
    priority: required
  guides:
  - id: apple-gestures
    name: Apple HIG - Gestures
    url: https://developer.apple.com/design/human-interface-guidelines/gestures
    offline_cache: true
  - id: material-gestures
    name: Material Design - Gestures
    url: https://m3.material.io/foundations/interaction-states
    offline_cache: true
  - id: nngroup-gestures
    name: Nielsen Norman Group - Mobile Gestures
    url: https://www.nngroup.com/articles/gestures-touch-screen/
    offline_cache: true
tooling:
  scripts:
  - id: gesture-finder
    language: bash
    purpose: Find gesture implementations
    source: inline
    code: |
      #!/bin/bash
      echo "=== Swipe Gestures ==="
      grep -rn "swipe\|Swipe\|onSwipe" --include="*.jsx" --include="*.tsx" --include="*.ts" | head -15

      echo "=== Long Press ==="
      grep -rn "longPress\|long-press\|onLongPress" --include="*.jsx" --include="*.tsx" | head -10

      echo "=== Touch Events ==="
      grep -rn "touchstart\|touchmove\|touchend" --include="*.jsx" --include="*.tsx" | head -15

      echo "=== Gesture Libraries ==="
      grep -rn "react-swipeable\|hammerjs\|use-gesture" package.json src/ | head -10
signals:
  critical:
  - id: GESTURE-CRIT-001
    signal: Gesture-only functionality with no alternative
    evidence_pattern: Feature accessible only via swipe/pinch with no button
    explanation: |
      WCAG 2.5.1 requires all functionality available via multipoint
      or path-based gestures to have single-pointer alternatives.
      Gesture-only features exclude users with motor disabilities.
    remediation: Add button or single-tap alternative for all gesture features
  - id: GESTURE-CRIT-002
    signal: Destructive action triggered by gesture without confirmation
    evidence_pattern: Swipe-to-delete without undo or confirmation
    explanation: |
      Accidental gestures can trigger unintended destructive actions.
      This is especially dangerous for swipe-to-delete patterns.
    remediation: Add undo capability or confirmation for destructive gestures
  high:
  - id: GESTURE-HIGH-001
    signal: Gestures not discoverable
    evidence_indicators:
    - No visual affordance for swipeable content
    - No onboarding or hints for available gestures
    - Hidden features only accessible via gesture
    explanation: |
      Users cannot benefit from gestures they don't know exist.
      Gestures have inherent discoverability problems.
    remediation: Add visual hints, onboarding, or help for non-obvious gestures
  - id: GESTURE-HIGH-002
    signal: Gestures conflict with system gestures
    evidence_indicators:
    - Horizontal swipe conflicts with back navigation
    - Edge swipes interfere with system gestures
    explanation: |
      Conflicting gestures create confusion and unexpected behavior
      when users intend one action but trigger another.
    remediation: Avoid gesture areas used by the OS; test on multiple devices
  - id: GESTURE-HIGH-003
    signal: Inconsistent gesture behavior across similar elements
    evidence_pattern: Same gesture does different things in different contexts
    explanation: |
      Inconsistent gestures undermine the mental model users
      develop about how the app works.
    remediation: Standardize gesture behavior across similar contexts
  medium:
  - id: GESTURE-MED-001
    signal: No feedback during gesture execution
    evidence_pattern: Gesture completes without visual feedback
    remediation: Add visual feedback during gesture (e.g., item moving with swipe)
  - id: GESTURE-MED-002
    signal: Gesture threshold too sensitive or too resistant
    evidence_indicators:
    - Gestures trigger too easily with small movements
    - Gestures require excessive movement to trigger
    remediation: Tune gesture thresholds for comfortable activation
  - id: GESTURE-MED-003
    signal: Standard platform gestures not supported
    evidence_indicators:
    - Pinch-to-zoom not working where expected
    - Pull-to-refresh missing on lists
    remediation: Implement expected platform gestures where appropriate
  low:
  - id: GESTURE-LOW-001
    signal: Gestures could enhance efficiency but aren't implemented
    remediation: Consider adding common gestures for frequently used actions
  - id: GESTURE-LOW-002
    signal: Gesture animation could be smoother
    remediation: Improve gesture response animation for better feel
  positive:
  - id: GESTURE-POS-001
    signal: All gestures have button alternatives
  - id: GESTURE-POS-002
    signal: Gestures are discoverable through visual hints
  - id: GESTURE-POS-003
    signal: Platform gestures properly supported
  - id: GESTURE-POS-004
    signal: Gesture feedback is clear and immediate
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Gesture Implementations
    description: |
      Search the codebase to identify all gesture implementations
      and their purposes.
    duration_estimate: 25 min
    commands:
    - purpose: Find swipe implementations
      command: grep -rn 'swipe\|Swipe' --include='*.jsx' --include='*.tsx' src/
    - purpose: Find gesture libraries
      command: grep -rn 'react-swipeable\|hammerjs\|use-gesture' package.json src/
    - purpose: Find touch handlers
      command: grep -rn 'onTouch\|touch' --include='*.jsx' --include='*.tsx' src/ | head -20
    expected_findings:
    - Gesture inventory
    - Implementation patterns
  - id: '2'
    name: Verify Button Alternatives
    description: |
      For each gesture feature, verify there is an accessible
      button or single-pointer alternative.
    duration_estimate: 30 min
    questions:
    - Can every swipe action be done via button?
    - Can pinch-to-zoom be done via buttons (+/-)?
    - Can long-press actions be accessed otherwise?
    expected_findings:
    - Alternative availability
    - Accessibility gaps
  - id: '3'
    name: Test Gesture Discoverability
    description: |
      Evaluate how users discover available gestures in
      the application.
    duration_estimate: 25 min
    questions:
    - Are there visual hints for swipeable content?
    - Is there onboarding for gesture features?
    - Can users find gesture documentation?
    expected_findings:
    - Discoverability mechanisms
    - Hidden features
  - id: '4'
    name: Test on Devices
    description: |
      Test gesture behavior on actual touch devices to verify
      feel and reliability.
    duration_estimate: 30 min
    questions:
    - Do gestures feel natural and responsive?
    - Are thresholds appropriate?
    - Any conflicts with system gestures?
    - Does feedback accompany gesture actions?
    expected_findings:
    - Real-world usability
    - Platform conflicts
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Gesture Inventory
    - Accessibility Assessment
    - Discoverability Review
    - Device Testing Results
    - Recommendations
  confidence_guidance:
    high: Issues verified through code review and device testing
    medium: Issues identified through code review or testing alone
    low: Potential issues requiring additional testing
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: wcag-pointer
      priority: required
    - source_id: nngroup-gestures
      priority: recommended
profiles:
  membership:
    quick:
      included: false
      reason: Requires device testing
    full:
      included: true
      priority: 2
closeout_checklist:
- id: gesture-001
  item: All gestures have button alternatives
  level: CRITICAL
  verification: manual
  verification_notes: Every gesture feature accessible via single-pointer action
  expected: Confirmed by reviewer
- id: gesture-002
  item: Gestures are discoverable
  level: BLOCKING
  verification: manual
  verification_notes: Visual hints or onboarding for non-obvious gestures
  expected: Confirmed by reviewer
- id: gesture-003
  item: Gesture behavior consistent
  level: WARNING
  verification: manual
  verification_notes: Same gesture does same thing throughout app
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - mobile-application
    - responsive-web
    - touch-interface
  compliance_frameworks:
  - framework: WCAG
    controls:
    - 2.5.1
relationships:
  commonly_combined:
  - usability-interaction.mobile-touch.touch-target-size
  - usability-interaction.consistency.interaction-pattern-consistency
  - usability-interaction.mobile-touch.mobile-navigation
