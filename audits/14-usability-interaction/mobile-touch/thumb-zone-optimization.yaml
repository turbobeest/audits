# ============================================================
# AUDIT: Thumb Zone Optimization Assessment
# ============================================================
# Evaluates placement of interactive elements within thumb-reach
# zones for one-handed mobile use.
# ============================================================

audit:
  id: "usability-interaction.mobile-touch.thumb-zone-optimization"

  name: "Thumb Zone Optimization Assessment"

  version: "1.0.0"
  last_updated: "2026-01-19"
  status: "active"

  category: "usability-interaction"
  category_number: 14
  subcategory: "mobile-touch"

  tier: "expert"
  estimated_duration: "2-3 hours"  # median: 2h

  completeness: "complete"
  requires_runtime: true
  destructive: false

# ============================================================
# EXECUTION CLASSIFICATION
# ============================================================

execution:
  automatable: "partial"
  severity: "medium"
  scope: "codebase"

  default_profiles:
    - "full"

  blocks_phase: false
  parallelizable: true

# ============================================================
# DESCRIPTION & RATIONALE
# ============================================================

description:
  what: |
    This audit evaluates the placement of interactive elements relative
    to thumb-reach zones for one-handed mobile use. Based on research by
    Steven Hoober, it examines whether frequently used controls are in
    the "natural" zone (bottom-center), while infrequent actions can be
    in "stretch" zones (top corners).

  why_it_matters: |
    Research shows 75% of mobile users interact with their phones using
    one hand. Steven Hoober's thumb zone studies demonstrate that
    bottom-center screen areas are most easily reachable. Placing frequent
    actions in hard-to-reach areas increases user effort and reduces
    engagement.

  when_to_run:
    - "During mobile UI design"
    - "When optimizing for one-handed use"
    - "When users report difficulty reaching elements"
    - "During mobile UX audits"

# ============================================================
# PREREQUISITES
# ============================================================

prerequisites:
  required_artifacts:
    - type: "source_code"
      description: "Mobile UI components"
    - type: "running_application"
      description: "Access on mobile device"

  access_requirements:
    - "Access to mobile layout components"
    - "Mobile device for testing"
    - "Understanding of user task frequency"

# ============================================================
# DISCOVERY SPECIFICATION
# ============================================================

discovery:
  code_patterns:
    - pattern: "position:\\s*(fixed|absolute|sticky)"
      type: "regex"
      scope: "source"
      purpose: "Find fixed-position elements"
    - pattern: "bottom:|top:|BottomNavigation|Header"
      type: "keyword"
      scope: "source"
      purpose: "Find screen-edge positioned elements"
    - pattern: "FloatingActionButton|FAB|fab"
      type: "keyword"
      scope: "source"
      purpose: "Find floating action buttons"

  file_patterns:
    - glob: "**/*layout*"
      purpose: "Find layout components"
    - glob: "**/*navigation*"
      purpose: "Find navigation components"
    - glob: "**/*header*"
      purpose: "Find header components"

# ============================================================
# KNOWLEDGE SOURCES
# ============================================================

knowledge_sources:
  papers:
    - id: "hoober-thumb-zone"
      title: "How Do Users Really Hold Mobile Devices?"
      url: "https://www.uxmatters.com/mt/archives/2013/02/how-do-users-really-hold-mobile-devices.php"

  guides:
    - id: "nngroup-thumb"
      name: "Nielsen Norman Group - Thumb Zone"
      url: "https://www.nngroup.com/articles/touch-target-size/"
      offline_cache: true
    - id: "smashing-thumb"
      name: "Smashing Magazine - Thumb Zone Design"
      url: "https://www.smashingmagazine.com/2016/09/the-thumb-zone-designing-for-mobile-users/"
      offline_cache: true

# ============================================================
# TOOLING & AUTOMATION
# ============================================================

tooling:
  scripts:
    - id: "thumb-zone-finder"
      language: "bash"
      purpose: "Find element positioning patterns"
      source: "inline"
      code: |
        #!/bin/bash
        echo "=== Fixed Position Elements ==="
        grep -rn "position:\s*fixed\|position:\s*sticky" --include="*.css" --include="*.scss" | head -15

        echo "=== Bottom-Positioned Elements ==="
        grep -rn "bottom:\s*0\|BottomNavigation\|bottom-nav" --include="*.css" --include="*.jsx" --include="*.tsx" | head -15

        echo "=== Top-Positioned Elements ==="
        grep -rn "top:\s*0\|Header\|AppBar\|header" --include="*.css" --include="*.jsx" --include="*.tsx" | head -15

        echo "=== FAB Usage ==="
        grep -rn "FloatingActionButton\|FAB\|fab" --include="*.jsx" --include="*.tsx" | head -10

# ============================================================
# SIGNALS & FINDINGS TAXONOMY
# ============================================================

signals:
  critical:
    - id: "THUMB-CRIT-001"
      signal: "Primary action in hard-to-reach zone"
      evidence_indicators:
        - "Main CTA at top of screen"
        - "Frequent action in top corners"
        - "Submit button requiring thumb stretch"
      explanation: |
        Primary actions should be in the natural thumb zone (bottom-center).
        Placing them in stretch zones reduces efficiency and increases
        chance of dropping the phone.
      remediation: "Move primary actions to bottom-center of mobile screens"

  high:
    - id: "THUMB-HIGH-001"
      signal: "Navigation requiring constant stretch"
      evidence_pattern: "Primary navigation only at top of screen"
      explanation: |
        Users frequently need navigation, but top navigation requires
        constant stretching. This causes fatigue and frustration.
      remediation: "Implement bottom navigation for primary nav items"
    - id: "THUMB-HIGH-002"
      signal: "Frequently used actions scattered across zones"
      evidence_pattern: "Common actions distributed without thumb-zone consideration"
      explanation: |
        Scattered placement of frequent actions forces users to
        constantly adjust grip and reach.
      remediation: "Cluster frequently used actions in thumb-friendly zone"
    - id: "THUMB-HIGH-003"
      signal: "FAB positioned in stretch zone"
      evidence_pattern: "FloatingActionButton in top corners"
      explanation: |
        FABs are meant for primary actions. Placing them in stretch
        zones defeats their purpose.
      remediation: "Position FAB in bottom-right (natural thumb position)"

  medium:
    - id: "THUMB-MED-001"
      signal: "Form submit button at top"
      evidence_pattern: "Save/Submit button above form fields"
      remediation: "Place submit button below form fields for natural flow"
    - id: "THUMB-MED-002"
      signal: "Infrequent actions in prime zone"
      evidence_pattern: "Settings, help, or other rare actions in bottom nav"
      remediation: "Reserve bottom zone for most frequently used actions"
    - id: "THUMB-MED-003"
      signal: "Destructive action in easy-reach zone"
      evidence_pattern: "Delete in natural thumb zone without safeguards"
      remediation: "Keep destructive actions in stretch zones or add safeguards"

  low:
    - id: "THUMB-LOW-001"
      signal: "Header actions could be more accessible"
      remediation: "Consider gesture or bottom-accessible alternatives"
    - id: "THUMB-LOW-002"
      signal: "Search requires stretch to reach"
      remediation: "Consider pull-down search or bottom-accessible trigger"

  positive:
    - id: "THUMB-POS-001"
      signal: "Primary actions in natural thumb zone"
    - id: "THUMB-POS-002"
      signal: "Bottom navigation for frequent features"
    - id: "THUMB-POS-003"
      signal: "FAB positioned in bottom-right"
    - id: "THUMB-POS-004"
      signal: "Rare actions in stretch zones"

# ============================================================
# EXECUTION PROCEDURE
# ============================================================

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Map Fixed Element Positions"
      description: |
        Identify all fixed or sticky positioned elements and
        their screen locations.
      duration_estimate: "20 min"
      commands:
        - purpose: "Find fixed position elements"
          command: "grep -rn 'position:\\s*fixed\\|position:\\s*sticky' --include='*.css' --include='*.scss' src/"
        - purpose: "Find bottom-positioned elements"
          command: "grep -rn 'bottom:\\s*0' --include='*.css' --include='*.scss' src/"
      expected_findings:
        - "Fixed element inventory"
        - "Screen zone mapping"

    - id: "2"
      name: "Identify Frequently Used Actions"
      description: |
        Determine which actions users perform most frequently
        and where they are positioned.
      duration_estimate: "25 min"
      questions:
        - "What are the top 5 most frequent user actions?"
        - "Where are these actions positioned on mobile?"
        - "Do they require thumb stretch to access?"
      expected_findings:
        - "Action frequency ranking"
        - "Position assessment"

    - id: "3"
      name: "Test One-Handed Accessibility"
      description: |
        Using a physical device, test reaching all interactive
        elements with one-handed operation.
      duration_estimate: "30 min"
      questions:
        - "Can primary actions be reached without grip adjustment?"
        - "Which elements require stretching?"
        - "Are there any unreachable elements?"
        - "Does the app feel comfortable for one-handed use?"
      expected_findings:
        - "Reachability assessment"
        - "Comfort evaluation"

    - id: "4"
      name: "Evaluate Navigation Placement"
      description: |
        Assess navigation element placement relative to thumb
        zones and usage frequency.
      duration_estimate: "20 min"
      questions:
        - "Is primary navigation bottom-accessible?"
        - "Are navigation items arranged by frequency?"
        - "Can users switch sections easily one-handed?"
      expected_findings:
        - "Navigation placement assessment"
        - "Optimization opportunities"

# ============================================================
# OUTPUT SPECIFICATION
# ============================================================

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Thumb Zone Map"
        - "Action Frequency Analysis"
        - "Reachability Testing"
        - "Recommendations"

  confidence_guidance:
    high: "Issues verified through device testing and frequency analysis"
    medium: "Issues identified through layout review"
    low: "Potential issues requiring frequency data"

# ============================================================
# OFFLINE SUPPORT
# ============================================================

offline:
  capability: "full"

  cache_manifest:
    knowledge:
      - source_id: "hoober-thumb-zone"
        priority: "required"
      - source_id: "smashing-thumb"
        priority: "recommended"

# ============================================================
# PROFILES
# ============================================================

profiles:
  membership:
    quick:
      included: false
      reason: "Requires device testing and frequency analysis"
    full:
      included: true
      priority: 2

# ============================================================
# CLOSEOUT CHECKLIST
# ============================================================

closeout_checklist:
  - id: "thumb-001"
    item: "Primary actions in natural thumb zone"
    level: "CRITICAL"
    verification: "manual"
    verification_notes: "Most frequent actions reachable without stretch"
    expected: "Confirmed by reviewer"

  - id: "thumb-002"
    item: "Bottom navigation for frequent features"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Primary navigation accessible at bottom"
    expected: "Confirmed by reviewer"

  - id: "thumb-003"
    item: "One-handed usability verified"
    level: "WARNING"
    verification: "manual"
    verification_notes: "Core tasks completable one-handed"
    expected: "Confirmed by reviewer"

# ============================================================
# GOVERNANCE
# ============================================================

governance:
  applicable_to:
    archetypes: ["mobile-application", "responsive-web", "pwa"]

# ============================================================
# RELATIONSHIPS
# ============================================================

relationships:
  commonly_combined:
    - "usability-interaction.mobile-touch.touch-target-size"
    - "usability-interaction.mobile-touch.mobile-navigation"
    - "usability-interaction.cognitive-load.attention-management"
