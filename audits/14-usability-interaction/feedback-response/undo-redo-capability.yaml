audit:
  id: usability-interaction.feedback-response.undo-redo-capability
  name: Undo/Redo Capability Audit
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: usability-interaction
  category_number: 14
  subcategory: feedback-response
  tier: expert
  estimated_duration: 2 hours
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: qualitative
  default_profiles:
  - full
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines undo and redo capabilities that allow users to
    reverse their actions. It evaluates:

    - Undo availability for user actions
    - Redo functionality
    - Undo history depth
    - Undo discoverability (keyboard shortcut, button)
    - Time-limited undo (toast with undo option)
    - Undo for destructive actions
    - Multi-step undo
    - Batch action undo
  why_it_matters: |
    Undo capability is fundamental to good UX:
    - Allows fearless exploration (reversible mistakes)
    - Reduces anxiety about trying new things
    - Provides error recovery without confirmation fatigue
    - Supports user agency and control
    - Aligns with Nielsen's "User control and freedom" heuristic

    Applications without undo force users to be overly cautious,
    reducing engagement and increasing frustration.
  when_to_run:
  - Error recovery design review
  - Editor/tool application audit
  - Destructive action handling review
  - User freedom assessment
  - Power user feature review
prerequisites:
  required_artifacts:
  - type: application
    description: Running application for undo testing
  access_requirements:
  - Full application access
  - Ability to make changes that should be undoable
discovery:
  code_patterns:
  - pattern: (undo|redo|revert|rollback|history)
    type: regex
    scope: source
    purpose: Identify undo implementations
  - pattern: (Ctrl\+Z|Cmd\+Z|history.?stack)
    type: regex
    scope: source
    purpose: Find undo shortcuts and patterns
  file_patterns:
  - glob: '**/history/**'
    purpose: Find history management
  - glob: '**/undo/**'
    purpose: Locate undo components
knowledge_sources:
  guides:
  - id: nngroup-user-control
    name: User Control and Freedom
    url: https://www.nngroup.com/articles/user-control-and-freedom/
    offline_cache: true
  - id: nngroup-error-prevention
    name: Helping Users Prevent Errors
    url: https://www.nngroup.com/articles/slips/
    offline_cache: true
  learning_resources:
  - id: design-patterns
    title: 'Design Patterns: Undo'
    type: article
    reference: Gang of Four Memento Pattern
tooling:
  assessment_tools:
  - tool: Action inventory
    purpose: Identify undoable action types
  - tool: Undo coverage matrix
    purpose: Track which actions support undo
signals:
  critical:
  - id: UNDO-CRIT-001
    signal: Destructive actions have no undo option
    evidence_indicators:
    - Deleted items permanently gone
    - No recovery path for accidental actions
    - Users must re-create lost work
    explanation: |
      When destructive actions are irreversible, users lose work
      and trust. Undo or soft-delete is essential.
    remediation: Implement undo with time limit or soft-delete with recovery
  - id: UNDO-CRIT-002
    signal: Editor application lacks basic undo functionality
    evidence_indicators:
    - Ctrl+Z doesn't work
    - No undo button or option
    - Changes cannot be reverted
    explanation: |
      Any application involving content creation must have undo.
      This is a baseline expectation.
    remediation: Implement standard undo functionality with Ctrl+Z/Cmd+Z
  high:
  - id: UNDO-HIGH-001
    signal: Undo not discoverable via standard shortcuts
    explanation: |
      Users expect Ctrl+Z/Cmd+Z to undo. Non-standard shortcuts
      won't be discovered.
    remediation: Support standard undo keyboard shortcuts
  - id: UNDO-HIGH-002
    signal: Undo unavailable after immediate action
    explanation: |
      Undo should be immediately available after an action, not
      only after delays or page reloads.
    remediation: Make undo available immediately after action
  - id: UNDO-HIGH-003
    signal: No redo functionality to complement undo
    explanation: |
      Users who undo by mistake need redo to recover.
      Undo without redo is incomplete.
    remediation: Implement redo with Ctrl+Y/Cmd+Shift+Z
  medium:
  - id: UNDO-MED-001
    signal: Undo history too shallow (only 1-2 actions)
    remediation: Support multi-level undo (10+ actions minimum)
  - id: UNDO-MED-002
    signal: Toast undo disappears too quickly
    remediation: Show undo toast for at least 5 seconds
  - id: UNDO-MED-003
    signal: Batch operations not undoable as a unit
    remediation: Treat batch operations as single undo unit
  low:
  - id: UNDO-LOW-001
    signal: Undo feedback could be more informative
  positive:
  - id: UNDO-POS-001
    signal: Comprehensive undo for all user actions
  - id: UNDO-POS-002
    signal: Standard keyboard shortcuts supported
  - id: UNDO-POS-003
    signal: Deep undo history with clear feedback
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Undoable Action Inventory
    description: |
      Identify all user actions that should be undoable,
      categorizing by type and importance.
    duration_estimate: 25 min
    commands:
    - purpose: Find undo implementations
      command: grep -ri 'undo\|history' --include='*.tsx' --include='*.jsx' --include='*.vue' --include='*.ts'
        | head -30
    expected_findings:
    - Undoable action inventory
    - Coverage baseline
  - id: '2'
    name: Undo Availability Testing
    description: |
      Test undo functionality for various action types
      to verify coverage.
    duration_estimate: 30 min
    questions:
    - Which actions are undoable?
    - Does Ctrl+Z/Cmd+Z work?
    - Is there an undo button/option?
    expected_findings:
    - Undo coverage assessment
    - Missing undo support
  - id: '3'
    name: Undo Behavior Testing
    description: |
      Test the behavior and limits of undo including
      history depth and redo.
    duration_estimate: 25 min
    questions:
    - How many actions can be undone?
    - Is redo available?
    - Does undo work correctly?
    expected_findings:
    - Undo behavior assessment
    - Depth limitations
  - id: '4'
    name: Destructive Action Recovery
    description: |
      Test recovery options for destructive actions
      including delete, remove, and discard.
    duration_estimate: 25 min
    questions:
    - Can deleted items be recovered?
    - Is there a grace period for recovery?
    - Is soft-delete implemented?
    expected_findings:
    - Destructive action recovery
    - Permanent loss scenarios
  - id: '5'
    name: Discoverability and Feedback
    description: |
      Evaluate how users discover undo capability and
      receive feedback about undo availability.
    duration_estimate: 15 min
    questions:
    - Is undo discoverable?
    - Is undo state communicated?
    - Are undo toasts shown?
    expected_findings:
    - Discoverability assessment
    - Feedback quality
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Undo Coverage Analysis
    - Behavior Assessment
    - Recovery Options
    - Recommendations
  confidence_guidance:
    high: Direct testing confirms finding
    medium: Sample testing indicates issue
    low: Potential issue based on code analysis
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: nngroup-user-control
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive undo testing
    full:
      included: true
      priority: 1
closeout_checklist:
- id: undo-001
  item: Key actions tested for undo
  level: CRITICAL
  verification: manual
  verification_notes: Major user actions verified for undo support
  expected: Confirmed by reviewer
- id: undo-002
  item: Destructive action recovery assessed
  level: CRITICAL
  verification: manual
  verification_notes: Delete/remove actions have recovery path
  expected: Confirmed by reviewer
- id: undo-003
  item: Standard shortcuts work
  level: BLOCKING
  verification: manual
  verification_notes: Ctrl+Z/Cmd+Z tested where applicable
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
relationships:
  commonly_combined:
  - usability-interaction.feedback-response.confirmation-dialog
  - usability-interaction.feedback-response.success-error-feedback
  - usability-interaction.efficiency.shortcut-availability
