audit:
  id: usability-interaction.feedback-response.confirmation-dialog
  name: Confirmation Dialog Audit
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: usability-interaction
  category_number: 14
  subcategory: feedback-response
  tier: expert
  estimated_duration: 1.5 hours
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: qualitative
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines confirmation dialogs - the modal prompts that
    ask users to confirm actions before proceeding. It evaluates:

    - Appropriate use (when confirmations are needed)
    - Dialog content clarity
    - Button labeling and positioning
    - Destructive action differentiation
    - Confirmation fatigue prevention
    - Mobile and touch considerations
    - Accessibility of dialogs
  why_it_matters: |
    Confirmation dialogs serve critical functions:
    - Prevent accidental destructive actions
    - Give users a chance to reconsider
    - Communicate consequences of actions
    - Protect against data loss

    However, overuse creates "confirmation fatigue" where users blindly
    click through without reading. Balance is essential.
  when_to_run:
  - Error prevention review
  - Destructive action audit
  - User feedback about confirmations
  - New feature with irreversible actions
  - Dialog design review
prerequisites:
  required_artifacts:
  - type: application
    description: Running application with confirmation dialogs
  access_requirements:
  - Full application access
  - Ability to trigger destructive actions
discovery:
  code_patterns:
  - pattern: (confirm|dialog|modal|prompt)
    type: regex
    scope: source
    purpose: Identify dialog implementations
  - pattern: (delete|remove|cancel|discard)
    type: regex
    scope: source
    purpose: Find destructive action triggers
  file_patterns:
  - glob: '**/components/**/*dialog*'
    purpose: Find dialog components
  - glob: '**/components/**/*modal*'
    purpose: Locate modal components
  - glob: '**/components/**/*confirm*'
    purpose: Find confirmation components
knowledge_sources:
  guides:
  - id: nngroup-confirmation
    name: Confirmation Dialogs
    url: https://www.nngroup.com/articles/confirmation-dialog/
    offline_cache: true
  - id: nngroup-error-prevention
    name: Error Prevention
    url: https://www.nngroup.com/articles/slips/
    offline_cache: true
  - id: material-dialogs
    name: Material Design Dialogs
    url: https://m3.material.io/components/dialogs/guidelines
    offline_cache: true
  specifications:
  - id: wai-aria-dialog
    name: WAI-ARIA Dialog Pattern
    url: https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/
    offline_cache: true
    priority: required
tooling:
  assessment_tools:
  - tool: Destructive action inventory
    purpose: Identify actions needing confirmation
  - tool: Dialog content checklist
    purpose: Evaluate dialog quality
signals:
  critical:
  - id: CONFIRM-CRIT-001
    signal: Destructive actions execute without confirmation
    evidence_indicators:
    - Delete button immediately removes data
    - No warning before irreversible actions
    - Users accidentally lose data
    explanation: |
      Destructive and irreversible actions must have confirmation
      to prevent accidental data loss.
    remediation: Add confirmation dialog for all destructive actions
  - id: CONFIRM-CRIT-002
    signal: Confirmation buttons unlabeled or misleading
    evidence_indicators:
    - Yes/No buttons without context
    - Button labels don't describe action
    - Users confused about which button to click
    explanation: |
      Generic button labels like "OK" or "Yes" don't clearly
      communicate what will happen.
    remediation: 'Use specific action verbs: ''Delete'', ''Discard'', ''Keep'''
  high:
  - id: CONFIRM-HIGH-001
    signal: Confirmation text doesn't explain consequences
    explanation: |
      Users need to understand what will happen if they proceed.
      Vague warnings aren't helpful.
    remediation: Clearly state what will be affected and whether it's reversible
  - id: CONFIRM-HIGH-002
    signal: Confirmation dialogs used for non-destructive actions
    explanation: |
      Overusing confirmations creates fatigue and trains users
      to click through without reading.
    remediation: Reserve confirmations for truly consequential actions
  - id: CONFIRM-HIGH-003
    signal: Destructive button same style as safe options
    explanation: |
      Destructive actions should be visually differentiated to
      prevent accidental selection.
    remediation: Style destructive buttons differently (red, warning color)
  medium:
  - id: CONFIRM-MED-001
    signal: Confirmation dialog not keyboard accessible
    remediation: Implement ARIA dialog pattern; support Escape to cancel
  - id: CONFIRM-MED-002
    signal: Focus not trapped in modal dialog
    remediation: Trap focus within dialog; return focus on close
  - id: CONFIRM-MED-003
    signal: Mobile confirmation buttons too small
    remediation: Ensure adequate touch target size (44x44px minimum)
  low:
  - id: CONFIRM-LOW-001
    signal: Confirmation dialog styling inconsistent with app
  positive:
  - id: CONFIRM-POS-001
    signal: Appropriate confirmations for destructive actions only
  - id: CONFIRM-POS-002
    signal: Clear, specific button labels
  - id: CONFIRM-POS-003
    signal: Accessible dialog implementation
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Destructive Action Inventory
    description: |
      Identify all destructive or consequential actions in
      the application.
    duration_estimate: 20 min
    commands:
    - purpose: Find delete/remove operations
      command: grep -ri 'delete\|remove\|discard\|cancel' --include='*.tsx' --include='*.jsx' --include='*.vue'
        | head -30
    expected_findings:
    - Destructive action list
    - Confirmation coverage
  - id: '2'
    name: Confirmation Presence Testing
    description: |
      Test each destructive action to verify appropriate
      confirmation is shown.
    duration_estimate: 25 min
    questions:
    - Does each destructive action have confirmation?
    - Is confirmation skipped for any dangerous actions?
    - Are confirmations used excessively?
    expected_findings:
    - Confirmation coverage assessment
    - Missing confirmations
  - id: '3'
    name: Dialog Content Review
    description: |
      Evaluate the quality of confirmation dialog content
      including titles, messages, and buttons.
    duration_estimate: 20 min
    questions:
    - Is the message clear about what will happen?
    - Are consequences explained?
    - Are button labels specific and clear?
    expected_findings:
    - Content quality assessment
    - Unclear dialogs identified
  - id: '4'
    name: Visual Design Assessment
    description: |
      Evaluate the visual design of confirmation dialogs
      for clarity and appropriate emphasis.
    duration_estimate: 15 min
    questions:
    - Are destructive buttons visually differentiated?
    - Is the safer option prominent?
    - Is styling consistent across the app?
    expected_findings:
    - Visual design assessment
    - Design issues
  - id: '5'
    name: Accessibility Testing
    description: |
      Test confirmation dialogs for keyboard and screen
      reader accessibility.
    duration_estimate: 15 min
    questions:
    - Can dialogs be operated via keyboard?
    - Is focus properly managed?
    - Are dialogs announced to screen readers?
    expected_findings:
    - Accessibility compliance
    - ARIA issues
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Coverage Analysis
    - Content Quality Review
    - Accessibility Assessment
    - Recommendations
  confidence_guidance:
    high: Direct testing confirms finding
    medium: Sample testing indicates issue
    low: Potential issue based on code analysis
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: nngroup-confirmation
      priority: required
    - source_id: wai-aria-dialog
      priority: required
profiles:
  membership:
    quick:
      included: true
      priority: 2
    full:
      included: true
      priority: 1
closeout_checklist:
- id: confirm-001
  item: Destructive actions have confirmations
  level: CRITICAL
  verification: manual
  verification_notes: All destructive actions verified
  expected: Confirmed by reviewer
- id: confirm-002
  item: Dialog content is clear
  level: BLOCKING
  verification: manual
  verification_notes: Messages and buttons reviewed
  expected: Confirmed by reviewer
- id: confirm-003
  item: Dialogs are accessible
  level: BLOCKING
  verification: manual
  verification_notes: Keyboard and screen reader tested
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: WCAG
    controls:
    - 3.3.4
    - 4.1.2
relationships:
  commonly_combined:
  - usability-interaction.feedback-response.undo-redo-capability
  - usability-interaction.navigation.back-button-behavior
  - accessibility.modal-dialogs
