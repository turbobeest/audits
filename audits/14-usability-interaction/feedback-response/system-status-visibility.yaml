# ============================================================
# AUDIT: System Status Visibility
# ============================================================
# Evaluates how well the system keeps users informed about
# what is happening through appropriate feedback.
# ============================================================

audit:
  id: "usability-interaction.feedback-response.system-status-visibility"

  name: "System Status Visibility Audit"

  version: "1.0.0"
  last_updated: "2026-01-19"
  status: "active"

  category: "usability-interaction"
  category_number: 14
  subcategory: "feedback-response"

  tier: "expert"
  estimated_duration: "3 hours"

  completeness: "complete"
  requires_runtime: true
  destructive: false

execution:
  automatable: "partial"
  severity: "high"
  scope: "qualitative"

  default_profiles:
    - "full"
    - "quick"

  blocks_phase: false
  parallelizable: true

description:
  what: |
    This audit evaluates system status visibility - Nielsen's first usability
    heuristic, which states that the system should always keep users informed
    about what is going on. It examines:

    - Current state indication (logged in, mode, selection)
    - Operation feedback (action acknowledgment)
    - System state changes (saving, syncing, connected)
    - Background process visibility
    - Error and warning states
    - Connection status
    - Data freshness indicators

  why_it_matters: |
    System status visibility is fundamental to usability:
    - Prevents user confusion about whether actions worked
    - Reduces anxiety during wait times
    - Builds trust through transparency
    - Enables informed decision-making
    - Supports error prevention and recovery

    Without status visibility, users feel out of control and uncertain,
    leading to repeated actions, errors, and frustration.

  when_to_run:
    - "Usability heuristic evaluation"
    - "User feedback indicating confusion"
    - "New feature implementation"
    - "Async operation design review"
    - "Error handling audit"

prerequisites:
  required_artifacts:
    - type: "application"
      description: "Running application for interaction testing"

  access_requirements:
    - "Full application access"
    - "Network throttling capability (for testing slow states)"

discovery:
  code_patterns:
    - pattern: "(loading|saving|syncing|pending|processing)"
      type: "regex"
      scope: "source"
      purpose: "Identify state indicators"
    - pattern: "(status|state|indicator|badge)"
      type: "regex"
      scope: "source"
      purpose: "Find status display components"
    - pattern: "(toast|notification|alert|snackbar)"
      type: "regex"
      scope: "source"
      purpose: "Locate feedback mechanisms"

  file_patterns:
    - glob: "**/components/**/*status*"
      purpose: "Find status components"
    - glob: "**/components/**/*notification*"
      purpose: "Locate notification components"
    - glob: "**/components/**/*toast*"
      purpose: "Find toast implementations"

knowledge_sources:
  specifications:
    - id: "nielsen-heuristic-1"
      name: "Nielsen Heuristic 1: Visibility of System Status"
      url: "https://www.nngroup.com/articles/visibility-system-status/"
      offline_cache: true
      priority: "required"

  guides:
    - id: "nngroup-response-time"
      name: "Response Time Limits"
      url: "https://www.nngroup.com/articles/response-times-3-important-limits/"
      offline_cache: true
    - id: "material-feedback"
      name: "Material Design Feedback"
      url: "https://m3.material.io/foundations/content-design/writing-guidelines#feedback"
      offline_cache: true

tooling:
  assessment_tools:
    - tool: "Heuristic evaluation checklist"
      purpose: "Systematic status visibility review"
    - tool: "Network throttling"
      purpose: "Test status visibility under slow conditions"
    - tool: "Screen recording"
      purpose: "Document status feedback instances"

signals:
  critical:
    - id: "STATUS-CRIT-001"
      signal: "Actions complete silently with no feedback"
      evidence_indicators:
        - "Clicking buttons produces no visible response"
        - "Save operations have no confirmation"
        - "Users cannot tell if actions succeeded"
      explanation: |
        Silent operations leave users guessing whether their
        actions worked, leading to repeated attempts and errors.
      remediation: "Add visible feedback for all user-initiated actions"

    - id: "STATUS-CRIT-002"
      signal: "System appears frozen during operations"
      evidence_indicators:
        - "UI becomes unresponsive with no indication"
        - "No loading state during async operations"
        - "Users believe application has crashed"
      explanation: |
        When the system processes without feedback, users assume
        it's broken and may take destructive actions (refresh, back).
      remediation: "Add loading indicators for any operation >100ms"

  high:
    - id: "STATUS-HIGH-001"
      signal: "Current application state not visible"
      explanation: |
        Users need to know current mode, selection, or state to
        understand the context of their actions.
      remediation: "Display current state clearly (logged in user, active mode, etc.)"

    - id: "STATUS-HIGH-002"
      signal: "Background operations invisible to users"
      explanation: |
        Background processes (sync, upload, download) should be
        visible so users know work is happening.
      remediation: "Add indicators for background operations"

    - id: "STATUS-HIGH-003"
      signal: "Feedback disappears before users can read it"
      explanation: |
        Temporary feedback (toasts, notifications) that disappear
        too quickly may be missed entirely.
      remediation: "Show feedback for minimum 4 seconds; allow manual dismissal"

  medium:
    - id: "STATUS-MED-001"
      signal: "Connection status not indicated"
      remediation: "Show online/offline status; warn about connectivity issues"

    - id: "STATUS-MED-002"
      signal: "Data freshness not indicated"
      remediation: "Show last updated timestamp or staleness indicator"

    - id: "STATUS-MED-003"
      signal: "Status feedback inconsistent across application"
      remediation: "Standardize feedback patterns throughout the app"

  low:
    - id: "STATUS-LOW-001"
      signal: "Status indicators could be more prominent"

  positive:
    - id: "STATUS-POS-001"
      signal: "Clear, consistent feedback for all operations"
    - id: "STATUS-POS-002"
      signal: "Appropriate loading states throughout"
    - id: "STATUS-POS-003"
      signal: "Current state always clearly visible"

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Action Feedback Audit"
      description: |
        Test all primary user actions and evaluate whether
        appropriate feedback is provided.
      duration_estimate: "45 min"
      questions:
        - "Do all buttons/actions produce feedback?"
        - "Is success clearly indicated?"
        - "Are errors clearly communicated?"
      expected_findings:
        - "Action feedback coverage"
        - "Silent operations identified"

    - id: "2"
      name: "Loading State Assessment"
      description: |
        Evaluate loading states for all async operations,
        using network throttling to expose slow states.
      duration_estimate: "30 min"
      questions:
        - "Are loading indicators shown?"
        - "Is loading state clear and appropriate?"
        - "What happens during extended waits?"
      expected_findings:
        - "Loading state coverage"
        - "Missing loading indicators"

    - id: "3"
      name: "Current State Visibility Review"
      description: |
        Assess visibility of current application state including
        user context, mode, and selection.
      duration_estimate: "25 min"
      questions:
        - "Is current user/account visible?"
        - "Are modes and contexts clear?"
        - "Is selection state obvious?"
      expected_findings:
        - "State visibility assessment"
        - "Unclear state issues"

    - id: "4"
      name: "Background Process Evaluation"
      description: |
        Identify background operations and evaluate their
        visibility to users.
      duration_estimate: "25 min"
      questions:
        - "What runs in the background?"
        - "Are background processes visible?"
        - "Can users monitor progress?"
      expected_findings:
        - "Background operation inventory"
        - "Visibility gaps"

    - id: "5"
      name: "Feedback Timing and Persistence"
      description: |
        Evaluate timing of feedback appearance and disappearance
        to ensure users have time to process information.
      duration_estimate: "20 min"
      questions:
        - "How long does feedback display?"
        - "Can users dismiss it manually?"
        - "Is important feedback persistent enough?"
      expected_findings:
        - "Feedback timing assessment"
        - "Timing issues"

    - id: "6"
      name: "Consistency Review"
      description: |
        Assess consistency of status visibility patterns
        across the application.
      duration_estimate: "20 min"
      questions:
        - "Are feedback patterns consistent?"
        - "Do similar actions have similar feedback?"
        - "Is visual language consistent?"
      expected_findings:
        - "Consistency assessment"
        - "Inconsistencies identified"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Action Feedback Analysis"
        - "Loading State Assessment"
        - "State Visibility Review"
        - "Recommendations"

  confidence_guidance:
    high: "Direct testing confirms finding"
    medium: "Heuristic evaluation identifies issue"
    low: "Potential issue based on limited testing"

offline:
  capability: "partial"

  cache_manifest:
    knowledge:
      - source_id: "nielsen-heuristic-1"
        priority: "required"

profiles:
  membership:
    quick:
      included: true
      priority: 2
    full:
      included: true
      priority: 1

closeout_checklist:
  - id: "status-001"
    item: "All primary actions tested for feedback"
    level: "CRITICAL"
    verification: "manual"
    verification_notes: "Main user actions verified to provide feedback"
    expected: "Confirmed by reviewer"

  - id: "status-002"
    item: "Loading states evaluated"
    level: "CRITICAL"
    verification: "manual"
    verification_notes: "Async operations have appropriate loading indicators"
    expected: "Confirmed by reviewer"

  - id: "status-003"
    item: "Current state visibility assessed"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Application state clearly visible to users"
    expected: "Confirmed by reviewer"

governance:
  applicable_to:
    archetypes: ["all"]

  compliance_frameworks:
    - framework: "WCAG"
      controls: ["3.3.1", "4.1.3"]

relationships:
  commonly_combined:
    - "usability-interaction.feedback-response.loading-state"
    - "usability-interaction.feedback-response.success-error-feedback"
    - "usability-interaction.feedback-response.progress-indicator"
