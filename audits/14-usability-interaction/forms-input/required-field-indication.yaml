audit:
  id: usability-interaction.forms-input.required-field-indication
  name: Required Field Indication Assessment
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: usability-interaction
  category_number: 14
  subcategory: forms-input
  tier: expert
  estimated_duration: 1-2 hours  # median: 1h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: codebase
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines how required and optional fields are indicated
    in forms. It evaluates the use of asterisks, text labels, visual
    indicators, and programmatic accessibility attributes to ensure users
    understand which fields must be completed.
  why_it_matters: |
    Clear indication of required fields prevents user errors and frustration.
    When users cannot distinguish required from optional fields, they may
    submit incomplete forms (triggering errors) or waste time filling
    optional fields they would prefer to skip. Proper indication is also
    an accessibility requirement.
  when_to_run:
  - During form design and development
  - When users report confusion about form requirements
  - During accessibility audits
  - When reviewing form completion rates
prerequisites:
  required_artifacts:
  - type: source_code
    description: Form component source code
  - type: running_application
    description: Access to view form rendering
  access_requirements:
  - Access to form component source files
  - Screen reader for accessibility testing
discovery:
  code_patterns:
  - pattern: required|Required|isRequired
    type: keyword
    scope: source
    purpose: Find required field markers
  - pattern: aria-required
    type: keyword
    scope: source
    purpose: Find ARIA required attributes
  - pattern: \*|asterisk
    type: regex
    scope: source
    purpose: Find asterisk indicators
  - pattern: optional|Optional
    type: keyword
    scope: source
    purpose: Find optional field markers
  file_patterns:
  - glob: '**/*form*'
    purpose: Find form components
  - glob: '**/*field*'
    purpose: Find field components
  - glob: '**/*label*'
    purpose: Find label components
knowledge_sources:
  specifications:
  - id: wcag-labels-instructions
    name: WCAG 2.2 - Labels or Instructions (3.3.2)
    url: https://www.w3.org/WAI/WCAG22/Understanding/labels-or-instructions
    offline_cache: true
    priority: required
  guides:
  - id: nngroup-required
    name: Nielsen Norman Group - Indicating Required Fields
    url: https://www.nngroup.com/articles/required-fields/
    offline_cache: true
  - id: baymard-required
    name: Baymard Institute - Required Field Marking
    url: https://baymard.com/blog/required-optional-form-fields
    offline_cache: true
tooling:
  static_analysis:
  - tool: axe-core
    purpose: Check for aria-required usage
    offline_capable: true
  scripts:
  - id: required-field-analyzer
    language: bash
    purpose: Analyze required field patterns
    source: inline
    code: |
      #!/bin/bash
      echo "=== Required Field Patterns ==="
      grep -rn "required" --include="*.jsx" --include="*.tsx" --include="*.html" | head -20

      echo "=== ARIA Required Usage ==="
      grep -rn "aria-required" --include="*.jsx" --include="*.tsx" --include="*.html" | head -10

      echo "=== Asterisk Indicators ==="
      grep -rn "\*" --include="*.jsx" --include="*.tsx" | grep -i "label\|required" | head -10
signals:
  critical:
  - id: REQUIRED-CRIT-001
    signal: Required fields not programmatically indicated
    evidence_pattern: Required fields without required attribute or aria-required
    explanation: |
      Screen readers cannot communicate field requirements without
      programmatic indication. This is a WCAG accessibility failure.
    remediation: Add required attribute or aria-required='true' to all required fields
  high:
  - id: REQUIRED-HIGH-001
    signal: No visual indication of required fields
    evidence_pattern: Forms with required fields but no visual markers
    explanation: |
      Users cannot distinguish required from optional fields, leading
      to submission errors and confusion.
    remediation: Add visual indicators (asterisks, text, icons) for required fields
  - id: REQUIRED-HIGH-002
    signal: Required indication relies only on color
    evidence_pattern: Red labels for required fields with no other indicator
    explanation: |
      Color-only indicators are invisible to colorblind users and
      fail WCAG 1.4.1 Use of Color requirement.
    remediation: Use asterisks, text, or icons in addition to any color changes
  - id: REQUIRED-HIGH-003
    signal: Asterisk used without explanation
    explanation: |
      Not all users understand that asterisks indicate required fields.
      Without explanation, the indicator is ambiguous.
    remediation: Add legend text like '* Required field' near form start
    evidence_description: '* markers without legend explaining meaning'
  medium:
  - id: REQUIRED-MED-001
    signal: Inconsistent required field indication across forms
    evidence_indicators:
    - Some forms use asterisks, others use text
    - Different visual styles for required indicators
    remediation: Standardize required field indication across all forms
  - id: REQUIRED-MED-002
    signal: Marking required instead of optional fields (when most are required)
    evidence_pattern: Required markers on 80%+ of fields
    explanation: |
      Research shows marking the minority class (optional fields) is
      clearer when most fields are required.
    remediation: Mark optional fields with '(optional)' when most fields are required
  - id: REQUIRED-MED-003
    signal: Required indicator not adjacent to label
    evidence_pattern: Asterisk at end of input or far from label text
    remediation: Place required indicator immediately after or before label text
  low:
  - id: REQUIRED-LOW-001
    signal: Required indicator styling is subtle
    remediation: Make required indicators visually prominent
  - id: REQUIRED-LOW-002
    signal: No indication of total required vs optional fields
    remediation: Consider adding summary like '3 required fields' at form start
  positive:
  - id: REQUIRED-POS-001
    signal: Clear visual and programmatic required indication
  - id: REQUIRED-POS-002
    signal: Legend explaining required indicator present
  - id: REQUIRED-POS-003
    signal: Optional fields marked when most are required
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Required Field Patterns
    description: |
      Search the codebase to identify how required fields are
      marked both visually and programmatically.
    duration_estimate: 15 min
    commands:
    - purpose: Find required patterns
      command: grep -rn 'required\|aria-required' --include='*.jsx' --include='*.tsx' src/
    - purpose: Find visual indicators
      command: grep -rn '\*.*label\|label.*\*' --include='*.jsx' --include='*.tsx' src/
    expected_findings:
    - Patterns for marking required fields
    - Visual indicator usage
  - id: '2'
    name: Evaluate Visual Clarity
    description: |
      Review forms to assess the clarity and consistency of
      required field indicators.
    duration_estimate: 25 min
    questions:
    - Can users easily identify required fields?
    - Is there a legend explaining the indicator?
    - Are indicators consistent across all forms?
    - Does the indicator rely solely on color?
    expected_findings:
    - Visual clarity assessment
    - Consistency across forms
  - id: '3'
    name: Check Accessibility Compliance
    description: |
      Verify required fields are programmatically indicated
      for assistive technology users.
    duration_estimate: 20 min
    commands:
    - purpose: Run accessibility check
      command: npx axe-core --include form 2>/dev/null || echo 'Manual verification required'
    questions:
    - Do required fields have required or aria-required attributes?
    - Is the required state announced by screen readers?
    expected_findings:
    - Programmatic indication compliance
    - Screen reader announcement verification
  - id: '4'
    name: Analyze Required vs Optional Ratio
    description: |
      Determine if marking required or optional fields would
      be clearer based on the ratio.
    duration_estimate: 15 min
    questions:
    - What percentage of fields are required?
    - Would marking optional fields be clearer?
    - Are optional fields clearly indicated?
    expected_findings:
    - Required/optional field ratio
    - Recommendation for marking approach
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Required Indication Patterns
    - Accessibility Compliance
    - Recommendations
  confidence_guidance:
    high: Issues verified through code review, visual inspection, and screen reader testing
    medium: Issues identified through code review and visual inspection
    low: Potential issues based on pattern matching only
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: wcag-labels-instructions
      priority: required
profiles:
  membership:
    quick:
      included: true
      priority: 3
    full:
      included: true
      priority: 2
closeout_checklist:
- id: required-001
  item: Required fields have programmatic indication
  level: CRITICAL
  verification: manual
  verification_notes: Verify required or aria-required attributes on all required fields
  expected: Confirmed by reviewer
- id: required-002
  item: Visual indicators present and explained
  level: BLOCKING
  verification: manual
  verification_notes: Verify visual indicators with legend text
  expected: Confirmed by reviewer
- id: required-003
  item: Indicators do not rely solely on color
  level: CRITICAL
  verification: manual
  verification_notes: Verify text/icon indicators alongside any color
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - web-application
    - mobile-application
    - saas
  compliance_frameworks:
  - framework: WCAG
    controls:
    - 1.4.1
    - 3.3.2
relationships:
  commonly_combined:
  - usability-interaction.forms-input.field-label-clarity
  - usability-interaction.forms-input.validation-message
  - usability-interaction.consistency.visual-consistency
