# ============================================================
# AUDIT: Choice Overload Assessment
# ============================================================
# Evaluates whether users face excessive choices that lead to
# decision paralysis, applying Hick's Law principles.
# ============================================================

audit:
  id: "usability-interaction.cognitive-load.choice-overload"

  name: "Choice Overload Assessment"

  version: "1.0.0"
  last_updated: "2026-01-19"
  status: "active"

  category: "usability-interaction"
  category_number: 14
  subcategory: "cognitive-load"

  tier: "expert"
  estimated_duration: "2-3 hours"  # median: 2h

  completeness: "complete"
  requires_runtime: true
  destructive: false

# ============================================================
# EXECUTION CLASSIFICATION
# ============================================================

execution:
  automatable: "partial"
  severity: "medium"
  scope: "codebase"

  default_profiles:
    - "full"

  blocks_phase: false
  parallelizable: true

# ============================================================
# DESCRIPTION & RATIONALE
# ============================================================

description:
  what: |
    This audit evaluates whether the application presents users with
    excessive choices that lead to decision paralysis. Based on Hick's
    Law, it examines menus, option lists, filters, and decision points
    to ensure choice complexity is appropriately managed.

  why_it_matters: |
    Hick's Law demonstrates that decision time increases logarithmically
    with the number of choices. The famous "jam study" showed that too
    many options reduce purchase rates. In software, excessive choices
    slow users, increase abandonment, and reduce satisfaction. Thoughtful
    reduction and organization of choices improves usability.

  when_to_run:
    - "During navigation and menu design"
    - "When designing product selectors or filters"
    - "When users report decision difficulty"
    - "During settings and preferences design"

# ============================================================
# PREREQUISITES
# ============================================================

prerequisites:
  required_artifacts:
    - type: "source_code"
      description: "Menu, navigation, and selection components"
    - type: "running_application"
      description: "Access to decision points in the UI"

  access_requirements:
    - "Access to menu and navigation components"
    - "Understanding of user decision workflows"

# ============================================================
# DISCOVERY SPECIFICATION
# ============================================================

discovery:
  code_patterns:
    - pattern: "select|Select|dropdown|Dropdown"
      type: "keyword"
      scope: "source"
      purpose: "Find selection components"
    - pattern: "menu|Menu|MenuItem"
      type: "keyword"
      scope: "source"
      purpose: "Find menu components"
    - pattern: "options|choices|items"
      type: "keyword"
      scope: "source"
      purpose: "Find option lists"
    - pattern: "filter|Filter|sort|Sort"
      type: "keyword"
      scope: "source"
      purpose: "Find filtering interfaces"

  file_patterns:
    - glob: "**/*menu*"
      purpose: "Find menu components"
    - glob: "**/*select*"
      purpose: "Find select components"
    - glob: "**/*settings*"
      purpose: "Find settings screens"

# ============================================================
# KNOWLEDGE SOURCES
# ============================================================

knowledge_sources:
  specifications:
    - id: "hicks-law"
      name: "Hick's Law"
      url: "https://lawsofux.com/hicks-law/"
      offline_cache: true
      priority: "required"

  guides:
    - id: "nngroup-choices"
      name: "Nielsen Norman Group - Choice Overload"
      url: "https://www.nngroup.com/articles/reduce-choices/"
      offline_cache: true
    - id: "paradox-choice"
      name: "Barry Schwartz - Paradox of Choice"
      url: "https://www.ted.com/talks/barry_schwartz_the_paradox_of_choice"
      offline_cache: true

  papers:
    - id: "jam-study"
      title: "When Choice is Demotivating (Iyengar & Lepper)"
      url: "https://faculty.washington.edu/jdb/345/345%20Articles/Iyengar%20%26%20Lepper%20(2000).pdf"

# ============================================================
# TOOLING & AUTOMATION
# ============================================================

tooling:
  scripts:
    - id: "choice-finder"
      language: "bash"
      purpose: "Find choice-heavy components"
      source: "inline"
      code: |
        #!/bin/bash
        echo "=== Select/Dropdown Components ==="
        grep -rn "Select\|Dropdown\|<select" --include="*.jsx" --include="*.tsx" | head -15

        echo "=== Menu Components ==="
        grep -rn "Menu\|MenuItem\|MenuList" --include="*.jsx" --include="*.tsx" | head -15

        echo "=== Filter Components ==="
        grep -rn "Filter\|filter" --include="*.jsx" --include="*.tsx" | head -15

        echo "=== Options Arrays ==="
        grep -rn "options\s*=" --include="*.jsx" --include="*.tsx" --include="*.ts" | head -15

# ============================================================
# SIGNALS & FINDINGS TAXONOMY
# ============================================================

signals:
  critical:
    - id: "CHOICE-CRIT-001"
      signal: "Critical decision point with overwhelming options"
      evidence_indicators:
        - "Pricing page with >4 plans"
        - "Signup flow with >5 account types"
        - "Primary navigation with >9 top-level items"
      explanation: |
        Decision paralysis at critical points directly impacts
        conversion and user success.
      remediation: "Reduce options, provide defaults, or guide users to recommended choice"

  high:
    - id: "CHOICE-HIGH-001"
      signal: "Dropdown/select with excessive options"
      evidence_pattern: "Select with >15 options without search/filter"
      explanation: |
        Long option lists without search force users to scan
        entire lists, violating Hick's Law.
      remediation: "Add search/autocomplete for >10 options; consider progressive disclosure"
    - id: "CHOICE-HIGH-002"
      signal: "Navigation menu with too many items"
      evidence_pattern: "Primary navigation with >7 items"
      explanation: |
        Large navigation menus increase scan time and reduce
        ability to find items quickly.
      remediation: "Group items into categories; limit top-level to 5-7 items"
    - id: "CHOICE-HIGH-003"
      signal: "Settings page as undifferentiated list"
      evidence_pattern: "Settings with >20 options in single list"
      explanation: |
        Large undifferentiated settings lists make finding and
        changing settings time-consuming.
      remediation: "Group settings into categories; show most common first"

  medium:
    - id: "CHOICE-MED-001"
      signal: "Filter panel offers too many simultaneous options"
      evidence_pattern: ">10 filter dimensions visible at once"
      remediation: "Progressive disclosure of filters; show most used by default"
    - id: "CHOICE-MED-002"
      signal: "No default or recommended option provided"
      evidence_pattern: "Choice point without highlighted recommendation"
      remediation: "Provide sensible default or highlight recommended option"
    - id: "CHOICE-MED-003"
      signal: "Action menu with excessive items"
      evidence_pattern: "Context menu with >10 actions"
      remediation: "Group into submenus; prioritize common actions"

  low:
    - id: "CHOICE-LOW-001"
      signal: "Options could be better organized"
      remediation: "Group related options; order by frequency or importance"
    - id: "CHOICE-LOW-002"
      signal: "Radio buttons used for long option list"
      remediation: "Consider select/dropdown for >5 radio options"

  positive:
    - id: "CHOICE-POS-001"
      signal: "Limited, well-organized menu options"
    - id: "CHOICE-POS-002"
      signal: "Smart defaults reduce required decisions"
    - id: "CHOICE-POS-003"
      signal: "Search available for long option lists"
    - id: "CHOICE-POS-004"
      signal: "Recommendations highlight best choices"

# ============================================================
# EXECUTION PROCEDURE
# ============================================================

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Inventory Decision Points"
      description: |
        Identify all significant decision points where users
        must choose between options.
      duration_estimate: "25 min"
      commands:
        - purpose: "Find select components"
          command: "grep -rn 'Select\\|Dropdown\\|<select' --include='*.jsx' --include='*.tsx' src/"
        - purpose: "Find menu components"
          command: "grep -rn 'Menu\\|MenuItem' --include='*.jsx' --include='*.tsx' src/"
      expected_findings:
        - "Decision point inventory"
        - "Component patterns"

    - id: "2"
      name: "Count Options at Each Point"
      description: |
        For each decision point, count the number of options
        and compare against Hick's Law guidelines.
      duration_estimate: "30 min"
      questions:
        - "How many items in primary navigation?"
        - "How many options in key dropdowns?"
        - "How many settings are visible?"
        - "How many pricing plans or products?"
      expected_findings:
        - "Option counts per decision point"
        - "Violations of guidelines"

    - id: "3"
      name: "Evaluate Choice Organization"
      description: |
        Assess how choices are organized and whether grouping
        or filtering helps manage complexity.
      duration_estimate: "25 min"
      questions:
        - "Are long lists grouped into categories?"
        - "Is search/filter available for long lists?"
        - "Are choices ordered meaningfully?"
        - "Are recommendations or defaults provided?"
      expected_findings:
        - "Organization assessment"
        - "Search/filter availability"

    - id: "4"
      name: "Test Critical Decision Points"
      description: |
        Walk through critical user journeys to experience
        decision complexity firsthand.
      duration_estimate: "25 min"
      questions:
        - "How does the signup/pricing decision feel?"
        - "How easy is it to find navigation items?"
        - "How manageable are settings?"
      expected_findings:
        - "User experience at decision points"
        - "Decision friction assessment"

# ============================================================
# OUTPUT SPECIFICATION
# ============================================================

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Decision Point Inventory"
        - "Choice Count Analysis"
        - "Organization Assessment"
        - "Recommendations"

  confidence_guidance:
    high: "Issues verified through counting and user journey analysis"
    medium: "Issues identified through option counting"
    low: "Potential issues requiring user testing"

# ============================================================
# OFFLINE SUPPORT
# ============================================================

offline:
  capability: "full"

  cache_manifest:
    knowledge:
      - source_id: "hicks-law"
        priority: "required"

# ============================================================
# PROFILES
# ============================================================

profiles:
  membership:
    quick:
      included: false
      reason: "Requires comprehensive decision point analysis"
    full:
      included: true
      priority: 2

# ============================================================
# CLOSEOUT CHECKLIST
# ============================================================

closeout_checklist:
  - id: "choice-001"
    item: "Major decision points inventoried"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Navigation, settings, selects cataloged with counts"
    expected: "Confirmed by reviewer"

  - id: "choice-002"
    item: "Navigation follows Hick's Law"
    level: "WARNING"
    verification: "manual"
    verification_notes: "Primary navigation <=7 items"
    expected: "Confirmed by reviewer"

  - id: "choice-003"
    item: "Long lists have search/filter"
    level: "WARNING"
    verification: "manual"
    verification_notes: "Lists with >10 items have search capability"
    expected: "Confirmed by reviewer"

# ============================================================
# GOVERNANCE
# ============================================================

governance:
  applicable_to:
    archetypes: ["web-application", "e-commerce", "saas"]

# ============================================================
# RELATIONSHIPS
# ============================================================

relationships:
  commonly_combined:
    - "usability-interaction.cognitive-load.information-density"
    - "usability-interaction.cognitive-load.grouping-chunking"
    - "usability-interaction.mobile-touch.mobile-navigation"
