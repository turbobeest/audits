# ============================================================
# AUDIT: Progressive Disclosure
# ============================================================
# Evaluates how effectively interfaces reveal complexity
# gradually to reduce cognitive load and improve learnability.
# ============================================================

audit:
  id: "usability-interaction.learnability.progressive-disclosure"

  name: "Progressive Disclosure Audit"

  version: "1.0.0"
  last_updated: "2026-01-19"
  status: "active"

  category: "usability-interaction"
  category_number: 14
  subcategory: "learnability"

  tier: "expert"
  estimated_duration: "3 hours"

  completeness: "complete"
  requires_runtime: true
  destructive: false

execution:
  automatable: "partial"
  severity: "medium"
  scope: "qualitative"

  default_profiles:
    - "full"

  blocks_phase: false
  parallelizable: true

description:
  what: |
    This audit examines progressive disclosure patterns - the interaction
    design technique of revealing information and options gradually based
    on user needs and context. It evaluates:

    - Default visibility of features and options
    - Layering of simple to advanced functionality
    - Expand/collapse patterns for complex content
    - Advanced settings and power user features
    - Context-sensitive feature revelation
    - Information density management

  why_it_matters: |
    Progressive disclosure is a fundamental UX principle that:
    - Reduces cognitive overload for new users
    - Keeps interfaces clean and focused
    - Enables feature richness without overwhelming complexity
    - Supports both novice and expert users effectively
    - Improves task completion rates

    Without progressive disclosure, interfaces become cluttered and
    intimidating, causing users to miss key features or abandon tasks.

  when_to_run:
    - "Interface complexity review"
    - "Feature creep concerns"
    - "User complaints about overwhelming options"
    - "New feature additions"
    - "Usability testing preparation"

prerequisites:
  required_artifacts:
    - type: "application"
      description: "Running application for interaction testing"
    - type: "feature_inventory"
      description: "List of features and their target users"

  access_requirements:
    - "Full application access including advanced features"
    - "Ability to test as different user types/roles"

discovery:
  code_patterns:
    - pattern: "(expand|collapse|toggle|show.?more|see.?all|advanced)"
      type: "regex"
      scope: "source"
      purpose: "Identify progressive disclosure controls"
    - pattern: "(hidden|visible|collapsed|expanded|detailed)"
      type: "regex"
      scope: "source"
      purpose: "Find visibility state management"
    - pattern: "(basic|advanced|pro|expert|power.?user)"
      type: "regex"
      scope: "source"
      purpose: "Locate user level feature gating"

  file_patterns:
    - glob: "**/components/**/*accordion*"
      purpose: "Find accordion/expand components"
    - glob: "**/components/**/*collapse*"
      purpose: "Find collapsible components"
    - glob: "**/settings/**"
      purpose: "Locate settings organization"

knowledge_sources:
  specifications:
    - id: "nielsen-10"
      name: "Nielsen's 10 Usability Heuristics"
      url: "https://www.nngroup.com/articles/ten-usability-heuristics/"
      offline_cache: true
      priority: "required"

  guides:
    - id: "nngroup-progressive"
      name: "Progressive Disclosure"
      url: "https://www.nngroup.com/articles/progressive-disclosure/"
      offline_cache: true
    - id: "nngroup-complexity"
      name: "Simplicity vs. Feature Richness"
      url: "https://www.nngroup.com/articles/simplicity-vs-feature-richness/"
      offline_cache: true

tooling:
  assessment_tools:
    - tool: "Complexity mapping"
      purpose: "Visualize feature layers and disclosure patterns"
    - tool: "Heuristic evaluation"
      purpose: "Assess progressive disclosure implementation"

signals:
  critical:
    - id: "PD-CRIT-001"
      signal: "All features visible simultaneously creating overwhelming interface"
      evidence_indicators:
        - "First screen shows 20+ interactive elements"
        - "No visual hierarchy distinguishing primary from secondary actions"
        - "Users report feeling overwhelmed"
      explanation: |
        Showing everything at once creates cognitive overload and makes
        it difficult for users to identify the most important actions.
      remediation: "Implement layered disclosure; prioritize primary actions"

  high:
    - id: "PD-HIGH-001"
      signal: "Advanced features hidden with no discoverability path"
      explanation: |
        While hiding advanced features is correct, users need a way
        to discover they exist when ready.
      remediation: "Add subtle indicators or contextual hints for advanced features"

    - id: "PD-HIGH-002"
      signal: "Essential features require multiple clicks to access"
      explanation: |
        Over-aggressive hiding can bury frequently needed features,
        making the interface frustrating for regular users.
      remediation: "Review feature usage data; surface frequently used items"

    - id: "PD-HIGH-003"
      signal: "Inconsistent disclosure patterns across interface"
      explanation: |
        When different parts of the interface use different patterns
        for revealing content, users cannot build mental models.
      remediation: "Standardize disclosure patterns across the application"

  medium:
    - id: "PD-MED-001"
      signal: "No clear visual distinction between basic and advanced options"
      remediation: "Use visual grouping, labels, or separators"

    - id: "PD-MED-002"
      signal: "Expanded content resets when navigating away"
      remediation: "Persist disclosure state within session"

  low:
    - id: "PD-LOW-001"
      signal: "Disclosure animations too slow or distracting"

  positive:
    - id: "PD-POS-001"
      signal: "Clear layering from simple to complex"
    - id: "PD-POS-002"
      signal: "Context-sensitive feature revelation based on user actions"
    - id: "PD-POS-003"
      signal: "User preferences for disclosure level respected"

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Interface Complexity Inventory"
      description: |
        Catalog all features and options, categorizing them by
        frequency of use and user expertise required.
      duration_estimate: "45 min"
      questions:
        - "How many features are visible by default?"
        - "What is the ratio of basic to advanced features?"
        - "Which features are hidden and how?"
      expected_findings:
        - "Feature inventory with visibility classification"
        - "Complexity distribution assessment"

    - id: "2"
      name: "Disclosure Pattern Analysis"
      description: |
        Document all progressive disclosure patterns used in the
        interface and assess their consistency.
      duration_estimate: "30 min"
      questions:
        - "What patterns are used (expand, tabs, modals, etc.)?"
        - "Are patterns consistent across the application?"
        - "Are disclosure controls clearly labeled?"
      expected_findings:
        - "Pattern inventory"
        - "Consistency assessment"

    - id: "3"
      name: "Novice User Perspective Testing"
      description: |
        Evaluate the interface from a new user's perspective,
        assessing whether primary actions are obvious.
      duration_estimate: "30 min"
      questions:
        - "Can a novice complete basic tasks easily?"
        - "Is the interface overwhelming?"
        - "Are primary actions clearly prioritized?"
      expected_findings:
        - "Novice user task success assessment"
        - "Cognitive load evaluation"

    - id: "4"
      name: "Expert User Path Assessment"
      description: |
        Evaluate whether expert users can efficiently access
        advanced features without excessive clicking.
      duration_estimate: "30 min"
      questions:
        - "How many steps to access advanced features?"
        - "Can experts customize their view?"
        - "Are shortcuts available?"
      expected_findings:
        - "Expert efficiency metrics"
        - "Advanced feature accessibility"

    - id: "5"
      name: "Discoverability Evaluation"
      description: |
        Assess whether hidden features are discoverable when
        users are ready for them.
      duration_estimate: "25 min"
      questions:
        - "Are hidden features discoverable through exploration?"
        - "Do contextual hints reveal advanced capabilities?"
        - "Is documentation available for advanced features?"
      expected_findings:
        - "Discoverability score for hidden features"
        - "Discovery path assessment"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Complexity Analysis"
        - "Disclosure Pattern Inventory"
        - "Key Findings"
        - "Recommendations"

  confidence_guidance:
    high: "Direct testing confirms finding with multiple user types"
    medium: "Heuristic evaluation identifies issue"
    low: "Potential issue based on pattern analysis"

offline:
  capability: "full"

  cache_manifest:
    knowledge:
      - source_id: "nielsen-10"
        priority: "required"
      - source_id: "nngroup-progressive"
        priority: "required"

profiles:
  membership:
    quick:
      included: false
      reason: "Requires comprehensive feature analysis"
    full:
      included: true
      priority: 1

closeout_checklist:
  - id: "pd-001"
    item: "Feature visibility inventory completed"
    level: "CRITICAL"
    verification: "manual"
    verification_notes: "All features categorized by default visibility"
    expected: "Confirmed by reviewer"

  - id: "pd-002"
    item: "Disclosure patterns documented"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "All disclosure mechanisms identified and assessed"
    expected: "Confirmed by reviewer"

  - id: "pd-003"
    item: "Novice and expert paths evaluated"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Both user types can accomplish tasks efficiently"
    expected: "Confirmed by reviewer"

governance:
  applicable_to:
    archetypes: ["all"]

relationships:
  commonly_combined:
    - "usability-interaction.learnability.first-use-experience"
    - "usability-interaction.navigation.menu-organization"
    - "usability-interaction.efficiency.click-tap-depth"
