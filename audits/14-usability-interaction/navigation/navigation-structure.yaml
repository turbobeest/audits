# ============================================================
# AUDIT: Navigation Structure
# ============================================================
# Evaluates the overall information architecture and navigation
# structure of the application.
# ============================================================

audit:
  id: "usability-interaction.navigation.navigation-structure"

  name: "Navigation Structure Audit"

  version: "1.0.0"
  last_updated: "2026-01-19"
  status: "active"

  category: "usability-interaction"
  category_number: 14
  subcategory: "navigation"

  tier: "expert"
  estimated_duration: "4 hours"

  completeness: "complete"
  requires_runtime: true
  destructive: false

execution:
  automatable: "partial"
  severity: "high"
  scope: "qualitative"

  default_profiles:
    - "full"

  blocks_phase: false
  parallelizable: true

description:
  what: |
    This audit examines the overall navigation structure and information
    architecture of an application. It evaluates:

    - Navigation hierarchy and depth
    - Consistency of navigation patterns
    - Clarity of navigation labels
    - Mobile vs desktop navigation patterns
    - Navigation accessibility
    - Location awareness (where am I?)
    - Wayfinding support
    - Navigation scalability

  why_it_matters: |
    Navigation structure is the backbone of user experience:
    - Determines how easily users find content and features
    - Shapes user mental models of the application
    - Impacts task completion success rates
    - Affects time-on-task for all user activities
    - Influences overall usability perception

    Poor navigation structure leads to lost users, abandoned tasks,
    and negative perception of the entire product.

  when_to_run:
    - "Information architecture review"
    - "Major redesign planning"
    - "New feature integration"
    - "User complaints about finding things"
    - "Navigation analytics showing problems"

prerequisites:
  required_artifacts:
    - type: "application"
      description: "Running application for navigation testing"
    - type: "sitemap"
      description: "Site map or navigation documentation (if available)"

  access_requirements:
    - "Full application access"
    - "Both desktop and mobile interfaces"

discovery:
  code_patterns:
    - pattern: "(nav|navigation|menu|sidebar|header)"
      type: "regex"
      scope: "source"
      purpose: "Identify navigation components"
    - pattern: "(route|router|path|link)"
      type: "regex"
      scope: "source"
      purpose: "Find routing configurations"

  file_patterns:
    - glob: "**/navigation/**"
      purpose: "Find navigation components"
    - glob: "**/routes/**"
      purpose: "Locate route definitions"
    - glob: "**/menu/**"
      purpose: "Find menu components"

  documents_to_review:
    - type: "Site map documentation"
      purpose: "Understand intended structure"
    - type: "User research findings"
      purpose: "Identify navigation pain points"
    - type: "Analytics - navigation paths"
      purpose: "Understand actual user navigation patterns"

knowledge_sources:
  guides:
    - id: "nngroup-navigation"
      name: "Navigation Design"
      url: "https://www.nngroup.com/articles/navigation-ia/"
      offline_cache: true
    - id: "nngroup-mega-menus"
      name: "Mega Menus"
      url: "https://www.nngroup.com/articles/mega-menus-work-well/"
      offline_cache: true
    - id: "material-navigation"
      name: "Material Design Navigation"
      url: "https://m3.material.io/foundations/content-design/navigation"
      offline_cache: true

  learning_resources:
    - id: "information-architecture"
      title: "Information Architecture for the World Wide Web"
      type: "book"
      reference: "Rosenfeld & Morville, ISBN 978-1491911686"

tooling:
  assessment_tools:
    - tool: "Site mapping tool"
      purpose: "Visualize navigation structure"
    - tool: "Card sorting analysis"
      purpose: "Validate information groupings"
    - tool: "Tree testing tool"
      purpose: "Test findability without visual design"

signals:
  critical:
    - id: "NAV-CRIT-001"
      signal: "Primary navigation inconsistent across pages"
      evidence_indicators:
        - "Navigation items change unexpectedly"
        - "Navigation location moves between pages"
        - "Different navigation patterns for similar content"
      explanation: |
        Inconsistent navigation destroys user mental models and
        makes it impossible to learn the interface.
      remediation: "Standardize primary navigation across all pages"

    - id: "NAV-CRIT-002"
      signal: "Users cannot determine their current location"
      evidence_indicators:
        - "No visual indication of current page"
        - "Breadcrumbs absent or incorrect"
        - "Page titles don't match navigation labels"
      explanation: |
        Without location awareness, users become lost and cannot
        build a mental map of the application.
      remediation: "Add clear location indicators, breadcrumbs, and consistent highlighting"

  high:
    - id: "NAV-HIGH-001"
      signal: "Navigation depth exceeds 3-4 levels"
      explanation: |
        Deep navigation hierarchies are hard to understand and
        navigate. Most users cannot remember more than 3-4 levels.
      remediation: "Flatten hierarchy; use faceted navigation or search"

    - id: "NAV-HIGH-002"
      signal: "Navigation labels unclear or inconsistent"
      explanation: |
        Unclear labels force users to click and explore rather
        than navigate confidently to their destination.
      remediation: "Use clear, descriptive labels; follow standard terminology"

    - id: "NAV-HIGH-003"
      signal: "Mobile navigation significantly worse than desktop"
      explanation: |
        Mobile users deserve equally effective navigation, not
        a cramped version of the desktop experience.
      remediation: "Design mobile-first navigation; use appropriate patterns"

  medium:
    - id: "NAV-MED-001"
      signal: "No secondary navigation for complex sections"
      remediation: "Add local/secondary navigation for deep content areas"

    - id: "NAV-MED-002"
      signal: "Navigation doesn't scale well with content growth"
      remediation: "Design for scalability; consider search and filtering"

    - id: "NAV-MED-003"
      signal: "Navigation accessibility issues (keyboard, screen reader)"
      remediation: "Implement accessible navigation patterns"

  low:
    - id: "NAV-LOW-001"
      signal: "Navigation styling inconsistent with overall design"

  positive:
    - id: "NAV-POS-001"
      signal: "Clear, consistent navigation structure throughout"
    - id: "NAV-POS-002"
      signal: "Effective mobile navigation patterns"
    - id: "NAV-POS-003"
      signal: "Strong location awareness support"

procedure:
  context:
    cognitive_mode: "evaluative"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Navigation Structure Mapping"
      description: |
        Document the complete navigation structure including all
        levels of hierarchy.
      duration_estimate: "45 min"
      commands:
        - purpose: "Find navigation components"
          command: "grep -ri 'nav\\|menu\\|sidebar' --include='*.tsx' --include='*.jsx' --include='*.vue' | head -40"
      expected_findings:
        - "Complete navigation structure map"
        - "Hierarchy depth assessment"

    - id: "2"
      name: "Consistency Assessment"
      description: |
        Evaluate navigation consistency across all sections
        of the application.
      duration_estimate: "30 min"
      questions:
        - "Is primary navigation consistent everywhere?"
        - "Are patterns consistent within sections?"
        - "Are labels used consistently?"
      expected_findings:
        - "Consistency score"
        - "Inconsistencies documented"

    - id: "3"
      name: "Label Clarity Review"
      description: |
        Assess the clarity and effectiveness of navigation
        labels and terminology.
      duration_estimate: "30 min"
      questions:
        - "Are labels clear and descriptive?"
        - "Do labels match user mental models?"
        - "Is terminology consistent?"
      expected_findings:
        - "Label quality assessment"
        - "Problematic labels identified"

    - id: "4"
      name: "Location Awareness Testing"
      description: |
        Evaluate how well users can determine their current
        location within the application.
      duration_estimate: "30 min"
      questions:
        - "Is current location clearly indicated?"
        - "Are breadcrumbs available and accurate?"
        - "Do page titles match navigation?"
      expected_findings:
        - "Location awareness score"
        - "Wayfinding gaps"

    - id: "5"
      name: "Mobile Navigation Evaluation"
      description: |
        Assess mobile navigation patterns and compare to
        desktop experience.
      duration_estimate: "30 min"
      questions:
        - "What mobile navigation patterns are used?"
        - "Is mobile navigation equally effective?"
        - "Are touch targets appropriate?"
      expected_findings:
        - "Mobile navigation assessment"
        - "Mobile-specific issues"

    - id: "6"
      name: "Accessibility Testing"
      description: |
        Verify navigation is accessible via keyboard and
        screen reader.
      duration_estimate: "30 min"
      questions:
        - "Can all navigation be accessed via keyboard?"
        - "Are ARIA attributes correct?"
        - "Is focus management appropriate?"
      expected_findings:
        - "Accessibility compliance"
        - "Keyboard issues"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Navigation Structure Map"
        - "Consistency Analysis"
        - "Accessibility Assessment"
        - "Recommendations"

  confidence_guidance:
    high: "Direct testing across platforms confirms finding"
    medium: "Heuristic evaluation identifies issue"
    low: "Potential issue based on structure analysis"

offline:
  capability: "partial"

  cache_manifest:
    knowledge:
      - source_id: "nngroup-navigation"
        priority: "required"

profiles:
  membership:
    quick:
      included: false
      reason: "Requires comprehensive navigation analysis"
    full:
      included: true
      priority: 1

closeout_checklist:
  - id: "nav-001"
    item: "Navigation structure completely mapped"
    level: "CRITICAL"
    verification: "manual"
    verification_notes: "All navigation elements documented"
    expected: "Confirmed by reviewer"

  - id: "nav-002"
    item: "Consistency verified across application"
    level: "CRITICAL"
    verification: "manual"
    verification_notes: "Primary navigation consistent everywhere"
    expected: "Confirmed by reviewer"

  - id: "nav-003"
    item: "Mobile navigation assessed"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Mobile patterns evaluated and documented"
    expected: "Confirmed by reviewer"

governance:
  applicable_to:
    archetypes: ["all"]

  compliance_frameworks:
    - framework: "WCAG"
      controls: ["2.4.1", "2.4.5", "3.2.3"]

relationships:
  commonly_combined:
    - "usability-interaction.navigation.menu-organization"
    - "usability-interaction.navigation.breadcrumb"
    - "usability-interaction.efficiency.click-tap-depth"
