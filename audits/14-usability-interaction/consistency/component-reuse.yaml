audit:
  id: usability-interaction.consistency.component-reuse
  name: Component Reuse Assessment
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: usability-interaction
  category_number: 14
  subcategory: consistency
  tier: phd
  estimated_duration: 3-4 hours  # median: 3h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: codebase
  default_profiles:
  - full
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates how effectively UI components are shared and
    reused across the application. It examines component library usage,
    identifies duplicate implementations of similar UI patterns, and
    assesses adherence to the design system's component hierarchy.
  why_it_matters: |
    Poor component reuse leads to visual and behavioral inconsistencies,
    increased maintenance burden, and larger bundle sizes. When developers
    create new implementations instead of reusing existing components,
    users experience inconsistent interfaces. Component reuse is also
    directly linked to development velocity and code quality.
  when_to_run:
  - During design system audits
  - When onboarding new developers
  - During technical debt assessments
  - When planning component library improvements
prerequisites:
  required_artifacts:
  - type: source_code
    description: Component source code
  - type: component_library
    description: Design system component library (if exists)
  access_requirements:
  - Access to component source files
  - Access to component library documentation
  - Understanding of component architecture
discovery:
  code_patterns:
  - pattern: import.*from.*components
    type: regex
    scope: source
    purpose: Find shared component imports
  - pattern: Button|Modal|Dialog|Card|Input|Select
    type: keyword
    scope: source
    purpose: Find common UI patterns
  - pattern: styled\.|css`|className=
    type: regex
    scope: source
    purpose: Find inline styling that might indicate custom components
  file_patterns:
  - glob: '**/components/**'
    purpose: Find shared component directory
  - glob: '**/ui/**'
    purpose: Find UI component directory
  - glob: '**/common/**'
    purpose: Find common component directory
knowledge_sources:
  guides:
  - id: atomic-design
    name: Atomic Design Methodology
    url: https://atomicdesign.bradfrost.com/
    offline_cache: true
  - id: storybook-component
    name: Storybook Component Driven Development
    url: https://storybook.js.org/docs/react/get-started/why-storybook
    offline_cache: true
  learning_resources:
  - id: design-systems-book
    title: Design Systems by Alla Kholmatova
    type: book
    reference: Smashing Media AG
tooling:
  static_analysis:
  - tool: madge
    purpose: Analyze component dependencies
    offline_capable: true
  - tool: webpack-bundle-analyzer
    purpose: Identify duplicate component code in bundles
    offline_capable: true
  scripts:
  - id: component-usage-analyzer
    language: bash
    purpose: Analyze component import patterns
    source: inline
    code: |
      #!/bin/bash
      echo "=== Shared Component Imports ==="
      grep -roh "import.*from.*['\"].*components['\"]" --include="*.jsx" --include="*.tsx" | \
        sort | uniq -c | sort -rn | head -20

      echo "=== Button Implementations ==="
      find . \( find . -name "*.jsx" -o -name "*.tsx" \) | xargs grep -l "Button" 2>/dev/null | wc -l

      echo "=== Modal/Dialog Implementations ==="
      find . \( find . -name "*.jsx" -o -name "*.tsx" \) | xargs grep -l "Modal\|Dialog" 2>/dev/null | wc -l

      echo "=== Potential Duplicate Components ==="
      find . -name "*Button*.jsx" -o -name "*Button*.tsx" 2>/dev/null
signals:
  critical:
  - id: REUSE-CRIT-001
    signal: No shared component library exists
    evidence_indicators:
    - No components/ or ui/ directory
    - UI elements implemented inline throughout codebase
    - No design system or component documentation
    explanation: |
      Without a shared component library, consistency is impossible
      to maintain and every new feature introduces divergence.
    remediation: Establish a shared component library with documented API
  high:
  - id: REUSE-HIGH-001
    signal: Multiple implementations of same component type
    evidence_pattern: Multiple Button, Modal, or Card implementations in different locations
    explanation: |
      Duplicate implementations lead to inconsistent behavior and
      appearance, confusing users who expect uniformity.
    remediation: Consolidate into single shared component with variants
  - id: REUSE-HIGH-002
    signal: Shared components bypassed with local implementations
    evidence_indicators:
    - Inline styles recreating component library patterns
    - Custom implementations instead of importing shared components
    - Copy-pasted component code
    explanation: |
      Bypassing shared components defeats their purpose and
      creates maintenance debt.
    remediation: Replace local implementations with shared component imports
  - id: REUSE-HIGH-003
    signal: Component library not used consistently
    evidence_pattern: Some areas use library, others don't
    explanation: |
      Partial adoption creates inconsistent user experience
      between different parts of the application.
    remediation: Enforce component library usage across entire application
  medium:
  - id: REUSE-MED-001
    signal: Component library lacks common patterns
    evidence_indicators:
    - Frequently needed components missing from library
    - Developers creating similar custom components
    remediation: Identify common patterns and add to component library
  - id: REUSE-MED-002
    signal: Component variants inconsistently implemented
    evidence_pattern: Same component styled differently in different contexts
    remediation: Define official variants within the component API
  - id: REUSE-MED-003
    signal: Component composition patterns unclear
    evidence_indicators:
    - Developers unsure how to combine components
    - No documented composition patterns
    remediation: Document and demonstrate component composition patterns
  low:
  - id: REUSE-LOW-001
    signal: Component library documentation incomplete
    remediation: Add documentation for all components including props and usage
  - id: REUSE-LOW-002
    signal: No Storybook or component playground
    remediation: Implement Storybook for component development and documentation
  positive:
  - id: REUSE-POS-001
    signal: Comprehensive shared component library
  - id: REUSE-POS-002
    signal: High component reuse rate across application
  - id: REUSE-POS-003
    signal: Component library well-documented with examples
  - id: REUSE-POS-004
    signal: Storybook or similar playground available
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Component Library
    description: |
      Identify and catalog the shared component library, its
      contents, and documentation.
    duration_estimate: 25 min
    commands:
    - purpose: Find component directories
      command: find src/ -type d \( -name 'components' -o -name 'ui' -o -name 'common' \) 2>/dev/null
    - purpose: Count shared components
      command: find src/components -name '*.jsx' -o -name '*.tsx' 2>/dev/null | wc -l
    expected_findings:
    - Component library location and structure
    - Number of shared components
  - id: '2'
    name: Analyze Component Usage
    description: |
      Track how shared components are imported and used across
      the application.
    duration_estimate: 35 min
    commands:
    - purpose: Find component imports
      command: grep -roh "import.*from.*components" --include='*.jsx' --include='*.tsx' src/ | sort |
        uniq -c | sort -rn | head -20
    expected_findings:
    - Most used shared components
    - Usage distribution
  - id: '3'
    name: Identify Duplicate Implementations
    description: |
      Search for duplicate or similar implementations of common
      UI patterns outside the shared library.
    duration_estimate: 40 min
    commands:
    - purpose: Find Button implementations
      command: find src/ -name '*Button*' 2>/dev/null | grep -v node_modules
    - purpose: Find Modal implementations
      command: find src/ -name '*Modal*' -o -name '*Dialog*' 2>/dev/null | grep -v node_modules
    expected_findings:
    - Duplicate component implementations
    - Locations of non-shared components
  - id: '4'
    name: Assess Library Coverage
    description: |
      Evaluate whether the component library covers commonly
      needed patterns or has gaps.
    duration_estimate: 30 min
    questions:
    - What UI patterns are used that aren't in the library?
    - Are there frequently needed components missing?
    - What components are developers creating custom?
    expected_findings:
    - Library coverage assessment
    - Missing components
  - id: '5'
    name: Review Documentation
    description: |
      Assess the quality of component documentation and
      discoverability.
    duration_estimate: 25 min
    questions:
    - Is there a Storybook or component playground?
    - Are component props documented?
    - Are usage examples provided?
    - Can developers easily find components?
    expected_findings:
    - Documentation quality
    - Discoverability assessment
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Component Library Inventory
    - Usage Analysis
    - Duplicate Implementations
    - Coverage Gaps
    - Documentation Assessment
    - Recommendations
  confidence_guidance:
    high: Issues verified through code analysis and developer interviews
    medium: Issues identified through code analysis only
    low: Potential issues requiring additional investigation
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: atomic-design
      priority: recommended
profiles:
  membership:
    quick:
      included: false
      reason: Requires comprehensive codebase analysis
    full:
      included: true
      priority: 3
closeout_checklist:
- id: reuse-001
  item: Component library inventoried
  level: BLOCKING
  verification: manual
  verification_notes: All shared components documented
  expected: Confirmed by reviewer
- id: reuse-002
  item: Duplicate implementations identified
  level: BLOCKING
  verification: manual
  verification_notes: Duplicate components listed with locations
  expected: Confirmed by reviewer
- id: reuse-003
  item: Coverage gaps documented
  level: WARNING
  verification: manual
  verification_notes: Missing commonly needed components identified
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - web-application
    - mobile-application
    - saas
relationships:
  commonly_combined:
  - usability-interaction.consistency.visual-consistency
  - usability-interaction.consistency.interaction-pattern-consistency
  - code-quality.technical-debt.code-debt-inventory
