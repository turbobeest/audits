audit:
  id: usability-interaction.error-prevention.destructive-action-safeguard
  name: Destructive Action Safeguard Assessment
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: usability-interaction
  category_number: 14
  subcategory: error-prevention
  tier: phd
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: critical
  scope: codebase
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates the safeguards in place to protect users from
    accidental destructive actions. It examines confirmation dialogs,
    undo functionality, soft delete implementations, and warning messages
    for actions that permanently remove or alter data.
  why_it_matters: |
    Destructive actions without proper safeguards lead to data loss,
    user frustration, and support burden. Nielsen's Error Prevention
    heuristic emphasizes designing to prevent errors rather than just
    providing recovery. Proper safeguards build user trust and reduce
    anxiety when performing sensitive operations.
  when_to_run:
  - When implementing delete or remove functionality
  - After data loss incidents or user complaints
  - During security and compliance audits
  - When reviewing user feedback about accidents
prerequisites:
  required_artifacts:
  - type: source_code
    description: Delete/destructive action implementations
  - type: running_application
    description: Access to test destructive actions
  access_requirements:
  - Access to component source files
  - Test account with data to delete
  - Understanding of data deletion policies
discovery:
  code_patterns:
  - pattern: delete|Delete|remove|Remove|destroy|Destroy
    type: keyword
    scope: source
    purpose: Find destructive action implementations
  - pattern: confirm|Confirm|warning|Warning
    type: keyword
    scope: source
    purpose: Find confirmation mechanisms
  - pattern: undo|Undo|restore|Restore|softDelete
    type: keyword
    scope: source
    purpose: Find recovery mechanisms
  file_patterns:
  - glob: '**/*delete*'
    purpose: Find delete-related files
  - glob: '**/*confirm*'
    purpose: Find confirmation dialog files
  - glob: '**/modal/**'
    purpose: Find modal components for confirmations
knowledge_sources:
  specifications:
  - id: nielsen-error-prevention
    name: Nielsen Norman Group - Error Prevention
    url: https://www.nngroup.com/articles/slips/
    offline_cache: true
    priority: required
  guides:
  - id: nngroup-confirmations
    name: Nielsen Norman Group - Confirmation Dialogs
    url: https://www.nngroup.com/articles/confirmation-dialog/
    offline_cache: true
  - id: material-dialogs
    name: Material Design - Confirmation Dialogs
    url: https://m3.material.io/components/dialogs
    offline_cache: true
tooling:
  scripts:
  - id: destructive-action-finder
    language: bash
    purpose: Find destructive action patterns
    source: inline
    code: |
      #!/bin/bash
      echo "=== Delete/Remove Actions ==="
      grep -rn "delete\|Delete\|remove\|Remove" --include="*.jsx" --include="*.tsx" | \
        grep -i "button\|click\|action\|handler" | head -20

      echo "=== Confirmation Dialogs ==="
      grep -rn "confirm\|Confirm" --include="*.jsx" --include="*.tsx" | \
        grep -i "dialog\|modal" | head -15

      echo "=== Undo/Restore Patterns ==="
      grep -rn "undo\|Undo\|restore\|Restore\|softDelete" --include="*.jsx" --include="*.tsx" | head -10
signals:
  critical:
  - id: DESTRUCT-CRIT-001
    signal: Destructive action with no confirmation
    evidence_pattern: Delete button directly triggers deletion without confirmation
    explanation: |
      Users can accidentally click delete with no opportunity to
      reconsider. This is the most common cause of accidental data loss.
    remediation: Add confirmation dialog for all destructive actions
  - id: DESTRUCT-CRIT-002
    signal: Bulk delete with single click
    evidence_pattern: Multi-item deletion without proportionate confirmation
    explanation: |
      Bulk operations amplify the impact of accidental clicks.
      Deleting many items should require proportionately stronger
      confirmation.
    remediation: Show count of items and require explicit confirmation for bulk delete
  - id: DESTRUCT-CRIT-003
    signal: No undo for easily recoverable destructive actions
    evidence_pattern: Hard delete for items that could use soft delete
    explanation: |
      Many destructive actions can be implemented as reversible
      with little additional complexity, providing a safety net.
    remediation: Implement soft delete with undo option where feasible
  high:
  - id: DESTRUCT-HIGH-001
    signal: Confirmation dialog easily dismissed accidentally
    evidence_indicators:
    - Single 'OK' button that's default focused
    - Enter key triggers deletion
    - Confirmation appears briefly then auto-proceeds
    explanation: |
      Confirmations that can be bypassed with habitual clicking
      provide false safety.
    remediation: Make safe action the default; require explicit action for destruction
  - id: DESTRUCT-HIGH-002
    signal: Destructive action button styled like primary action
    evidence_pattern: Delete button in primary/blue style rather than danger/red
    explanation: |
      Primary styling suggests the action is recommended, which
      is inappropriate for destructive actions.
    remediation: Use danger styling (red/warning colors) for destructive buttons
  - id: DESTRUCT-HIGH-003
    signal: No indication of what will be affected
    evidence_pattern: Confirmation says 'Delete?' without naming the item
    explanation: |
      Users need to verify they're deleting the right thing.
      Generic confirmations don't provide this safety check.
    remediation: Show the name/description of item(s) being deleted in confirmation
  medium:
  - id: DESTRUCT-MED-001
    signal: Delete button positioned where accidental clicks likely
    evidence_indicators:
    - Delete button next to frequently used actions
    - Delete button in position of common actions
    remediation: Position destructive actions away from frequently used actions
  - id: DESTRUCT-MED-002
    signal: Undo window too short
    evidence_pattern: Undo toast disappears in <5 seconds
    remediation: Extend undo window to at least 10-15 seconds or make it persistent
  - id: DESTRUCT-MED-003
    signal: No warning about downstream effects
    evidence_pattern: Deleting parent item without warning about child items
    remediation: Warn about cascading deletions and their scope
  low:
  - id: DESTRUCT-LOW-001
    signal: Inconsistent confirmation patterns across delete actions
    remediation: Standardize confirmation dialog format and behavior
  - id: DESTRUCT-LOW-002
    signal: No trash/recently deleted recovery option
    remediation: Consider implementing a trash folder for deleted items
  positive:
  - id: DESTRUCT-POS-001
    signal: All destructive actions require confirmation
  - id: DESTRUCT-POS-002
    signal: Undo available for destructive actions
  - id: DESTRUCT-POS-003
    signal: Confirmation shows what will be affected
  - id: DESTRUCT-POS-004
    signal: Destructive buttons use danger styling
procedure:
  context:
    cognitive_mode: critical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Destructive Actions
    description: |
      Identify all destructive actions in the application including
      delete, remove, clear, reset, and overwrite operations.
    duration_estimate: 25 min
    commands:
    - purpose: Find delete/remove patterns
      command: grep -rn 'delete\|Delete\|remove\|Remove' --include='*.jsx' --include='*.tsx' src/ | grep
        -i 'button\|click\|handler' | head -30
    expected_findings:
    - List of all destructive actions
    - Implementation locations
  - id: '2'
    name: Evaluate Confirmation Mechanisms
    description: |
      Review how each destructive action is confirmed (or not)
      before execution.
    duration_estimate: 30 min
    commands:
    - purpose: Find confirmation patterns
      command: grep -rn 'confirm\|Confirm' --include='*.jsx' --include='*.tsx' src/ | head -20
    questions:
    - Does every destructive action have confirmation?
    - Does the confirmation clearly state what will happen?
    - Is the safe action the default?
    expected_findings:
    - Confirmation coverage
    - Confirmation quality
  - id: '3'
    name: Test Undo Capabilities
    description: |
      Test whether destructive actions can be undone and for
      how long.
    duration_estimate: 25 min
    questions:
    - Which destructive actions support undo?
    - How long is the undo window?
    - Is undo clearly communicated?
    - Can items be recovered from trash?
    expected_findings:
    - Undo capability matrix
    - Recovery options
  - id: '4'
    name: Assess Button Styling and Positioning
    description: |
      Review how destructive action buttons are styled and
      positioned relative to other actions.
    duration_estimate: 20 min
    questions:
    - Are destructive buttons styled as danger/warning?
    - Are they positioned away from common actions?
    - Is there visual distinction from safe actions?
    expected_findings:
    - Styling assessment
    - Positioning risks
  - id: '5'
    name: Test Bulk Operations
    description: |
      Evaluate safeguards for bulk destructive operations
      affecting multiple items.
    duration_estimate: 20 min
    questions:
    - How are bulk deletes confirmed?
    - Is the count of affected items shown?
    - Is there additional friction for large batches?
    expected_findings:
    - Bulk operation safeguards
    - Risk assessment
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Destructive Action Inventory
    - Confirmation Assessment
    - Undo Capabilities
    - Risk Assessment
    - Recommendations
  confidence_guidance:
    high: Issues verified through code review and functional testing
    medium: Issues identified through code review or testing alone
    low: Potential issues requiring additional verification
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: nielsen-error-prevention
      priority: required
profiles:
  membership:
    quick:
      included: true
      priority: 1
    full:
      included: true
      priority: 1
closeout_checklist:
- id: destruct-001
  item: All destructive actions have confirmation
  level: CRITICAL
  verification: manual
  verification_notes: Every delete/remove action tested for confirmation
  expected: Confirmed by reviewer
- id: destruct-002
  item: Confirmations show what will be affected
  level: BLOCKING
  verification: manual
  verification_notes: Confirmation dialogs name the item(s) being deleted
  expected: Confirmed by reviewer
- id: destruct-003
  item: Destructive buttons use warning styling
  level: WARNING
  verification: manual
  verification_notes: Delete buttons styled as danger/red
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - web-application
    - mobile-application
    - saas
  compliance_frameworks:
  - framework: GDPR
    controls:
    - Right to Erasure
relationships:
  commonly_combined:
  - usability-interaction.error-prevention.recovery-path
  - usability-interaction.error-prevention.data-loss-prevention
  - usability-interaction.consistency.interaction-pattern-consistency
