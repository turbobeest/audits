audit:
  id: usability-interaction.error-prevention.error-message-clarity
  name: Error Message Clarity Assessment
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: usability-interaction
  category_number: 14
  subcategory: error-prevention
  tier: phd
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: codebase
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates the clarity and helpfulness of error messages
    throughout the application. It examines system errors, validation
    errors, permission errors, and operational failures to ensure messages
    explain what went wrong and guide users toward resolution.
  why_it_matters: |
    Clear error messages reduce user frustration, decrease support burden,
    and improve task completion. Generic messages like "Error occurred"
    leave users stranded. Effective error messages explain the problem,
    its cause, and how to fix it in language users understand.
  when_to_run:
  - During error handling review
  - When support tickets mention confusing errors
  - During accessibility audits
  - When localizing the application
prerequisites:
  required_artifacts:
  - type: source_code
    description: Error message definitions and handling
  - type: running_application
    description: Ability to trigger various error states
  access_requirements:
  - Access to error message source files
  - Ability to trigger errors for testing
  - Access to i18n/localization files
discovery:
  code_patterns:
  - pattern: error|Error|fail|Fail
    type: keyword
    scope: source
    purpose: Find error handling code
  - pattern: catch\s*\(|\.catch\(
    type: regex
    scope: source
    purpose: Find error catch blocks
  - pattern: toast|Toast|alert|Alert|notification
    type: keyword
    scope: source
    purpose: Find error display mechanisms
  file_patterns:
  - glob: '**/errors/**'
    purpose: Find error definition files
  - glob: '**/messages/**'
    purpose: Find message files
  - glob: '**/i18n/**/*error*'
    purpose: Find localized error messages
knowledge_sources:
  specifications:
  - id: wcag-error-identification
    name: WCAG 2.2 - Error Identification (3.3.1)
    url: https://www.w3.org/WAI/WCAG22/Understanding/error-identification
    offline_cache: true
    priority: required
  - id: wcag-error-suggestion
    name: WCAG 2.2 - Error Suggestion (3.3.3)
    url: https://www.w3.org/WAI/WCAG22/Understanding/error-suggestion
    offline_cache: true
    priority: required
  guides:
  - id: nngroup-errors
    name: Nielsen Norman Group - Error Message Guidelines
    url: https://www.nngroup.com/articles/error-message-guidelines/
    offline_cache: true
  - id: ms-error-messages
    name: Microsoft - Error Message Guidelines
    url: https://docs.microsoft.com/en-us/windows/win32/uxguide/mess-error
    offline_cache: true
tooling:
  scripts:
  - id: error-message-finder
    language: bash
    purpose: Find error message patterns
    source: inline
    code: |
      #!/bin/bash
      echo "=== Error Message Strings ==="
      grep -rn "error.*:\|Error.*:" --include="*.json" --include="*.ts" | head -20

      echo "=== Generic Error Patterns ==="
      grep -rni "something went wrong\|error occurred\|try again" \
        --include="*.jsx" --include="*.tsx" --include="*.json" | head -15

      echo "=== Error Catch Blocks ==="
      grep -rn "catch\s*(" --include="*.js" --include="*.ts" --include="*.jsx" --include="*.tsx" | head -15
signals:
  critical:
  - id: ERRMSG-CRIT-001
    signal: Technical error details exposed to users
    evidence_indicators:
    - Stack traces shown in UI
    - Database error messages displayed
    - Internal error codes without explanation
    explanation: |
      Technical messages confuse users and may expose security-sensitive
      information about the system.
    remediation: Translate technical errors to user-friendly messages; log details server-side
  - id: ERRMSG-CRIT-002
    signal: Error provides no guidance on resolution
    evidence_pattern: Error messages like 'Error' or 'Failed' with no context
    explanation: |
      Users need to understand what to do next. Messages without
      guidance strand users.
    remediation: Include actionable next steps in all error messages
  high:
  - id: ERRMSG-HIGH-001
    signal: Generic error messages used throughout
    evidence_pattern: '''Something went wrong'', ''An error occurred'', ''Try again later'''
    explanation: |
      Generic messages apply to too many situations and don't
      help users understand or fix the specific problem.
    remediation: Create specific error messages for each error condition
  - id: ERRMSG-HIGH-002
    signal: Error message blames the user
    evidence_indicators:
    - Messages saying 'You failed to...'
    - Accusatory language
    - Negative or harsh tone
    explanation: |
      Blaming users creates negative emotions and damages the
      relationship with the product.
    remediation: Use neutral, helpful language focused on resolution
  - id: ERRMSG-HIGH-003
    signal: Error message uses jargon or technical terms
    evidence_indicators:
    - HTTP status codes in user messages
    - Field names from code/database
    - Technical terms without explanation
    explanation: |
      Technical jargon is meaningless to most users and adds
      confusion to an already frustrating situation.
    remediation: Use plain language; explain technical concepts if unavoidable
  medium:
  - id: ERRMSG-MED-001
    signal: Error message tone is inconsistent
    evidence_indicators:
    - Some errors formal, others casual
    - Inconsistent punctuation or capitalization
    remediation: Establish and follow error message tone guidelines
  - id: ERRMSG-MED-002
    signal: No contact option for unresolvable errors
    evidence_pattern: Dead-end errors without support contact
    remediation: Provide support contact for errors users cannot resolve
  - id: ERRMSG-MED-003
    signal: Error IDs not provided for support
    evidence_pattern: No error reference number for support tickets
    remediation: Include error reference ID for support correlation
  low:
  - id: ERRMSG-LOW-001
    signal: Error messages could be more concise
    remediation: Edit messages for brevity while maintaining clarity
  - id: ERRMSG-LOW-002
    signal: Error message grammar or spelling issues
    remediation: Proofread all error messages
  positive:
  - id: ERRMSG-POS-001
    signal: Error messages explain what went wrong
  - id: ERRMSG-POS-002
    signal: Error messages include resolution steps
  - id: ERRMSG-POS-003
    signal: Plain language used throughout
  - id: ERRMSG-POS-004
    signal: Consistent tone across all errors
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Error Messages
    description: |
      Search the codebase for error message definitions and
      display patterns.
    duration_estimate: 25 min
    commands:
    - purpose: Find error message strings
      command: grep -rn 'error\|Error' --include='*.json' --include='*.ts' src/ | grep -i 'message\|text\|:'
        | head -30
    - purpose: Find generic errors
      command: grep -rni 'something went wrong\|error occurred\|try again' --include='*.jsx' --include='*.tsx'
        --include='*.json' src/
    expected_findings:
    - Error message inventory
    - Generic message instances
  - id: '2'
    name: Evaluate Message Content
    description: |
      Review error message content for clarity, actionability,
      and user-friendliness.
    duration_estimate: 35 min
    questions:
    - Does each message explain what happened?
    - Does each message suggest how to fix it?
    - Is language appropriate for the audience?
    - Are messages free of technical jargon?
    expected_findings:
    - Content quality assessment
    - Improvement opportunities
  - id: '3'
    name: Test Error Scenarios
    description: |
      Trigger various error conditions to see how messages
      appear to users in context.
    duration_estimate: 30 min
    questions:
    - What do network errors look like?
    - What do permission errors look like?
    - What do validation errors look like?
    - What do server errors look like?
    expected_findings:
    - Error presentation quality
    - Context-specific issues
  - id: '4'
    name: Check Accessibility
    description: |
      Verify error messages are accessible to screen reader
      users and meet WCAG requirements.
    duration_estimate: 20 min
    questions:
    - Are errors announced by screen readers?
    - Do errors have appropriate ARIA attributes?
    - Are error colors accompanied by other indicators?
    expected_findings:
    - Accessibility compliance
    - Screen reader experience
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Error Message Inventory
    - Content Quality Assessment
    - Accessibility Review
    - Recommendations
    - Proposed Rewrites
  confidence_guidance:
    high: Issues verified through code review and user testing
    medium: Issues identified through code review only
    low: Potential issues requiring additional context
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: wcag-error-identification
      priority: required
    - source_id: nngroup-errors
      priority: recommended
profiles:
  membership:
    quick:
      included: true
      priority: 2
    full:
      included: true
      priority: 1
closeout_checklist:
- id: errmsg-001
  item: No technical details exposed to users
  level: CRITICAL
  verification: manual
  verification_notes: No stack traces, codes, or internal details in UI
  expected: Confirmed by reviewer
- id: errmsg-002
  item: Error messages provide resolution guidance
  level: BLOCKING
  verification: manual
  verification_notes: Each error includes actionable next steps
  expected: Confirmed by reviewer
- id: errmsg-003
  item: Plain language used throughout
  level: BLOCKING
  verification: manual
  verification_notes: No jargon or technical terms in user-facing errors
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - web-application
    - mobile-application
    - saas
  compliance_frameworks:
  - framework: WCAG
    controls:
    - 3.3.1
    - 3.3.3
relationships:
  commonly_combined:
  - usability-interaction.forms-input.validation-message
  - usability-interaction.error-prevention.recovery-path
  - usability-interaction.consistency.terminology-consistency
