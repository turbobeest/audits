audit:
  id: human-organizational.documentation.api-documentation
  name: API Documentation Assessment
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: human-organizational
  category_number: 17
  subcategory: documentation
  tier: phd
  estimated_duration: 3 hours
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates API documentation across dimensions:
    - Completeness (all endpoints/operations documented)
    - Accuracy (documentation matches implementation)
    - Usability (examples, error codes, tutorials)
    - Accessibility (findable, navigable)
    - Currency (kept up to date)

    It covers REST APIs, GraphQL schemas, gRPC services, event schemas,
    and other programmatic interfaces.
  why_it_matters: |
    Poor API documentation causes:
    - Integration delays and failures
    - Support burden from consumer questions
    - Misuse leading to outages
    - Inability to adopt APIs
    - Shadow APIs when developers build alternatives

    Good API documentation enables self-service integration, reduces
    support burden, and promotes API adoption.
  when_to_run:
  - Before API releases or major changes
  - As part of API lifecycle management
  - When integration complaints increase
  - Quarterly documentation review
prerequisites:
  required_artifacts:
  - type: documentation
    description: Existing API documentation
  - type: codebase
    description: API implementation for validation
  access_requirements:
  - Access to API documentation systems (portal, wiki)
  - Access to OpenAPI/Swagger specs if they exist
  - Access to API source code
  - Interviews with API consumers
discovery:
  file_patterns:
  - glob: '**/openapi.yaml'
    purpose: Find OpenAPI specifications
  - glob: '**/swagger.json'
    purpose: Find Swagger specifications
  - glob: '**/*.proto'
    purpose: Find protobuf definitions
  - glob: '**/schema.graphql'
    purpose: Find GraphQL schemas
  - glob: '**/api/**/*.md'
    purpose: Find API markdown documentation
  code_patterns:
  - pattern: '@api|@swagger|@OpenApi'
    type: keyword
    scope: source
    purpose: Find API documentation annotations
  interviews:
  - role: API Consumers
    questions:
    - Can you find documentation for APIs you use?
    - Is the documentation accurate and helpful?
    - What's missing that you need?
    - How do you learn about API changes?
    purpose: Consumer perspective on documentation quality
  - role: API Developers
    questions:
    - How do you document your APIs?
    - How do you keep documentation current?
    - What tooling do you use?
    purpose: Understand documentation creation process
  documents_to_review:
  - type: OpenAPI/Swagger specs
    purpose: Assess machine-readable documentation
  - type: API guides
    purpose: Review human-readable documentation
  - type: Example code
    purpose: Check for runnable examples
knowledge_sources:
  specifications:
  - id: openapi-spec
    name: OpenAPI Specification
    url: https://spec.openapis.org/oas/latest.html
    offline_cache: true
    priority: required
  guides:
  - id: api-design-guide
    name: Google API Design Guide
    url: https://cloud.google.com/apis/design
    offline_cache: true
  - id: stripe-api-reference
    name: Stripe API Reference (example of excellent docs)
    url: https://stripe.com/docs/api
    offline_cache: true
  learning_resources:
  - id: api-design-patterns
    title: API Design Patterns
    type: book
    reference: ISBN 978-1617295850
tooling:
  static_analysis:
  - tool: Spectral
    purpose: Lint OpenAPI specifications
    offline_capable: true
  - tool: openapi-diff
    purpose: Compare spec to implementation
    offline_capable: true
  - tool: swagger-cli
    purpose: Validate OpenAPI/Swagger specs
    offline_capable: true
  scripts:
  - id: api-doc-check
    language: bash
    purpose: Find undocumented endpoints
    source: inline
    code: |
      #!/bin/bash
      # Find API routes in code
      grep -r "@Get\|@Post\|@Put\|@Delete\|app.get\|app.post" --include="*.ts" --include="*.js" --include="*.py" .
signals:
  critical:
  - id: API-CRIT-001
    signal: Public API has no documentation
    evidence_indicators:
    - No OpenAPI spec or equivalent
    - No documentation portal or wiki pages
    - Consumers unable to self-serve
    explanation: |
      Undocumented public APIs cannot be used effectively by external
      consumers, requiring extensive support and limiting adoption.
    remediation: Create comprehensive API documentation immediately
  - id: API-CRIT-002
    signal: API documentation severely outdated
    evidence_indicators:
    - Documentation describes removed endpoints
    - Request/response formats don't match reality
    - Authentication methods changed
    explanation: |
      Severely outdated documentation actively harms consumers who
      will build against incorrect specifications.
    remediation: Update documentation to current implementation
  high:
  - id: API-HIGH-001
    signal: Missing error documentation
    evidence_indicators:
    - Error codes not documented
    - Error response formats undefined
    - Recovery/retry guidance missing
    explanation: |
      Without error documentation, consumers cannot handle failures
      gracefully, leading to poor user experience.
    remediation: Document all error codes with meanings and recovery guidance
  - id: API-HIGH-002
    signal: No runnable examples
    evidence_indicators:
    - Documentation lacks code examples
    - Examples not tested or working
    - No SDKs or client libraries
    explanation: |
      Without examples, consumers struggle to understand correct
      API usage patterns and common integrations.
    remediation: Add tested code examples in common languages
  medium:
  - id: API-MED-001
    signal: Incomplete OpenAPI specification
    evidence_indicators:
    - Some endpoints missing from spec
    - Request bodies undefined
    - Response schemas missing
    remediation: Complete OpenAPI spec coverage
  - id: API-MED-002
    signal: Documentation not discoverable
    evidence_indicators:
    - No API portal or central location
    - Documentation scattered across systems
    - Consumers don't know where to look
    remediation: Establish central API documentation location
  low:
  - id: API-LOW-001
    signal: Documentation style inconsistent
    evidence_indicators:
    - Different formats across APIs
    - Varying levels of detail
    - No documentation standards
    remediation: Establish and apply documentation standards
  positive:
  - id: API-POS-001
    signal: Excellent API documentation
    evidence_indicators:
    - Complete OpenAPI specification
    - Interactive documentation portal
    - Comprehensive examples and tutorials
    - Changelog and versioning clear
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: documentation_auditor
  steps:
  - id: '1'
    name: Inventory APIs and Documentation
    description: |
      Identify all APIs requiring documentation:
      - Public APIs
      - Internal service APIs
      - Event schemas
      - Find existing documentation for each
    duration_estimate: 45 min
    commands:
    - purpose: Find OpenAPI/Swagger files
      command: find . -name 'openapi*.yaml' -o -name 'swagger*.json'
    - purpose: Find API route definitions
      command: grep -r 'router\|@Controller\|@RestController' --include='*.ts' --include='*.java'
    expected_findings:
    - API inventory with documentation status
  - id: '2'
    name: Assess Documentation Completeness
    description: |
      For each API, evaluate documentation completeness:
      - All endpoints documented
      - Request/response schemas defined
      - Authentication documented
      - Error codes documented
    duration_estimate: 1 hour
    questions:
    - What percentage of endpoints are documented?
    - Are schemas complete with descriptions?
    - Is authentication flow clear?
    - Are errors comprehensively documented?
    expected_findings:
    - Completeness assessment per API
  - id: '3'
    name: Verify Documentation Accuracy
    description: |
      Spot-check documentation against implementation:
      - Test documented endpoints
      - Verify request/response formats
      - Check authentication works as described
    duration_estimate: 45 min
    questions:
    - Does documentation match implementation?
    - Are there undocumented endpoints?
    - Are there documented but removed endpoints?
    expected_findings:
    - Accuracy assessment with discrepancies
  - id: '4'
    name: Evaluate Usability
    description: |
      Assess documentation from consumer perspective:
      - Is it findable?
      - Are examples helpful?
      - Can a new user get started?
    duration_estimate: 30 min
    questions:
    - Can a new consumer self-serve?
    - Are examples runnable and helpful?
    - Is the getting started path clear?
    expected_findings:
    - Usability assessment from consumer view
  - id: '5'
    name: Develop Recommendations
    description: |
      Prioritize documentation improvements:
      - Critical gaps to fill
      - Accuracy issues to fix
      - Usability improvements
    duration_estimate: 30 min
    expected_findings:
    - Prioritized improvement plan
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: api_doc_assessment
    format: tabular
    sections:
    - API Inventory
    - Completeness Scores
    - Accuracy Issues
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Documentation State
    - Key Gaps
    - Recommendations
  confidence_guidance:
    high: Documentation tested against implementation
    medium: Documentation reviewed but limited testing
    low: Quick review without validation
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: openapi-spec
      priority: required
    - source_id: api-design-guide
      priority: recommended
profiles:
  membership:
    quick:
      included: false
      reason: Requires thorough review and validation
    full:
      included: true
      priority: 2
closeout_checklist:
- id: api-001
  item: API inventory completed
  level: CRITICAL
  verification: manual
  verification_notes: All APIs identified with doc status
  expected: Confirmed by reviewer
- id: api-002
  item: Completeness assessed
  level: BLOCKING
  verification: manual
  verification_notes: Coverage evaluated for each API
  expected: Confirmed by reviewer
- id: api-003
  item: Accuracy spot-checked
  level: BLOCKING
  verification: manual
  verification_notes: Sample endpoints validated
  expected: Confirmed by reviewer
- id: api-004
  item: Consumer perspective gathered
  level: WARNING
  verification: manual
  verification_notes: Consumer feedback collected
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: SOC 2
    controls:
    - CC2.1
relationships:
  commonly_combined:
  - human-organizational.documentation.documentation-freshness
  - human-organizational.documentation.architecture-documentation
