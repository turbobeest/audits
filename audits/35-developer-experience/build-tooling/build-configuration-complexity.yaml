audit:
  id: developer-experience.build-tooling.build-configuration-complexity
  name: Build Configuration Complexity Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: developer-experience
  category_number: 35
  subcategory: build-tooling
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: development
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates the complexity and maintainability of build configurations
    including webpack, TypeScript, Babel, and other build tool configs.
    Assesses whether configurations are understandable, documented, and
    follow best practices. Identifies unnecessary complexity and
    maintenance burden.
  why_it_matters: |
    Complex build configurations become maintenance nightmares that
    few developers understand or dare to modify. This creates bottlenecks,
    prevents upgrades, and slows feature development. Simpler configurations
    are easier to debug, modify, and keep up to date.
  when_to_run:
  - Before major build tool upgrades
  - When build issues are hard to debug
  - When developers avoid config changes
  - Annually for maintenance assessment
prerequisites:
  required_artifacts:
  - type: build_configuration
    description: All build tool configurations
  - type: documentation
    description: Build configuration documentation
  access_requirements:
  - Build configuration files
  - Build tool documentation
  - Developer interviews
discovery:
  file_patterns:
  - glob: '**/webpack.config.{js,ts}'
    purpose: Find webpack configurations
  - glob: '**/vite.config.{js,ts}'
    purpose: Find Vite configurations
  - glob: '**/rollup.config.{js,ts}'
    purpose: Find Rollup configurations
  - glob: '**/tsconfig*.json'
    purpose: Find TypeScript configurations
  - glob: '**/babel.config.{js,json}'
    purpose: Find Babel configurations
  - glob: '**/.babelrc*'
    purpose: Find Babel RC files
  - glob: '**/postcss.config.js'
    purpose: Find PostCSS configurations
  interview_questions:
  - role: Developer
    questions:
    - Do you understand the build configuration?
    - Have you had to modify build configs?
    - What's the most confusing part of the build?
    - Who do you ask about build configuration?
knowledge_sources:
  guides:
  - id: webpack-concepts
    name: Webpack Core Concepts
    url: https://webpack.js.org/concepts/
  - id: vite-config
    name: Vite Configuration Reference
    url: https://vite.dev/config/
  standards:
  - id: config-conventions
    name: Configuration Conventions
    relevance: Standardized configuration patterns
tooling:
  analysis_tools:
  - tool: cloc
    purpose: Count lines in config files
    command: cloc webpack.config.js
  - tool: eslint
    purpose: Lint configuration files
    command: eslint --ext .js webpack.config.js
signals:
  critical:
  - id: CONFIG-CRIT-001
    signal: Build configuration over 500 lines
    evidence_indicators:
    - Massive webpack config
    - Complex conditional logic
    - Many custom plugins
    explanation: |
      Very large configurations are difficult to understand,
      modify, and maintain. They often indicate accumulated
      technical debt.
    remediation: |
      Split configuration into smaller, focused files.
      Consider migrating to simpler tools like Vite.
  - id: CONFIG-CRIT-002
    signal: Configuration includes undocumented hacks
    evidence_indicators:
    - Comments like 'don't touch this'
    - Unexplained workarounds
    - Copied code without understanding
    explanation: |
      Undocumented hacks create fear of modification and
      block necessary updates.
    remediation: |
      Document all non-obvious configuration choices.
      Evaluate if workarounds are still necessary.
  high:
  - id: CONFIG-HIGH-001
    signal: Multiple redundant configurations
    remediation: |
      Consolidate configurations using shared bases
      and environment-specific overrides.
  - id: CONFIG-HIGH-002
    signal: Build configuration not type-checked
    remediation: |
      Use TypeScript for configuration files where
      supported for better maintainability.
  - id: CONFIG-HIGH-003
    signal: No comments explaining non-obvious choices
    remediation: |
      Add comments explaining why configurations
      are set a certain way.
  medium:
  - id: CONFIG-MED-001
    signal: Configuration uses deprecated options
    remediation: |
      Update configuration to use current options
      and patterns.
  - id: CONFIG-MED-002
    signal: Excessive custom plugins or loaders
    remediation: |
      Evaluate if custom tooling is necessary or
      if standard solutions exist.
  - id: CONFIG-MED-003
    signal: Configuration difficult to test
    remediation: |
      Structure configuration for testability or
      add validation scripts.
  low:
  - id: CONFIG-LOW-001
    signal: No configuration documentation
    remediation: |
      Document build configuration purpose and
      modification guidance.
  - id: CONFIG-LOW-002
    signal: Inconsistent configuration patterns
    remediation: |
      Standardize configuration patterns across
      similar projects.
  positive:
  - id: CONFIG-POS-001
    signal: Simple, well-documented configuration
  - id: CONFIG-POS-002
    signal: Using modern tools with sensible defaults
  - id: CONFIG-POS-003
    signal: Configuration split into manageable files
  - id: CONFIG-POS-004
    signal: All configuration choices documented
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Configuration Files
    description: Locate all build configuration
    duration_estimate: 30 min
  - id: '2'
    name: Measure Complexity
    description: Assess size and complexity of configs
    duration_estimate: 30 min
  - id: '3'
    name: Review Documentation
    description: Check for configuration documentation
    duration_estimate: 30 min
  - id: '4'
    name: Interview Developers
    description: Assess developer understanding
    duration_estimate: 30 min
  - id: '5'
    name: Identify Simplification Opportunities
    description: Find ways to reduce complexity
    duration_estimate: 30 min
output:
  deliverables:
  - type: complexity_assessment
    format: structured
    sections:
    - Configuration inventory
    - Complexity metrics
    - Documentation review
    - Developer feedback
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Complexity Analysis
    - Simplification Opportunities
    - Recommendations
closeout_checklist:
- id: config-001
  item: Configuration files inventoried
  level: ERROR
  verification: manual
- id: config-002
  item: Complexity assessed
  level: WARNING
  verification: manual
- id: config-003
  item: Developer understanding evaluated
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - all-software-projects
  compliance_mappings:
  - framework: ISO 27001
    control: A.12.1.1
    description: Documented operating procedures
relationships:
  commonly_combined:
  - developer-experience.documentation-quality.code-comments
  - code-quality.maintainability
  depends_on:
  - devops-ci-cd.build-configuration
  feeds_into:
  - developer-experience.onboarding.codebase-orientation
