audit:
  id: developer-experience.build-tooling.build-time-analysis
  name: Build Time Analysis Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: developer-experience
  category_number: 35
  subcategory: build-tooling
  tier: expert
  estimated_duration: 3-4 hours  # median: 3h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: development
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Measures and analyzes build times across different build scenarios
    including full builds, incremental builds, and CI builds. Identifies
    slow build phases, inefficient configurations, and optimization
    opportunities to reduce developer wait time.
  why_it_matters: |
    Build time directly impacts developer productivity and iteration speed.
    DORA research shows that build time is a key factor in lead time for
    changes. Slow builds cause context switching, reduce experimentation,
    and can bottleneck CI pipelines. Every minute saved on builds multiplies
    across all developers and builds.
  when_to_run:
  - When developers report slow builds
  - Before major tooling changes
  - Quarterly performance baseline
  - When CI queues grow
prerequisites:
  required_artifacts:
  - type: build_configuration
    description: Build tool configuration files
  - type: ci_configuration
    description: CI pipeline configuration
  - type: build_logs
    description: Historical build logs
  access_requirements:
  - Build system access
  - CI platform access
  - Build cache configuration
discovery:
  file_patterns:
  - glob: '**/package.json'
    purpose: Find npm/yarn build scripts
  - glob: '**/webpack.config.js'
    purpose: Find webpack configuration
  - glob: '**/vite.config.{js,ts}'
    purpose: Find Vite configuration
  - glob: '**/tsconfig.json'
    purpose: Find TypeScript configuration
  - glob: '**/babel.config.{js,json}'
    purpose: Find Babel configuration
  - glob: '**/*.gradle'
    purpose: Find Gradle builds
  - glob: '**/pom.xml'
    purpose: Find Maven builds
  - glob: '**/Cargo.toml'
    purpose: Find Rust builds
  interview_questions:
  - role: Developer
    questions:
    - How long do your builds typically take?
    - Do you wait for builds or context switch?
    - Which part of the build is slowest?
    - Have build times gotten worse over time?
knowledge_sources:
  guides:
  - id: webpack-performance
    name: Webpack Build Performance
    url: https://webpack.js.org/guides/build-performance/
  - id: turbo-cache
    name: Turborepo Caching
    url: https://turbo.build/repo/docs/core-concepts/caching
  standards:
  - id: dora-metrics
    name: DORA Metrics
    relevance: Lead time measurement
tooling:
  analysis_tools:
  - tool: speed-measure-plugin
    purpose: Measure webpack build phases
    command: npm install speed-measure-webpack-plugin
  - tool: webpack-bundle-analyzer
    purpose: Analyze bundle composition
    command: npx webpack-bundle-analyzer stats.json
  - tool: time
    purpose: Measure total build time
    command: time npm run build
  - tool: tsc
    purpose: TypeScript compilation timing
    command: tsc --extendedDiagnostics
  - tool: gradle
    purpose: Gradle build scan
    command: ./gradlew build --scan
signals:
  critical:
  - id: BUILD-CRIT-001
    signal: Full build takes more than 10 minutes
    evidence_indicators:
    - Large bundle sizes
    - No parallelization
    - Missing build caching
    explanation: |
      10+ minute builds severely impact productivity and cause
      developers to avoid running builds frequently.
    remediation: |
      Profile build to identify bottlenecks. Implement caching,
      parallelization, and consider faster build tools.
  - id: BUILD-CRIT-002
    signal: Incremental builds as slow as full builds
    evidence_indicators:
    - No incremental compilation
    - Full rebuilds on minor changes
    - Missing file watching optimization
    explanation: |
      Without incremental builds, every change incurs full build
      cost, dramatically slowing iteration.
    remediation: |
      Configure incremental compilation and ensure build tool
      tracks dependencies correctly.
  high:
  - id: BUILD-HIGH-001
    signal: Full build takes 5-10 minutes
    remediation: |
      Analyze and optimize the slowest build phases.
      Consider code splitting and lazy loading.
  - id: BUILD-HIGH-002
    signal: Build cache hit rate below 50%
    remediation: |
      Review cache configuration and invalidation rules.
      Ensure deterministic builds for better caching.
  - id: BUILD-HIGH-003
    signal: CI build significantly slower than local
    remediation: |
      Optimize CI caching and consider using more powerful
      CI runners or distributed builds.
  medium:
  - id: BUILD-MED-001
    signal: Build times increasing over time
    remediation: |
      Implement build time tracking and set performance budgets.
      Review new dependencies for build impact.
  - id: BUILD-MED-002
    signal: TypeScript compilation slow
    remediation: |
      Review tsconfig for optimization opportunities.
      Consider project references for large codebases.
  - id: BUILD-MED-003
    signal: Build tool outdated
    remediation: |
      Evaluate modern alternatives like Vite, esbuild,
      Turbopack, or swc for potential speedups.
  low:
  - id: BUILD-LOW-001
    signal: Build times not tracked
    remediation: |
      Implement build time metrics collection for
      continuous improvement.
  - id: BUILD-LOW-002
    signal: No build performance documentation
    remediation: |
      Document expected build times and optimization guidance.
  positive:
  - id: BUILD-POS-001
    signal: Full build completes in under 2 minutes
  - id: BUILD-POS-002
    signal: Incremental builds under 10 seconds
  - id: BUILD-POS-003
    signal: Build cache hit rate above 80%
  - id: BUILD-POS-004
    signal: Build performance tracked and maintained
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Measure Full Build Time
    description: Time clean build from scratch
    duration_estimate: 30 min
  - id: '2'
    name: Measure Incremental Build Time
    description: Time rebuild after small changes
    duration_estimate: 30 min
  - id: '3'
    name: Profile Build Phases
    description: Identify slowest build steps
    duration_estimate: 45 min
  - id: '4'
    name: Analyze CI Build Performance
    description: Review CI build times and caching
    duration_estimate: 30 min
  - id: '5'
    name: Compare to Benchmarks
    description: Assess build times against industry norms
    duration_estimate: 30 min
output:
  deliverables:
  - type: performance_report
    format: structured
    sections:
    - Build time measurements
    - Phase breakdown
    - Cache effectiveness
    - CI analysis
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Performance Analysis
    - Bottleneck Identification
    - Recommendations
closeout_checklist:
- id: build-001
  item: Build times measured across scenarios
  level: ERROR
  verification: manual
- id: build-002
  item: Build phases profiled
  level: WARNING
  verification: manual
- id: build-003
  item: Optimization opportunities identified
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - all-software-projects
  compliance_mappings:
  - framework: ISO 27001
    control: A.12.1
    description: Operational procedures
relationships:
  commonly_combined:
  - developer-experience.build-tooling.cache-effectiveness
  - devops-ci-cd.build-pipeline
  depends_on:
  - devops-ci-cd.build-configuration
  feeds_into:
  - developer-experience.productivity-metrics.developer-velocity
