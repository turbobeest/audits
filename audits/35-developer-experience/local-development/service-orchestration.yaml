audit:
  id: developer-experience.local-development.service-orchestration
  name: Service Orchestration Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: developer-experience
  category_number: 35
  subcategory: local-development
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: development
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates how multiple services are started, managed, and coordinated
    in the local development environment. Assesses whether developers can
    easily start the required services, manage their lifecycle, and view
    logs across services.
  why_it_matters: |
    Modern applications often consist of multiple services that must run
    together. Without good orchestration, developers spend significant
    time starting services manually, debugging startup order issues, or
    hunting through multiple terminal windows for logs.
  when_to_run:
  - When adding new services
  - When developers report orchestration issues
  - During microservices adoption
  - Quarterly DX review
prerequisites:
  required_artifacts:
  - type: service_configuration
    description: Service orchestration configuration
  - type: development_environment
    description: Running local environment
  access_requirements:
  - Local development environment
  - Service configuration access
  - Container runtime if applicable
discovery:
  file_patterns:
  - glob: '**/docker-compose*.yml'
    purpose: Find Docker Compose files
  - glob: '**/Procfile*'
    purpose: Find Foreman/Hivemind Procfiles
  - glob: '**/Tiltfile'
    purpose: Find Tilt configuration
  - glob: '**/skaffold.yaml'
    purpose: Find Skaffold configuration
  - glob: '**/devspace.yaml'
    purpose: Find DevSpace configuration
  - glob: '**/Makefile'
    purpose: Find make-based orchestration
  interview_questions:
  - role: Developer
    questions:
    - How do you start all required services?
    - How do you view logs from multiple services?
    - Can you restart individual services easily?
    - What happens when a service fails to start?
knowledge_sources:
  guides:
  - id: docker-compose
    name: Docker Compose Documentation
    url: https://docs.docker.com/compose/
  - id: tilt
    name: Tilt Documentation
    url: https://docs.tilt.dev/
  standards:
  - id: twelve-factor-processes
    name: Twelve-Factor App - Processes
    relevance: Process management best practices
tooling:
  analysis_tools:
  - tool: docker-compose
    purpose: Container orchestration
    command: docker-compose up -d
  - tool: foreman
    purpose: Procfile-based process management
    command: foreman start
  - tool: hivemind
    purpose: Fast Procfile manager
    command: hivemind Procfile.dev
  - tool: tilt
    purpose: Kubernetes development orchestration
    command: tilt up
  - tool: ctop
    purpose: Container metrics viewer
    command: ctop
signals:
  critical:
  - id: ORCH-CRIT-001
    signal: No service orchestration mechanism
    evidence_indicators:
    - Services started in separate terminals manually
    - No single command to start environment
    - Startup order managed manually
    explanation: |
      Without orchestration, developers waste time on manual
      process management and startup troubleshooting.
    remediation: |
      Implement docker-compose, Procfile, or similar orchestration
      to enable single-command startup.
  - id: ORCH-CRIT-002
    signal: Service startup order breaks frequently
    evidence_indicators:
    - Race conditions on startup
    - Services fail to connect to dependencies
    - Manual restart required after initial start
    explanation: |
      Unreliable startup creates daily friction and wastes
      developer time troubleshooting.
    remediation: |
      Implement proper health checks and dependency ordering
      in orchestration configuration.
  high:
  - id: ORCH-HIGH-001
    signal: Logs scattered across multiple terminals
    remediation: |
      Configure centralized log viewing through docker-compose
      logs, tmux, or log aggregation tools.
  - id: ORCH-HIGH-002
    signal: Cannot restart individual services
    remediation: |
      Enable granular service control for faster iteration
      on specific services.
  - id: ORCH-HIGH-003
    signal: Service failures not clearly reported
    remediation: |
      Add health checks and clear failure reporting to
      quickly identify startup issues.
  medium:
  - id: ORCH-MED-001
    signal: No partial stack option
    remediation: |
      Create profiles or configurations for running subsets
      of services when full stack not needed.
  - id: ORCH-MED-002
    signal: Orchestration configuration complex
    remediation: |
      Simplify configuration and provide clear documentation
      for common scenarios.
  - id: ORCH-MED-003
    signal: Resource usage high for full stack
    remediation: |
      Optimize service configurations and provide lightweight
      alternatives where possible.
  low:
  - id: ORCH-LOW-001
    signal: Orchestration commands not documented
    remediation: |
      Document common orchestration commands in README
      or development guide.
  - id: ORCH-LOW-002
    signal: No service status dashboard
    remediation: |
      Add tooling for visualizing service status and health.
  positive:
  - id: ORCH-POS-001
    signal: Single command starts entire development stack
  - id: ORCH-POS-002
    signal: Centralized log viewing available
  - id: ORCH-POS-003
    signal: Health checks ensure proper startup order
  - id: ORCH-POS-004
    signal: Partial stack profiles for focused development
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Orchestration Tools
    description: Identify service orchestration mechanisms in use
    duration_estimate: 30 min
  - id: '2'
    name: Test Startup Experience
    description: Evaluate full stack startup process
    duration_estimate: 30 min
  - id: '3'
    name: Assess Log Management
    description: Review how logs are aggregated and viewed
    duration_estimate: 30 min
  - id: '4'
    name: Test Service Control
    description: Verify restart and control capabilities
    duration_estimate: 30 min
  - id: '5'
    name: Gather Developer Feedback
    description: Interview developers about orchestration experience
    duration_estimate: 30 min
output:
  deliverables:
  - type: orchestration_assessment
    format: structured
    sections:
    - Tool inventory
    - Startup experience
    - Log management
    - Service control
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Current State
    - Gap Analysis
    - Recommendations
closeout_checklist:
- id: orch-001
  item: Orchestration tools inventoried
  level: ERROR
  verification: manual
- id: orch-002
  item: Startup experience evaluated
  level: WARNING
  verification: manual
- id: orch-003
  item: Developer feedback collected
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - microservices
    - distributed-systems
  compliance_mappings:
  - framework: ISO 27001
    control: A.12.1
    description: Operational procedures
relationships:
  commonly_combined:
  - developer-experience.local-development.dev-environment-parity
  - developer-experience.onboarding.setup-automation
  depends_on:
  - devops-ci-cd.containerization
  feeds_into:
  - developer-experience.productivity-metrics.developer-velocity
