audit:
  id: developer-experience.local-development.local-data-seeding
  name: Local Data Seeding Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: developer-experience
  category_number: 35
  subcategory: local-development
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: development
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates the availability and quality of local data seeding mechanisms
    for development environments. Assesses how developers populate their
    local databases with realistic test data, reset data state, and create
    specific scenarios for testing features.
  why_it_matters: |
    Developers need realistic data to test features effectively. Without
    good seeding, developers either work with empty databases, manually
    create data repeatedly, or use stale production snapshots that may
    contain sensitive information. Quality seeding accelerates development
    and improves feature quality.
  when_to_run:
  - When setting up new projects
  - When developers report data issues
  - After schema changes
  - Quarterly maintenance check
prerequisites:
  required_artifacts:
  - type: seed_scripts
    description: Existing data seeding scripts
  - type: database_schema
    description: Database schema documentation
  - type: developer_feedback
    description: Developer experience with seeding
  access_requirements:
  - Database access
  - Seed script access
  - Development environment
discovery:
  file_patterns:
  - glob: '**/seeds/**'
    purpose: Find seed data files
  - glob: '**/db/seeds/**'
    purpose: Find Rails-style seeds
  - glob: '**/fixtures/**'
    purpose: Find fixture files
  - glob: '**/prisma/seed.ts'
    purpose: Find Prisma seeds
  - glob: '**/scripts/seed*.{js,ts,py}'
    purpose: Find seed scripts
  - glob: '**/docker-compose*.yml'
    purpose: Check for seed containers
  - glob: '**/Makefile'
    purpose: Find seed make targets
  interview_questions:
  - role: Developer
    questions:
    - How do you seed your local database?
    - How long does seeding take?
    - Can you create specific data scenarios easily?
    - How do you reset data to a clean state?
knowledge_sources:
  guides:
  - id: faker-js
    name: Faker.js Documentation
    url: https://fakerjs.dev/
  - id: factory-bot
    name: Factory Bot Getting Started
    url: https://github.com/thoughtbot/factory_bot
  standards:
  - id: data-privacy
    name: Data Privacy in Development
    relevance: Ensuring seed data doesn't leak PII
tooling:
  analysis_tools:
  - tool: faker
    purpose: Generate realistic fake data
    command: npm install @faker-js/faker
  - tool: factory-bot
    purpose: Ruby factory patterns
  - tool: fishery
    purpose: TypeScript factories
  - tool: prisma
    purpose: Database seeding
    command: npx prisma db seed
signals:
  critical:
  - id: SEED-CRIT-001
    signal: No data seeding mechanism exists
    evidence_indicators:
    - Developers manually enter test data
    - Empty databases by default
    - No seed scripts or fixtures
    explanation: |
      Without seeding, developers waste significant time creating
      test data manually or cannot test features that require data.
    remediation: |
      Implement seed scripts using factories or fixtures to
      populate development databases with realistic data.
  - id: SEED-CRIT-002
    signal: Seeding uses production data with PII
    evidence_indicators:
    - Production database snapshots used
    - Real customer data in development
    - No data anonymization
    explanation: |
      Using real production data in development creates privacy
      and compliance risks, regardless of convenience.
    remediation: |
      Replace production snapshots with synthetic data generation
      or implement robust anonymization.
  high:
  - id: SEED-HIGH-001
    signal: Seeding takes more than 5 minutes
    remediation: |
      Optimize seed scripts with bulk inserts, reduce data volume,
      or use database snapshots for faster reset.
  - id: SEED-HIGH-002
    signal: Seeds frequently break after schema changes
    remediation: |
      Tie seed scripts to migrations and include in CI validation.
      Use factories that adapt to schema changes.
  - id: SEED-HIGH-003
    signal: Cannot create specific test scenarios
    remediation: |
      Implement composable factories that allow creating specific
      data states for different testing needs.
  medium:
  - id: SEED-MED-001
    signal: Seed data not representative of production
    remediation: |
      Create seed data based on production patterns and edge cases.
      Include realistic volumes and relationships.
  - id: SEED-MED-002
    signal: No idempotent reset capability
    remediation: |
      Implement database reset that reliably returns to clean
      seeded state without side effects.
  - id: SEED-MED-003
    signal: Seed documentation missing
    remediation: |
      Document available seed commands, data scenarios, and
      customization options.
  low:
  - id: SEED-LOW-001
    signal: Seed scripts not in version control
    remediation: |
      Version control all seed scripts alongside schema.
  - id: SEED-LOW-002
    signal: No seed data for all services
    remediation: |
      Ensure all services in the stack have appropriate seeding.
  positive:
  - id: SEED-POS-001
    signal: Single command seeds complete development environment
  - id: SEED-POS-002
    signal: Factories allow flexible scenario creation
  - id: SEED-POS-003
    signal: Seed data includes edge cases and error states
  - id: SEED-POS-004
    signal: Seeds validated in CI
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Seed Mechanisms
    description: Locate all data seeding scripts and configurations
    duration_estimate: 30 min
  - id: '2'
    name: Test Seeding Process
    description: Execute seeding and measure time and reliability
    duration_estimate: 30 min
  - id: '3'
    name: Assess Data Quality
    description: Review seeded data for realism and coverage
    duration_estimate: 30 min
  - id: '4'
    name: Check Privacy Compliance
    description: Verify no PII in seed data
    duration_estimate: 30 min
  - id: '5'
    name: Gather Developer Feedback
    description: Interview developers about seeding experience
    duration_estimate: 30 min
output:
  deliverables:
  - type: seeding_assessment
    format: structured
    sections:
    - Seed mechanism inventory
    - Performance measurements
    - Data quality assessment
    - Privacy compliance
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Current State
    - Risk Assessment
    - Recommendations
closeout_checklist:
- id: seed-001
  item: Seed mechanisms documented
  level: ERROR
  verification: manual
- id: seed-002
  item: Seeding tested and timed
  level: WARNING
  verification: manual
- id: seed-003
  item: Privacy compliance verified
  level: ERROR
  verification: manual
governance:
  applicable_to:
    archetypes:
    - all-software-projects
  compliance_mappings:
  - framework: GDPR
    control: Art. 5
    description: Data minimization in development
  - framework: ISO 27001
    control: A.14.3.1
    description: Protection of test data
relationships:
  commonly_combined:
  - developer-experience.local-development.dev-environment-parity
  - developer-experience.testing-experience.test-data-management
  depends_on:
  - data-management.database-schema
  feeds_into:
  - developer-experience.onboarding.setup-automation
