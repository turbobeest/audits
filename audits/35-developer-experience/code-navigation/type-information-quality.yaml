audit:
  id: developer-experience.code-navigation.type-information-quality
  name: Type Information Quality Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: developer-experience
  category_number: 35
  subcategory: code-navigation
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: development
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates the quality and coverage of type information available in the
    codebase including TypeScript types, JSDoc annotations, Python type hints,
    and type definition files. Assesses how well types support IDE features
    like autocomplete, hover information, and error detection.
  why_it_matters: |
    Type information enables powerful IDE features including accurate
    autocomplete, inline documentation, and error detection before runtime.
    Poor type coverage reduces developer productivity by forcing guesswork
    and increasing runtime errors that could be caught statically.
  when_to_run:
  - When adopting TypeScript or type hints
  - When IDE features seem incomplete
  - When increasing type coverage goals
  - Quarterly code quality review
prerequisites:
  required_artifacts:
  - type: codebase
    description: Source code to analyze
  - type: type_configuration
    description: TypeScript/type checking configuration
  access_requirements:
  - Repository access
  - Type checker access
  - IDE access
discovery:
  file_patterns:
  - glob: '**/tsconfig.json'
    purpose: Find TypeScript configuration
  - glob: '**/*.d.ts'
    purpose: Find type definition files
  - glob: '**/types/**'
    purpose: Find type directories
  - glob: '**/pyrightconfig.json'
    purpose: Find Python type config
  - glob: '**/mypy.ini'
    purpose: Find mypy configuration
  interview_questions:
  - role: Developer
    questions:
    - Is autocomplete accurate and helpful?
    - Do you see useful type information on hover?
    - What areas lack type information?
    - Do you trust IDE error highlighting?
knowledge_sources:
  guides:
  - id: typescript-handbook
    name: TypeScript Handbook
    url: https://www.typescriptlang.org/docs/handbook/
  - id: python-typing
    name: Python Typing Documentation
    url: https://docs.python.org/3/library/typing.html
  standards:
  - id: definitely-typed
    name: DefinitelyTyped
    relevance: Community type definitions
tooling:
  analysis_tools:
  - tool: typescript
    purpose: TypeScript type checking
    command: tsc --noEmit
  - tool: pyright
    purpose: Python type checking
    command: pyright .
  - tool: mypy
    purpose: Python type checking
    command: mypy .
  - tool: type-coverage
    purpose: Measure TypeScript coverage
    command: npx type-coverage
signals:
  critical:
  - id: TYPE-CRIT-001
    signal: Widespread 'any' type usage
    evidence_indicators:
    - Most functions return any
    - Parameters typed as any
    - Type coverage below 50%
    explanation: |
      Excessive 'any' usage defeats the purpose of typing,
      providing no IDE assistance for those code paths.
    remediation: |
      Enable strict TypeScript settings. Incrementally add
      types starting with public APIs.
  - id: TYPE-CRIT-002
    signal: Missing types for third-party libraries
    evidence_indicators:
    - Cannot autocomplete library APIs
    - No hover information for imports
    - No @types packages installed
    explanation: |
      Missing library types prevent IDE assistance when
      using common dependencies.
    remediation: |
      Install @types packages for libraries. Create local
      declarations for untyped libraries.
  high:
  - id: TYPE-HIGH-001
    signal: Types and runtime behavior diverge
    remediation: |
      Enable stricter type checking. Add runtime validation
      at boundaries. Fix type lies.
  - id: TYPE-HIGH-002
    signal: API types not exported
    remediation: |
      Export types for public APIs to enable consumers
      to use them properly.
  - id: TYPE-HIGH-003
    signal: Complex types unreadable
    remediation: |
      Simplify complex types with type aliases and
      documentation.
  medium:
  - id: TYPE-MED-001
    signal: Type coverage not measured
    remediation: |
      Implement type coverage tracking to monitor
      improvement over time.
  - id: TYPE-MED-002
    signal: Inconsistent typing patterns
    remediation: |
      Establish and document typing conventions.
  - id: TYPE-MED-003
    signal: JSDoc types not utilized
    remediation: |
      Either migrate to TypeScript or ensure JSDoc
      types are complete and accurate.
  low:
  - id: TYPE-LOW-001
    signal: Type documentation sparse
    remediation: |
      Add JSDoc comments to complex types.
  - id: TYPE-LOW-002
    signal: Utility types not leveraged
    remediation: |
      Use TypeScript utility types for DRY type definitions.
  positive:
  - id: TYPE-POS-001
    signal: Type coverage above 90%
  - id: TYPE-POS-002
    signal: Strict TypeScript mode enabled
  - id: TYPE-POS-003
    signal: All dependencies have types
  - id: TYPE-POS-004
    signal: Types well-documented
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Review Type Configuration
    description: Examine TypeScript/type checker settings
    duration_estimate: 30 min
  - id: '2'
    name: Measure Type Coverage
    description: Run type coverage analysis
    duration_estimate: 30 min
  - id: '3'
    name: Test IDE Experience
    description: Evaluate autocomplete and hover info
    duration_estimate: 30 min
  - id: '4'
    name: Check Library Types
    description: Verify type availability for dependencies
    duration_estimate: 30 min
  - id: '5'
    name: Gather Developer Feedback
    description: Interview developers about type experience
    duration_estimate: 30 min
output:
  deliverables:
  - type: type_assessment
    format: structured
    sections:
    - Configuration review
    - Coverage metrics
    - IDE experience
    - Developer feedback
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Type Coverage Analysis
    - Recommendations
closeout_checklist:
- id: type-001
  item: Type configuration reviewed
  level: ERROR
  verification: manual
- id: type-002
  item: Type coverage measured
  level: WARNING
  verification: manual
- id: type-003
  item: IDE experience evaluated
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - typed-language-projects
  compliance_mappings:
  - framework: ISO 27001
    control: A.14.2
    description: Security in development
relationships:
  commonly_combined:
  - developer-experience.code-navigation.ide-integration
  - code-quality.static-analysis
  depends_on:
  - devops-ci-cd.build-configuration
  feeds_into:
  - code-quality.maintainability
