audit:
  id: developer-experience.code-navigation.code-search-quality
  name: Code Search Quality Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: developer-experience
  category_number: 35
  subcategory: code-navigation
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: development
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates the code search capabilities available to developers including
    IDE search, CLI tools (ripgrep, ag), and dedicated code search platforms
    (Sourcegraph, GitHub code search). Assesses search speed, result quality,
    and feature availability like regex, symbol search, and cross-repository search.
  why_it_matters: |
    Developers spend significant time searching for code - finding usages,
    locating implementations, and understanding patterns. Poor search tools
    slow down this critical activity. Good code search enables developers
    to navigate large codebases efficiently.
  when_to_run:
  - When codebase grows significantly
  - When developers report search difficulties
  - When adopting new search tools
  - Quarterly DX review
prerequisites:
  required_artifacts:
  - type: codebase
    description: Source code to search
  - type: search_tools
    description: Available search tools
  access_requirements:
  - Repository access
  - Search tool access
  - Search platform access if applicable
discovery:
  file_patterns:
  - glob: '**/.ignore'
    purpose: Find search ignore patterns
  - glob: '**/.rgignore'
    purpose: Find ripgrep ignore patterns
  - glob: '**/.sourcegraph/**'
    purpose: Find Sourcegraph configuration
  interview_questions:
  - role: Developer
    questions:
    - How do you search for code?
    - Is search fast enough for your workflow?
    - Can you search across all repositories?
    - What search features are missing?
knowledge_sources:
  guides:
  - id: sourcegraph-docs
    name: Sourcegraph Documentation
    url: https://docs.sourcegraph.com/
  - id: ripgrep-guide
    name: ripgrep User Guide
    url: https://github.com/BurntSushi/ripgrep/blob/master/GUIDE.md
  standards:
  - id: code-intelligence
    name: Code Intelligence
    relevance: Smart code search and navigation
tooling:
  analysis_tools:
  - tool: ripgrep
    purpose: Fast CLI code search
    command: rg --type-list
  - tool: sourcegraph
    purpose: Enterprise code search
  - tool: github-search
    purpose: GitHub code search
    command: gh search code <query>
  - tool: ag
    purpose: The Silver Searcher
    command: ag --help
signals:
  critical:
  - id: SEARCH-CRIT-001
    signal: No fast code search available
    evidence_indicators:
    - Only grep available
    - Search takes minutes
    - No indexed search
    explanation: |
      Without fast search, developers waste time waiting
      or avoid searching altogether, missing important context.
    remediation: |
      Install ripgrep for local search. Consider Sourcegraph
      for team-wide code intelligence.
  - id: SEARCH-CRIT-002
    signal: Cannot search across repositories
    evidence_indicators:
    - Search limited to single repo
    - No cross-repo search platform
    - Manual navigation between repos
    explanation: |
      In multi-repo environments, limited search scope
      makes finding related code very difficult.
    remediation: |
      Deploy Sourcegraph or similar for cross-repository
      search capabilities.
  high:
  - id: SEARCH-HIGH-001
    signal: Symbol search unavailable
    remediation: |
      Configure language servers or Sourcegraph for
      semantic symbol search.
  - id: SEARCH-HIGH-002
    signal: Search excludes important files
    remediation: |
      Review ignore patterns to ensure relevant files
      are searchable.
  - id: SEARCH-HIGH-003
    signal: Search results not ranked by relevance
    remediation: |
      Use search tools with ranking or configure
      result ordering preferences.
  medium:
  - id: SEARCH-MED-001
    signal: No regex support in search
    remediation: |
      Use search tools with regex support like
      ripgrep or Sourcegraph.
  - id: SEARCH-MED-002
    signal: Search not integrated with IDE
    remediation: |
      Configure IDE integration with search tools
      for seamless workflow.
  - id: SEARCH-MED-003
    signal: No search history or saved queries
    remediation: |
      Use search tools that support saved queries
      for common searches.
  low:
  - id: SEARCH-LOW-001
    signal: Search tools not documented
    remediation: |
      Document available search tools and common
      search patterns.
  - id: SEARCH-LOW-002
    signal: Different search tools across team
    remediation: |
      Standardize search tooling recommendations.
  positive:
  - id: SEARCH-POS-001
    signal: Sub-second search across entire codebase
  - id: SEARCH-POS-002
    signal: Cross-repository search available
  - id: SEARCH-POS-003
    signal: Symbol and semantic search enabled
  - id: SEARCH-POS-004
    signal: Search integrated with IDE and CLI
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Search Tools
    description: Identify available search capabilities
    duration_estimate: 30 min
  - id: '2'
    name: Test Search Performance
    description: Measure search speed and result quality
    duration_estimate: 30 min
  - id: '3'
    name: Evaluate Features
    description: Test regex, symbol search, and filters
    duration_estimate: 30 min
  - id: '4'
    name: Test Cross-Repo Search
    description: Verify search works across repositories
    duration_estimate: 30 min
  - id: '5'
    name: Gather Developer Feedback
    description: Interview developers about search experience
    duration_estimate: 30 min
output:
  deliverables:
  - type: search_assessment
    format: structured
    sections:
    - Tool inventory
    - Performance measurements
    - Feature evaluation
    - Developer feedback
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Search Capabilities
    - Gap Analysis
    - Recommendations
closeout_checklist:
- id: search-001
  item: Search tools inventoried
  level: ERROR
  verification: manual
- id: search-002
  item: Search performance measured
  level: WARNING
  verification: manual
- id: search-003
  item: Developer feedback collected
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - all-software-projects
  compliance_mappings:
  - framework: ISO 27001
    control: A.12.1
    description: Operational procedures
relationships:
  commonly_combined:
  - developer-experience.code-navigation.ide-integration
  - developer-experience.code-navigation.symbol-navigation
  depends_on:
  - devops-ci-cd.source-control
  feeds_into:
  - developer-experience.productivity-metrics.developer-velocity
