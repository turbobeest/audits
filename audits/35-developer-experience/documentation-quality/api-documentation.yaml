audit:
  id: developer-experience.documentation-quality.api-documentation
  name: API Documentation Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: developer-experience
  category_number: 35
  subcategory: documentation-quality
  tier: expert
  estimated_duration: 3-4 hours  # median: 3h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: development
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates the quality and completeness of API documentation including
    REST API docs, library/SDK documentation, and internal module APIs.
    Assesses accuracy, completeness, examples, and maintenance status
    of API documentation.
  why_it_matters: |
    API documentation is the primary interface between developers and
    your code. Poor API docs lead to misuse, support burden, and
    developer frustration. Good API documentation enables self-service
    integration and reduces time to productive use.
  when_to_run:
  - Before API releases
  - When API support load is high
  - After major API changes
  - Quarterly documentation review
prerequisites:
  required_artifacts:
  - type: api_specification
    description: OpenAPI/Swagger specs
  - type: code_documentation
    description: JSDoc/docstrings
  - type: api_docs
    description: Generated or written docs
  access_requirements:
  - API specification access
  - Documentation system access
  - API testing access
discovery:
  file_patterns:
  - glob: '**/openapi.{yaml,yml,json}'
    purpose: Find OpenAPI specifications
  - glob: '**/swagger.{yaml,yml,json}'
    purpose: Find Swagger specifications
  - glob: '**/api-docs/**'
    purpose: Find API documentation
  - glob: '**/docs/api/**'
    purpose: Find API docs folder
  interview_questions:
  - role: Developer
    questions:
    - Is the API documentation helpful?
    - Are there examples for common use cases?
    - Is the documentation up to date?
    - What API documentation is missing?
knowledge_sources:
  guides:
  - id: openapi-spec
    name: OpenAPI Specification
    url: https://spec.openapis.org/oas/latest.html
  - id: api-docs-best-practices
    name: API Documentation Best Practices
    url: https://swagger.io/resources/best-practices/
  standards:
  - id: openapi
    name: OpenAPI Standard
    relevance: API specification format
tooling:
  analysis_tools:
  - tool: swagger-cli
    purpose: Validate OpenAPI specs
    command: swagger-cli validate openapi.yaml
  - tool: spectral
    purpose: API style linting
    command: spectral lint openapi.yaml
  - tool: redoc
    purpose: API documentation rendering
    command: npx @redocly/cli preview-docs openapi.yaml
  - tool: typedoc
    purpose: TypeScript API documentation
    command: npx typedoc
signals:
  critical:
  - id: APIDOC-CRIT-001
    signal: No API documentation exists
    evidence_indicators:
    - No OpenAPI/Swagger spec
    - No generated docs
    - Endpoints undocumented
    explanation: |
      Without API documentation, consumers must reverse-engineer
      the API or constantly ask questions.
    remediation: |
      Create OpenAPI specification for REST APIs. Generate
      documentation from code for libraries.
  - id: APIDOC-CRIT-002
    signal: API documentation contradicts implementation
    evidence_indicators:
    - Documented endpoints don't exist
    - Wrong parameters documented
    - Incorrect response schemas
    explanation: |
      Incorrect documentation is worse than none, leading to
      integration failures and lost trust.
    remediation: |
      Generate documentation from code or add validation that
      ensures docs match implementation.
  high:
  - id: APIDOC-HIGH-001
    signal: API endpoints lack request/response examples
    remediation: |
      Add example requests and responses for each endpoint.
  - id: APIDOC-HIGH-002
    signal: Error responses undocumented
    remediation: |
      Document all error codes, causes, and resolution guidance.
  - id: APIDOC-HIGH-003
    signal: Authentication not documented
    remediation: |
      Document authentication methods, token handling,
      and security requirements.
  medium:
  - id: APIDOC-MED-001
    signal: No quick start guide
    remediation: |
      Create getting started guide with first API call example.
  - id: APIDOC-MED-002
    signal: Documentation not searchable
    remediation: |
      Use documentation platform with search capability.
  - id: APIDOC-MED-003
    signal: No changelog for API changes
    remediation: |
      Maintain API changelog with version information.
  low:
  - id: APIDOC-LOW-001
    signal: Documentation not versioned
    remediation: |
      Version documentation alongside API versions.
  - id: APIDOC-LOW-002
    signal: No SDK/client library documentation
    remediation: |
      Add documentation for official SDK usage.
  positive:
  - id: APIDOC-POS-001
    signal: Comprehensive OpenAPI specification
  - id: APIDOC-POS-002
    signal: Interactive API documentation (Swagger UI)
  - id: APIDOC-POS-003
    signal: Examples for all endpoints
  - id: APIDOC-POS-004
    signal: Documentation generated from code
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory API Documentation
    description: Find all API docs and specifications
    duration_estimate: 30 min
  - id: '2'
    name: Validate Specifications
    description: Check OpenAPI specs for validity
    duration_estimate: 30 min
  - id: '3'
    name: Test Documentation Accuracy
    description: Verify docs match implementation
    duration_estimate: 45 min
  - id: '4'
    name: Assess Completeness
    description: Check coverage of all endpoints
    duration_estimate: 30 min
  - id: '5'
    name: Gather Consumer Feedback
    description: Interview API consumers about documentation
    duration_estimate: 30 min
output:
  deliverables:
  - type: api_doc_assessment
    format: structured
    sections:
    - Documentation inventory
    - Validation results
    - Accuracy assessment
    - Completeness analysis
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Documentation Quality
    - Gap Analysis
    - Recommendations
closeout_checklist:
- id: apidoc-001
  item: API documentation inventoried
  level: ERROR
  verification: manual
- id: apidoc-002
  item: Specifications validated
  level: WARNING
  verification: manual
- id: apidoc-003
  item: Accuracy verified
  level: ERROR
  verification: manual
governance:
  applicable_to:
    archetypes:
    - api-services
    - libraries
  compliance_mappings:
  - framework: ISO 27001
    control: A.12.1.1
    description: Documented operating procedures
relationships:
  commonly_combined:
  - developer-experience.documentation-quality.code-comments
  - developer-experience.code-navigation.code-documentation-display
  depends_on:
  - api-design.openapi-specification
  feeds_into:
  - developer-experience.onboarding.codebase-orientation
