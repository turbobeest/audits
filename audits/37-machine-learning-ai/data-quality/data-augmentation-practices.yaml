audit:
  id: machine-learning-ai.data-quality.data-augmentation-practices
  name: Data Augmentation Practices Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: machine-learning-ai
  category_number: 37
  subcategory: data-quality
  tier: expert
  estimated_duration: 3-5 hours  # median: 4h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: ml-systems
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates data augmentation strategies including augmentation techniques,
    validation of augmented data, label preservation, and impact on model training.
    Examines whether augmentation improves model robustness without introducing
    artifacts or invalid data.
  why_it_matters: |
    Data augmentation is crucial for improving model generalization and robustness,
    especially with limited training data. However, inappropriate augmentation can
    create unrealistic samples, corrupt labels, or introduce biases. Proper
    augmentation significantly improves model quality.
  when_to_run:
  - When implementing augmentation strategies
  - After augmentation pipeline changes
  - When model performance is inconsistent
  - During model robustness reviews
prerequisites:
  required_artifacts:
  - type: augmentation_code
    description: Access to data augmentation implementations
  - type: training_data
    description: Original training data samples
  - type: augmented_samples
    description: Examples of augmented data
  access_requirements:
  - Access to augmentation pipeline code
  - Access to training data
  - Access to augmented data samples
  - Access to model training configurations
discovery:
  file_patterns:
  - glob: '**/augmentation/**/*.py'
    purpose: Find augmentation code
  - glob: '**/transforms/**'
    purpose: Find data transform code
  - glob: '**/albumentations/**'
    purpose: Find Albumentations configs
  - glob: '**/imgaug/**'
    purpose: Find imgaug configurations
knowledge_sources:
  guides:
  - id: albumentations-docs
    name: Albumentations Documentation
    url: https://albumentations.ai/docs/
  - id: nlpaug-docs
    name: NLPAug Documentation
    url: https://nlpaug.readthedocs.io/
  standards:
  - id: augmentation-best-practices
    name: Data Augmentation Best Practices
    relevance: Effective augmentation strategies
tooling:
  analysis_tools:
  - tool: albumentations
    purpose: Image augmentation
  - tool: nlpaug
    purpose: NLP augmentation
  - tool: audiomentations
    purpose: Audio augmentation
  - tool: torchvision.transforms
    purpose: PyTorch augmentation
signals:
  critical:
  - id: DAP-CRIT-001
    signal: Augmentation corrupts labels
    evidence_indicators:
    - Spatial augmentations not applied to labels
    - Label coordinates not transformed
    - Classification labels invalidated by augmentation
    explanation: |
      When augmentations aren't properly synchronized with labels, models learn
      from incorrect label-data pairs, causing systematic prediction errors.
    remediation: Implement synchronized augmentation for data and labels
  - id: DAP-CRIT-002
    signal: Augmentation creates unrealistic data
    evidence_indicators:
    - Augmented samples not physically possible
    - Combinations produce artifacts
    - Domain constraints violated
    explanation: |
      Unrealistic augmented data teaches models patterns that don't exist in real data,
      harming generalization and creating unexpected failures.
    remediation: Review augmentations against domain constraints
  high:
  - id: DAP-HIGH-001
    signal: Augmentation applied to validation/test data
    remediation: Use augmentation only during training
  - id: DAP-HIGH-002
    signal: No validation of augmented samples
    remediation: Implement visual/manual review of augmentation results
  - id: DAP-HIGH-003
    signal: Augmentation reduces class balance
    remediation: Apply balanced augmentation across classes
  medium:
  - id: DAP-MED-001
    signal: Augmentation strength not tuned
    remediation: Tune augmentation parameters for optimal results
  - id: DAP-MED-002
    signal: No ablation study on augmentations
    remediation: Measure impact of individual augmentation techniques
  - id: DAP-MED-003
    signal: Augmentation not reproducible
    remediation: Fix random seeds for reproducible augmentation
  low:
  - id: DAP-LOW-001
    signal: Augmentation pipeline not documented
    remediation: Document augmentation techniques and parameters
  - id: DAP-LOW-002
    signal: Limited augmentation diversity
    remediation: Explore additional relevant augmentation techniques
  positive:
  - id: DAP-POS-001
    signal: Validated augmentation improving generalization
  - id: DAP-POS-002
    signal: Properly synchronized label augmentation
  - id: DAP-POS-003
    signal: Domain-appropriate augmentation constraints
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Review Augmentation Strategy
    description: Examine augmentation techniques and rationale
    duration_estimate: 45 minutes
  - id: '2'
    name: Validate Label Synchronization
    description: Verify labels are correctly transformed
    duration_estimate: 45 minutes
  - id: '3'
    name: Inspect Augmented Samples
    description: Manual review of augmentation quality
    duration_estimate: 45 minutes
  - id: '4'
    name: Check Domain Constraints
    description: Verify augmentations respect domain rules
    duration_estimate: 30 minutes
  - id: '5'
    name: Assess Impact on Training
    description: Review augmentation effect on model performance
    duration_estimate: 30 minutes
  - id: '6'
    name: Verify Reproducibility
    description: Confirm augmentation is reproducible
    duration_estimate: 15 minutes
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Augmentation Strategy Analysis
    - Sample Quality Review
    - Impact Assessment
    - Recommendations
closeout_checklist:
- id: dap-001
  item: Label synchronization verified
  level: CRITICAL
  verification: manual
- id: dap-002
  item: Sample quality reviewed
  level: HIGH
  verification: manual
- id: dap-003
  item: Domain constraints checked
  level: MEDIUM
  verification: manual
governance:
  applicable_to:
    archetypes:
    - ml-systems
    - ai-applications
  compliance_mappings:
  - framework: EU AI Act
    control: Data Governance
    description: Requirements for training data quality
relationships:
  commonly_combined:
  - machine-learning-ai.data-quality.training-data-quality
  - machine-learning-ai.model-validation.model-testing
  depends_on:
  - machine-learning-ai.data-quality.data-labeling-quality
  feeds_into:
  - machine-learning-ai.model-development.training-pipeline-quality
