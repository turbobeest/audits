audit:
  id: machine-learning-ai.data-quality.data-pipeline-reliability
  name: Data Pipeline Reliability Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: machine-learning-ai
  category_number: 37
  subcategory: data-quality
  tier: expert
  estimated_duration: 4-6 hours  # median: 5h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: ml-systems
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates the reliability and robustness of ML data pipelines including data
    ingestion, transformation, validation, and delivery. Examines error handling,
    retry mechanisms, monitoring, and recovery procedures to ensure data flows
    reliably to ML training and serving systems.
  why_it_matters: |
    ML models depend on reliable data pipelines. Pipeline failures cause training
    delays, serving outages, and stale models. Unreliable pipelines create
    unpredictable data quality issues that are difficult to debug and can cause
    silent model degradation.
  when_to_run:
  - Before production deployment
  - After pipeline incidents
  - During infrastructure reviews
  - When scaling data volumes
prerequisites:
  required_artifacts:
  - type: pipeline_code
    description: Access to data pipeline implementations
  - type: orchestration_config
    description: Pipeline orchestration configurations
  - type: monitoring_dashboards
    description: Pipeline monitoring access
  access_requirements:
  - Access to data pipeline code
  - Access to orchestration system
  - Access to pipeline logs
  - Access to monitoring dashboards
discovery:
  file_patterns:
  - glob: '**/pipelines/**/*.py'
    purpose: Find pipeline code
  - glob: '**/airflow/dags/**'
    purpose: Find Airflow DAGs
  - glob: '**/prefect/**'
    purpose: Find Prefect flows
  - glob: '**/dagster/**'
    purpose: Find Dagster pipelines
knowledge_sources:
  guides:
  - id: airflow-docs
    name: Apache Airflow Documentation
    url: https://airflow.apache.org/docs/
  - id: prefect-docs
    name: Prefect Documentation
    url: https://docs.prefect.io/
  standards:
  - id: data-pipeline-best-practices
    name: Data Pipeline Best Practices
    relevance: Reliable data pipeline design
tooling:
  analysis_tools:
  - tool: airflow
    purpose: Pipeline orchestration
  - tool: prefect
    purpose: Modern workflow orchestration
  - tool: dagster
    purpose: Data orchestration
  - tool: great_expectations
    purpose: Data validation in pipelines
signals:
  critical:
  - id: DPR-CRIT-001
    signal: Pipeline failures causing model serving outages
    evidence_indicators:
    - Missing data causing prediction failures
    - Stale features served to production
    - No fallback mechanisms
    explanation: |
      Pipeline failures that propagate to serving cause direct business impact through
      failed predictions or degraded model quality.
    remediation: Implement circuit breakers and fallback mechanisms
  - id: DPR-CRIT-002
    signal: Silent pipeline failures with data corruption
    evidence_indicators:
    - Failed transformations producing incorrect data
    - No validation after pipeline steps
    - Corrupt data reaching models
    explanation: |
      Silent failures are more dangerous than loud failures because they allow
      incorrect data to flow through the system undetected.
    remediation: Implement validation checkpoints throughout pipeline
  high:
  - id: DPR-HIGH-001
    signal: No retry mechanisms for transient failures
    remediation: Implement exponential backoff retries for transient failures
  - id: DPR-HIGH-002
    signal: Pipeline not idempotent
    remediation: Make pipeline operations idempotent for safe retries
  - id: DPR-HIGH-003
    signal: No pipeline monitoring
    remediation: Implement comprehensive pipeline monitoring and alerting
  medium:
  - id: DPR-MED-001
    signal: Long pipeline recovery time
    remediation: Implement checkpointing for faster recovery
  - id: DPR-MED-002
    signal: Pipeline dependencies not managed
    remediation: Document and manage pipeline dependencies explicitly
  - id: DPR-MED-003
    signal: No pipeline versioning
    remediation: Version pipeline code and configurations
  low:
  - id: DPR-LOW-001
    signal: Pipeline logs not centralized
    remediation: Centralize pipeline logs for easier debugging
  - id: DPR-LOW-002
    signal: Pipeline documentation incomplete
    remediation: Document pipeline architecture and data flows
  positive:
  - id: DPR-POS-001
    signal: Highly reliable pipelines with minimal failures
  - id: DPR-POS-002
    signal: Comprehensive monitoring and fast recovery
  - id: DPR-POS-003
    signal: Idempotent operations with validation checkpoints
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Review Pipeline Architecture
    description: Examine overall pipeline design and components
    duration_estimate: 1 hour
  - id: '2'
    name: Assess Error Handling
    description: Review error handling and retry mechanisms
    duration_estimate: 45 minutes
  - id: '3'
    name: Check Validation Points
    description: Verify data validation throughout pipeline
    duration_estimate: 45 minutes
  - id: '4'
    name: Review Monitoring
    description: Evaluate pipeline monitoring and alerting
    duration_estimate: 45 minutes
  - id: '5'
    name: Analyze Historical Failures
    description: Review past failures and recovery times
    duration_estimate: 45 minutes
  - id: '6'
    name: Test Recovery Procedures
    description: Verify recovery procedures work correctly
    duration_estimate: 45 minutes
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Pipeline Architecture
    - Reliability Analysis
    - Failure History
    - Recommendations
closeout_checklist:
- id: dpr-001
  item: Error handling verified
  level: CRITICAL
  verification: manual
- id: dpr-002
  item: Monitoring coverage confirmed
  level: HIGH
  verification: automated
- id: dpr-003
  item: Recovery procedures tested
  level: HIGH
  verification: manual
governance:
  applicable_to:
    archetypes:
    - ml-systems
    - ai-applications
    - data-platforms
  compliance_mappings:
  - framework: SOC 2
    control: Availability
    description: System availability requirements
relationships:
  commonly_combined:
  - machine-learning-ai.data-quality.training-data-quality
  - machine-learning-ai.mlops-infrastructure.ml-pipeline-orchestration
  depends_on:
  - infrastructure-as-code.data-infrastructure
  feeds_into:
  - machine-learning-ai.model-development.training-pipeline-quality
