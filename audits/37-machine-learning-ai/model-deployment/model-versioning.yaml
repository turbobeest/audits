audit:
  id: machine-learning-ai.model-deployment.model-versioning
  name: Model Versioning Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: machine-learning-ai
  category_number: 37
  subcategory: model-deployment
  tier: expert
  estimated_duration: 3-5 hours  # median: 4h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: ml-systems
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates model versioning practices including version tracking, artifact storage,
    metadata management, and version lifecycle. Examines whether models can be reliably
    reproduced, compared, and rolled back when needed.
  why_it_matters: |
    Without proper versioning, teams cannot reproduce past results, compare model versions,
    or safely roll back problematic deployments. Model versioning enables reliable
    experimentation, auditing, and incident response in ML systems.
  when_to_run:
  - When establishing MLOps practices
  - After model registry setup
  - During compliance audits
  - Before production deployment
prerequisites:
  required_artifacts:
  - type: model_registry
    description: Access to model registry system
  - type: versioning_policies
    description: Versioning standards documentation
  - type: model_artifacts
    description: Access to stored model versions
  access_requirements:
  - Access to model registry
  - Access to artifact storage
  - Access to versioning configurations
  - Access to deployment history
discovery:
  file_patterns:
  - glob: '**/mlflow/**'
    purpose: Find MLflow configurations
  - glob: '**/model_registry/**'
    purpose: Find registry code
  - glob: '**/versions/**'
    purpose: Find version management
  - glob: '**/dvc/**'
    purpose: Find DVC configurations
knowledge_sources:
  guides:
  - id: mlflow-registry
    name: MLflow Model Registry
    url: https://mlflow.org/docs/latest/model-registry.html
  - id: dvc-docs
    name: DVC Documentation
    url: https://dvc.org/doc
  standards:
  - id: model-versioning-best-practices
    name: Model Versioning Best Practices
    relevance: Reliable model lifecycle management
tooling:
  analysis_tools:
  - tool: mlflow
    purpose: Model registry and tracking
  - tool: dvc
    purpose: Data and model version control
  - tool: wandb
    purpose: Experiment and model tracking
  - tool: neptune
    purpose: ML metadata store
signals:
  critical:
  - id: MV-CRIT-001
    signal: Production model version unknown
    evidence_indicators:
    - Cannot identify deployed model version
    - No link between deployment and registry
    - Model provenance untraceable
    explanation: |
      Not knowing what model is in production makes debugging impossible and creates
      serious compliance and auditability risks.
    remediation: Implement strict version tracking for all deployments
  - id: MV-CRIT-002
    signal: Unable to roll back to previous version
    evidence_indicators:
    - Previous model versions not stored
    - Artifacts corrupted or missing
    - No rollback procedure
    explanation: |
      Without rollback capability, problematic deployments cannot be quickly recovered,
      potentially causing extended harm to users.
    remediation: Implement artifact retention and rollback procedures
  high:
  - id: MV-HIGH-001
    signal: No model registry implemented
    remediation: Implement model registry using MLflow or similar
  - id: MV-HIGH-002
    signal: Model metadata not captured
    remediation: Store training parameters, data version, and metrics with models
  - id: MV-HIGH-003
    signal: Version comparison not possible
    remediation: Enable metric and artifact comparison across versions
  medium:
  - id: MV-MED-001
    signal: No version lifecycle management
    remediation: Define stages (dev, staging, production) for model versions
  - id: MV-MED-002
    signal: Artifact storage not optimized
    remediation: Implement efficient artifact storage with deduplication
  - id: MV-MED-003
    signal: No version deprecation policy
    remediation: Define and enforce version retention policies
  low:
  - id: MV-LOW-001
    signal: Versioning documentation incomplete
    remediation: Document versioning practices and procedures
  - id: MV-LOW-002
    signal: Version naming inconsistent
    remediation: Establish version naming conventions
  positive:
  - id: MV-POS-001
    signal: Full model lineage and traceability
  - id: MV-POS-002
    signal: Automated versioning in CI/CD
  - id: MV-POS-003
    signal: Complete metadata capture for all versions
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Review Registry Implementation
    description: Examine model registry setup and configuration
    duration_estimate: 45 minutes
  - id: '2'
    name: Assess Metadata Capture
    description: Verify completeness of stored metadata
    duration_estimate: 45 minutes
  - id: '3'
    name: Test Reproducibility
    description: Verify ability to recreate past models
    duration_estimate: 45 minutes
  - id: '4'
    name: Check Rollback Capability
    description: Test rollback procedures
    duration_estimate: 30 minutes
  - id: '5'
    name: Review Lifecycle Management
    description: Assess version stages and transitions
    duration_estimate: 30 minutes
  - id: '6'
    name: Evaluate Storage Efficiency
    description: Review artifact storage practices
    duration_estimate: 30 minutes
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Registry Assessment
    - Traceability Analysis
    - Storage Review
    - Recommendations
closeout_checklist:
- id: mv-001
  item: Version traceability verified
  level: CRITICAL
  verification: automated
- id: mv-002
  item: Rollback tested
  level: CRITICAL
  verification: manual
- id: mv-003
  item: Metadata completeness assessed
  level: HIGH
  verification: automated
governance:
  applicable_to:
    archetypes:
    - ml-systems
    - ai-applications
  compliance_mappings:
  - framework: EU AI Act
    control: Traceability
    description: Requirements for AI system traceability
relationships:
  commonly_combined:
  - machine-learning-ai.model-deployment.model-serving
  - machine-learning-ai.mlops-infrastructure.experiment-tracking
  depends_on:
  - machine-learning-ai.model-development.model-reproducibility
  feeds_into:
  - machine-learning-ai.model-deployment.ab-testing
