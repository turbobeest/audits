audit:
  id: internationalization-localization.testing-validation.locale-coverage
  name: Locale Coverage Testing Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: internationalization-localization
  category_number: 36
  subcategory: testing-validation
  tier: expert
  estimated_duration: 3-5 hours  # median: 4h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: localization
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates test coverage across all supported locales including functional
    testing, visual testing, and regression testing. Examines whether tests
    run for each locale, what percentage of functionality is tested per
    locale, and how locale-specific issues are detected.
  why_it_matters: |
    Testing only in the default locale misses locale-specific bugs like
    truncation in German, RTL issues in Arabic, or date parsing problems
    in European locales. Comprehensive locale testing ensures quality
    across all markets.
  when_to_run:
  - When establishing test strategy
  - Before major releases
  - After adding new locales
  - During QA process improvement
prerequisites:
  required_artifacts:
  - type: test_suite
    description: Existing test suite
  - type: locale_list
    description: Supported locales list
  - type: ci_config
    description: CI/CD configuration
  access_requirements:
  - Access to test suite
  - Access to CI/CD system
  - Ability to run tests in different locales
discovery:
  file_patterns:
  - glob: '**/*.test.{js,ts,tsx}'
    purpose: Find test files
  - glob: '**/*.spec.{js,ts,tsx}'
    purpose: Find spec files
  - glob: '**/jest.config.*'
    purpose: Find test configuration
  - glob: '**/cypress/**'
    purpose: Find E2E tests
knowledge_sources:
  guides:
  - id: i18n-testing
    name: i18n Testing Strategies
    url: https://testing-library.com/docs/example-react-intl/
  - id: locale-testing
    name: Locale Testing Best Practices
    url: https://www.gala-global.org/
  standards:
  - id: istqb
    name: ISTQB Testing Standards
    relevance: Testing methodologies
tooling:
  analysis_tools:
  - tool: jest
    purpose: JavaScript testing framework
  - tool: cypress
    purpose: E2E testing
  - tool: playwright
    purpose: Cross-browser testing
signals:
  critical:
  - id: I18N-COV-CRIT-001
    signal: No automated testing for non-default locales
    evidence_indicators:
    - Tests only run in English
    - No locale parameterization
    explanation: |
      Without locale testing, bugs in translations, formatting,
      and layout go undetected until production.
    remediation: Run tests across all supported locales
  high:
  - id: I18N-COV-HIGH-001
    signal: Visual regression not run per locale
    evidence_indicators:
    - Screenshots only in one language
    - No locale-specific visual tests
    remediation: Add visual regression testing per locale
  - id: I18N-COV-HIGH-002
    signal: Critical paths not tested in all locales
    evidence_indicators:
    - Checkout only tested in English
    - Login not tested with all locales
    remediation: Prioritize critical path locale coverage
  medium:
  - id: I18N-COV-MED-001
    signal: Locale testing not in CI/CD
    evidence_indicators:
    - Locale tests run manually
    - No automated locale coverage
    remediation: Integrate locale testing into CI/CD
  - id: I18N-COV-MED-002
    signal: Low test coverage for RTL locales
    evidence_indicators:
    - Arabic/Hebrew not in test matrix
    - RTL-specific tests missing
    remediation: Add RTL locale testing
  low:
  - id: I18N-COV-LOW-001
    signal: Test data not localized
    remediation: Use locale-appropriate test data
  - id: I18N-COV-LOW-002
    signal: Locale testing takes too long
    remediation: Optimize or parallelize locale tests
  positive:
  - id: I18N-COV-POS-001
    signal: All locales tested in CI/CD
  - id: I18N-COV-POS-002
    signal: Visual regression per locale
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Review Test Configuration
    description: Analyze test setup for locale support
    duration_estimate: 30 min
  - id: '2'
    name: Assess Locale Coverage
    description: Determine which locales are tested
    duration_estimate: 45 min
  - id: '3'
    name: Review Critical Path Testing
    description: Check locale coverage for key flows
    duration_estimate: 45 min
  - id: '4'
    name: Check Visual Testing
    description: Assess visual regression coverage
    duration_estimate: 30 min
  - id: '5'
    name: Review CI/CD Integration
    description: Check automated locale testing
    duration_estimate: 20 min
  - id: '6'
    name: Document Findings
    description: Compile locale coverage audit report
    duration_estimate: 30 min
output:
  deliverables:
  - type: coverage_matrix
    format: tabular
    description: Test coverage by locale
  - type: gap_analysis
    format: structured
    description: Testing gaps by locale and feature
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Coverage Analysis
    - Critical Path Review
    - CI/CD Integration
    - Recommendations
closeout_checklist:
- id: i18n-cov-001
  item: All production locales tested
  level: ERROR
  verification: automated
- id: i18n-cov-002
  item: Critical paths tested in all locales
  level: WARNING
  verification: automated
- id: i18n-cov-003
  item: Visual regression per locale
  level: INFO
  verification: automated
governance:
  applicable_to:
    archetypes:
    - global-applications
    - multi-language-sites
    company_sizes:
    - startup
    - scaleup
    - enterprise
  compliance_mappings:
  - framework: QA-Standards
    control: Test Coverage
    description: Adequate test coverage
relationships:
  commonly_combined:
  - internationalization-localization.testing-validation.visual-testing
  - testing-quality-assurance.test-coverage
  depends_on:
  - testing-quality-assurance.test-infrastructure
  feeds_into:
  - release-management.release-readiness
