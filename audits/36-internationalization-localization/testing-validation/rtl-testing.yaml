audit:
  id: internationalization-localization.testing-validation.rtl-testing
  name: Right-to-Left Testing Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: internationalization-localization
  category_number: 36
  subcategory: testing-validation
  tier: expert
  estimated_duration: 3-4 hours  # median: 3h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: localization
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates testing specifically for right-to-left (RTL) languages including
    Arabic, Hebrew, Persian, and Urdu. Examines layout mirroring verification,
    bidirectional text handling, icon mirroring, and RTL-specific functional
    testing.
  why_it_matters: |
    RTL languages require special handling that general i18n testing may miss.
    Layout mirroring, bidirectional text, and icon direction need specific
    attention. RTL markets like Middle East represent significant revenue
    opportunity.
  when_to_run:
  - Before launching in RTL markets
  - After UI changes
  - When adding RTL locales
  - During RTL-specific QA cycles
prerequisites:
  required_artifacts:
  - type: rtl_translations
    description: Translations in RTL languages
  - type: running_application
    description: Application in RTL mode
  - type: visual_baselines
    description: RTL visual baselines
  access_requirements:
  - Access to RTL-enabled application
  - RTL language speakers for review
  - Visual testing tools
discovery:
  file_patterns:
  - glob: '**/locales/ar*'
    purpose: Find Arabic locale files
  - glob: '**/locales/he*'
    purpose: Find Hebrew locale files
  - glob: '**/*rtl*.{css,scss}'
    purpose: Find RTL styles
  - glob: '**/rtl*test*'
    purpose: Find RTL tests
knowledge_sources:
  guides:
  - id: rtl-styling
    name: RTL Styling Guide
    url: https://rtlstyling.com/
  - id: material-rtl
    name: Material Design RTL
    url: https://material.io/design/usability/bidirectionality.html
  standards:
  - id: unicode-bidi
    name: Unicode Bidirectional Algorithm
    relevance: Text direction standard
tooling:
  analysis_tools:
  - tool: rtl-detect
    purpose: Detect RTL text
    install: npm install rtl-detect
  - tool: playwright
    purpose: RTL screenshot testing
  - tool: chrome-devtools
    purpose: Force RTL for testing
signals:
  critical:
  - id: I18N-RTL-TEST-CRIT-001
    signal: No RTL testing performed
    evidence_indicators:
    - No RTL test cases
    - RTL never tested before launch
    explanation: |
      Without RTL testing, critical layout and functional issues
      will reach production.
    remediation: Implement comprehensive RTL testing
  - id: I18N-RTL-TEST-CRIT-002
    signal: Critical functionality broken in RTL
    evidence_indicators:
    - Core features unusable in RTL
    - Navigation broken
    explanation: |
      Critical functionality failures make the product unusable
      for RTL users.
    remediation: Fix and add regression tests
  high:
  - id: I18N-RTL-TEST-HIGH-001
    signal: Visual tests don't include RTL baselines
    evidence_indicators:
    - No RTL screenshots in baselines
    - Visual regression RTL blind
    remediation: Add RTL to visual testing baselines
  - id: I18N-RTL-TEST-HIGH-002
    signal: Bidirectional text not tested
    evidence_indicators:
    - Mixed LTR/RTL content not verified
    - Numbers in RTL text not tested
    remediation: Add bidirectional text test cases
  medium:
  - id: I18N-RTL-TEST-MED-001
    signal: Icon mirroring not verified
    evidence_indicators:
    - Directional icons not tested
    - Back/forward arrows not checked
    remediation: Test icon mirroring specifically
  - id: I18N-RTL-TEST-MED-002
    signal: Form input not tested in RTL
    evidence_indicators:
    - Text input direction not verified
    - Form layout not tested
    remediation: Test all forms in RTL mode
  low:
  - id: I18N-RTL-TEST-LOW-001
    signal: RTL testing not in CI/CD
    remediation: Automate RTL testing in pipeline
  - id: I18N-RTL-TEST-LOW-002
    signal: No native RTL speaker review
    remediation: Include native RTL speaker in QA
  positive:
  - id: I18N-RTL-TEST-POS-001
    signal: Comprehensive RTL test coverage
  - id: I18N-RTL-TEST-POS-002
    signal: RTL visual regression in CI/CD
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Enable RTL Mode
    description: Configure application for RTL testing
    duration_estimate: 15 min
  - id: '2'
    name: Layout Mirroring Review
    description: Verify complete layout mirroring
    duration_estimate: 60 min
  - id: '3'
    name: Bidirectional Text Testing
    description: Test mixed direction content
    duration_estimate: 45 min
  - id: '4'
    name: Functional Testing in RTL
    description: Run functional tests in RTL mode
    duration_estimate: 45 min
  - id: '5'
    name: Visual Regression
    description: Capture and compare RTL screenshots
    duration_estimate: 30 min
  - id: '6'
    name: Document Findings
    description: Compile RTL testing audit report
    duration_estimate: 30 min
output:
  deliverables:
  - type: rtl_test_results
    format: tabular
    description: RTL test results by category
  - type: screenshot_comparison
    format: visual
    description: LTR vs RTL layout comparisons
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Layout Mirroring
    - Bidirectional Text
    - Functional Testing
    - Recommendations
closeout_checklist:
- id: i18n-rtl-test-001
  item: Layout properly mirrors
  level: ERROR
  verification: manual
- id: i18n-rtl-test-002
  item: Core features work in RTL
  level: ERROR
  verification: automated
- id: i18n-rtl-test-003
  item: Bidirectional text correct
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - global-applications
    - middle-east-expansion
    company_sizes:
    - startup
    - scaleup
    - enterprise
  compliance_mappings:
  - framework: Market-Requirements
    control: RTL Support
    description: RTL market requirements
  - framework: WCAG
    control: 1.3.2
    description: Meaningful Sequence
relationships:
  commonly_combined:
  - internationalization-localization.text-handling.rtl-support
  - internationalization-localization.testing-validation.visual-testing
  depends_on:
  - internationalization-localization.text-handling.rtl-support
  feeds_into:
  - release-management.rtl-market-readiness
