audit:
  id: internationalization-localization.number-currency-formatting.numeral-systems
  name: Numeral Systems Support Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: internationalization-localization
  category_number: 36
  subcategory: number-currency-formatting
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: localization
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates support for non-Western numeral systems including Arabic-Indic
    numerals, Devanagari numerals, Bengali numerals, Thai numerals, and others.
    Examines display, input handling, and digit conversion for locales that
    use different numeral systems.
  why_it_matters: |
    Some locales use different digit characters. Arabic-Indic numerals
    (used in some Arabic-speaking countries) represent 1234 as .
    Users in these regions expect to see and input numbers in their
    native numeral system.
  when_to_run:
  - Before launching in Middle East/South Asia
  - When adding Arabic, Hindi, Thai language support
  - During deep localization efforts
  - When implementing number input fields
prerequisites:
  required_artifacts:
  - type: source_code
    description: Application source code
  - type: i18n_config
    description: Number formatting configuration
  - type: running_application
    description: Access to test number displays
  access_requirements:
  - Read access to source code
  - Access to running application
  - Ability to test with non-Latin numeral locales
discovery:
  file_patterns:
  - glob: '**/*number*'
    purpose: Find number handling code
  - glob: '**/*format*.{js,ts,tsx}'
    purpose: Find formatting utilities
  - glob: '**/locales/ar*.json'
    purpose: Find Arabic locales
knowledge_sources:
  guides:
  - id: mdn-numbering
    name: MDN Numbering Systems
    url: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat
  - id: cldr-numbering
    name: CLDR Numbering Systems
    url: https://cldr.unicode.org/translation/numbering-systems
  standards:
  - id: cldr
    name: Unicode CLDR
    relevance: Numbering system data
  - id: unicode-numerals
    name: Unicode Numeral Categories
    relevance: Digit character sets
tooling:
  analysis_tools:
  - tool: intl-numberformat
    purpose: Built-in numeral system support
signals:
  critical:
  - id: I18N-NUM-SYS-CRIT-001
    signal: Non-Latin numeral input rejected
    evidence_indicators:
    - Arabic-Indic digits fail validation
    - Input only accepts 0-9
    explanation: |
      Rejecting valid numeral systems prevents users from entering
      numbers in their native script.
    remediation: Accept and convert non-Latin numerals
  high:
  - id: I18N-NUM-SYS-HIGH-001
    signal: Numbers not displayed in native numeral system
    evidence_indicators:
    - Western digits shown in Arabic locales
    - No numberingSystem option used
    remediation: Use Intl.NumberFormat with appropriate numberingSystem
  - id: I18N-NUM-SYS-HIGH-002
    signal: Mixed numeral systems in same view
    evidence_indicators:
    - Some numbers in Arabic-Indic, others in Western
    - Inconsistent digit display
    remediation: Standardize numeral system display
  medium:
  - id: I18N-NUM-SYS-MED-001
    signal: Numeral system preference not configurable
    evidence_indicators:
    - No user preference for digit style
    - Can't override locale default
    remediation: Allow user numeral system preference
  - id: I18N-NUM-SYS-MED-002
    signal: Phone numbers don't use Latin numerals
    evidence_indicators:
    - Phone numbers in Arabic-Indic
    - International phone format issues
    remediation: Use Latin numerals for international formats
  low:
  - id: I18N-NUM-SYS-LOW-001
    signal: Numeric keyboard not matching numeral system
    remediation: Consider numeral system in keyboard layouts
  positive:
  - id: I18N-NUM-SYS-POS-001
    signal: Full numeral system support for target locales
  - id: I18N-NUM-SYS-POS-002
    signal: Numeral system input and display consistent
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Identify Target Numeral Systems
    description: Determine which numeral systems are needed
    duration_estimate: 15 min
  - id: '2'
    name: Test Display Formatting
    description: Verify numeral display in target locales
    duration_estimate: 30 min
  - id: '3'
    name: Test Input Handling
    description: Verify non-Latin numeral input works
    duration_estimate: 30 min
  - id: '4'
    name: Check Consistency
    description: Verify consistent numeral system usage
    duration_estimate: 20 min
  - id: '5'
    name: Review Exceptions
    description: Check formats that should use Latin numerals
    duration_estimate: 15 min
  - id: '6'
    name: Document Findings
    description: Compile numeral systems audit report
    duration_estimate: 20 min
output:
  deliverables:
  - type: numeral_system_assessment
    format: structured
    description: Numeral system support status
  - type: locale_testing
    format: tabular
    description: Numeral display by locale
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Display Analysis
    - Input Handling
    - Consistency Review
    - Recommendations
closeout_checklist:
- id: i18n-numsys-001
  item: Target numeral systems displayed correctly
  level: WARNING
  verification: manual
- id: i18n-numsys-002
  item: Non-Latin numeral input accepted
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - global-applications
    - middle-east-expansion
    - south-asia-expansion
    company_sizes:
    - startup
    - scaleup
    - enterprise
  compliance_mappings:
  - framework: Market-Requirements
    control: Local Numeral Systems
    description: Region numeral expectations
relationships:
  commonly_combined:
  - internationalization-localization.number-currency-formatting.number-formats
  - internationalization-localization.text-handling.unicode-support
  depends_on:
  - internationalization-localization.locale-detection.user-locale-detection
  feeds_into:
  - internationalization-localization.testing-validation.locale-coverage
