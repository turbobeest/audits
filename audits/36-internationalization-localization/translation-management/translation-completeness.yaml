audit:
  id: internationalization-localization.translation-management.translation-completeness
  name: Translation Completeness Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: internationalization-localization
  category_number: 36
  subcategory: translation-management
  tier: expert
  estimated_duration: 2-4 hours  # median: 3h
  completeness: requires_discovery
  requires_runtime: false
  destructive: false
execution:
  automatable: full
  severity: high
  scope: localization
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Examines translation coverage across all supported locales to identify
    missing, incomplete, or outdated translations. Analyzes translation files
    for gaps, untranslated strings, and placeholder keys that may have been
    left in production code.
  why_it_matters: |
    Incomplete translations create poor user experiences for international
    users, potentially displaying fallback text, raw translation keys, or
    mixed-language interfaces. This can damage brand perception and reduce
    engagement in key markets.
  when_to_run:
  - Before international launches
  - After adding new features with UI text
  - During localization QA cycles
  - When adding support for new locales
prerequisites:
  required_artifacts:
  - type: source_code
    description: Access to i18n implementation and codebase
  - type: translation_files
    description: All locale resource files (JSON, YAML, PO, XLIFF)
  - type: locale_manifest
    description: List of supported locales and their status
  access_requirements:
  - Read access to source code repository
  - Access to translation management system (if used)
  - List of officially supported locales
discovery:
  file_patterns:
  - glob: '**/locales/**/*.json'
    purpose: Find JSON locale resource files
  - glob: '**/translations/**/*.{json,yaml,yml}'
    purpose: Find translation files in various formats
  - glob: '**/messages/**/*.po'
    purpose: Find gettext PO files
  - glob: '**/i18n/**/*.xliff'
    purpose: Find XLIFF translation files
  - glob: '**/*.properties'
    purpose: Find Java properties files
knowledge_sources:
  guides:
  - id: w3c-i18n
    name: W3C Internationalization
    url: https://www.w3.org/International/
  - id: i18next-docs
    name: i18next Documentation
    url: https://www.i18next.com/
  standards:
  - id: cldr
    name: Unicode CLDR
    relevance: Locale data standard
  - id: xliff
    name: XLIFF 2.0
    relevance: Translation interchange format
tooling:
  analysis_tools:
  - tool: i18n-ally
    purpose: VSCode extension for translation management
    install: VSCode marketplace
  - tool: i18next-parser
    purpose: Extract translation keys from code
    install: npm install -g i18next-parser
  - tool: react-intl-translations-manager
    purpose: Manage react-intl translations
    install: npm install -D react-intl-translations-manager
  - tool: formatjs cli
    purpose: Extract and compile messages
    install: npm install -D @formatjs/cli
signals:
  critical:
  - id: I18N-CRIT-001
    signal: Missing translation files for supported locales
    evidence_indicators:
    - Locale declared in config but no translation file exists
    - Empty translation files for production locales
    explanation: |
      Missing translation files mean entire locales cannot be served,
      forcing users to see fallback content or errors.
    remediation: Create translation files for all supported locales
  - id: I18N-CRIT-002
    signal: Critical UI strings untranslated in production locales
    evidence_indicators:
    - Navigation, buttons, or error messages missing translations
    - Core user flows contain untranslated strings
    explanation: |
      Critical UI elements without translations break user experience
      and may prevent users from completing essential tasks.
    remediation: Prioritize translation of core UI strings immediately
  high:
  - id: I18N-HIGH-001
    signal: Translation coverage below threshold
    evidence_indicators:
    - Less than 95% of keys translated for production locales
    - Large sections of application untranslated
    remediation: Complete translations to meet coverage threshold
  - id: I18N-HIGH-002
    signal: Stale translations not updated with source changes
    evidence_indicators:
    - Source locale updated but target locales not synced
    - Translation timestamps significantly older than source
    remediation: Implement translation sync workflow with source changes
  medium:
  - id: I18N-MED-001
    signal: Placeholder or debug translations in production
    evidence_indicators:
    - Values like TODO, FIXME, or [TRANSLATE] in translation files
    - Lorem ipsum or dummy text in production locales
    remediation: Remove placeholder content and complete translations
  - id: I18N-MED-002
    signal: Inconsistent key coverage across locales
    evidence_indicators:
    - Some locales have extra keys not in source
    - Orphaned keys exist in some locales but not others
    remediation: Synchronize translation keys across all locales
  low:
  - id: I18N-LOW-001
    signal: Untranslated metadata or non-user-facing strings
    remediation: Evaluate if strings need translation and document exceptions
  - id: I18N-LOW-002
    signal: Missing translations for rarely used features
    remediation: Schedule translations for next release cycle
  positive:
  - id: I18N-POS-001
    signal: 100% translation coverage for all production locales
  - id: I18N-POS-002
    signal: Automated translation coverage monitoring in CI/CD
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Supported Locales
    description: Identify all locales the application claims to support
    duration_estimate: 15 min
    tools:
    - name: grep/find
      command: find . -name 'i18n*.{js,ts,json}' -o -name 'locales' -type d
  - id: '2'
    name: Extract Translation Keys from Source
    description: Parse codebase to find all translation keys in use
    duration_estimate: 30 min
    tools:
    - name: i18next-parser
      command: i18next-parser --config i18next-parser.config.js
    - name: formatjs extract
      command: formatjs extract 'src/**/*.{ts,tsx}' --out-file extracted.json
  - id: '3'
    name: Compare Key Coverage
    description: Compare extracted keys against each locale file
    duration_estimate: 45 min
    tools:
    - name: i18n-ally
      usage: Use VSCode extension to view coverage statistics
  - id: '4'
    name: Generate Coverage Report
    description: Create detailed report of translation completeness
    duration_estimate: 30 min
  - id: '5'
    name: Identify Critical Gaps
    description: Flag missing translations in critical user flows
    duration_estimate: 30 min
  - id: '6'
    name: Document Findings
    description: Compile findings and recommendations
    duration_estimate: 30 min
output:
  deliverables:
  - type: finding_list
    format: structured
    description: List of missing and incomplete translations
  - type: coverage_report
    format: tabular
    description: Translation coverage percentages by locale
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Coverage by Locale
    - Critical Gaps
    - Recommendations
    - Remediation Priority
closeout_checklist:
- id: i18n-complete-001
  item: All production locales have complete translation files
  level: ERROR
  verification: automated
- id: i18n-complete-002
  item: Coverage meets minimum threshold (95%+)
  level: WARNING
  verification: automated
- id: i18n-complete-003
  item: No placeholder translations in production
  level: WARNING
  verification: automated
- id: i18n-complete-004
  item: Translation sync process documented
  level: INFO
  verification: manual
governance:
  applicable_to:
    archetypes:
    - global-applications
    - multi-region-services
    - saas-platforms
    company_sizes:
    - startup
    - scaleup
    - enterprise
  compliance_mappings:
  - framework: WCAG
    control: 3.1.1
    description: Language of Page
  - framework: EU-Regulations
    control: Consumer Rights
    description: Content in user's language
relationships:
  commonly_combined:
  - internationalization-localization.translation-management.translation-quality
  - internationalization-localization.testing-validation.locale-coverage
  depends_on:
  - content-management.content-inventory
  feeds_into:
  - release-management.localization-readiness
