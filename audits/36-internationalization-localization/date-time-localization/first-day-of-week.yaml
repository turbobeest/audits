audit:
  id: internationalization-localization.date-time-localization.first-day-of-week
  name: First Day of Week Configuration Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: internationalization-localization
  category_number: 36
  subcategory: date-time-localization
  tier: expert
  estimated_duration: 1-2 hours  # median: 1h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: low
  scope: localization
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates whether the application correctly handles first day of week
    conventions which vary by locale. Most of the world uses Monday as the
    first day of the week, while the US, Canada, and Japan use Sunday.
    Some Middle Eastern countries use Saturday.
  why_it_matters: |
    Using the wrong first day of week in calendars, date pickers, and
    weekly views confuses users and appears unprofessional. It affects
    week number calculations and can cause scheduling issues.
  when_to_run:
  - Before international launches
  - When implementing calendar features
  - During localization testing
  - When adding date picker components
prerequisites:
  required_artifacts:
  - type: source_code
    description: Application source code
  - type: calendar_components
    description: Calendar and date picker components
  - type: i18n_config
    description: Locale configuration
  access_requirements:
  - Read access to source code
  - Access to running application
  - Ability to switch locales
discovery:
  file_patterns:
  - glob: '**/*calendar*'
    purpose: Find calendar components
  - glob: '**/*datepicker*'
    purpose: Find date picker components
  - glob: '**/*week*'
    purpose: Find week-related code
knowledge_sources:
  guides:
  - id: cldr-week-data
    name: CLDR Week Data
    url: https://cldr.unicode.org/development/development-process/design-proposals/first-day-of-week
  - id: wikipedia-fdow
    name: Wikipedia First Day of Week
    url: https://en.wikipedia.org/wiki/Week#Week_numbering
  standards:
  - id: cldr
    name: Unicode CLDR
    relevance: First day of week by locale
  - id: iso-8601
    name: ISO 8601
    relevance: ISO week starts Monday
tooling:
  analysis_tools:
  - tool: cldr-data
    purpose: CLDR locale data
    install: npm install cldr-data
  - tool: date-fns
    purpose: getWeekStartDay function
    install: npm install date-fns
signals:
  critical:
  - id: I18N-FDOW-CRIT-001
    signal: Calendar always starts on same day regardless of locale
    evidence_indicators:
    - Hardcoded weekStartsOn value
    - Sunday start for German users
    explanation: |
      Wrong first day of week makes calendars confusing and
      gives a non-localized impression.
    remediation: Use CLDR data for first day of week
  high:
  - id: I18N-FDOW-HIGH-001
    signal: Week number calculations incorrect for locale
    evidence_indicators:
    - Week numbers don't match locale expectations
    - ISO week used where not appropriate
    remediation: Use locale-appropriate week numbering
  medium:
  - id: I18N-FDOW-MED-001
    signal: First day configurable but not defaulting to locale
    evidence_indicators:
    - User can change but default is wrong
    - No automatic locale detection
    remediation: Default to locale-appropriate first day
  - id: I18N-FDOW-MED-002
    signal: Inconsistent first day across calendar views
    evidence_indicators:
    - Date picker uses different first day than calendar
    - Inconsistent between components
    remediation: Standardize first day configuration
  low:
  - id: I18N-FDOW-LOW-001
    signal: No user preference for first day
    remediation: Allow users to override locale default
  positive:
  - id: I18N-FDOW-POS-001
    signal: First day of week respects user locale
  - id: I18N-FDOW-POS-002
    signal: Consistent across all calendar components
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Calendar Components
    description: Find all calendar/week displays
    duration_estimate: 15 min
  - id: '2'
    name: Check Configuration
    description: Review first day of week configuration
    duration_estimate: 20 min
  - id: '3'
    name: Test Multiple Locales
    description: Verify correct first day in different locales
    duration_estimate: 30 min
  - id: '4'
    name: Check Consistency
    description: Compare across all calendar components
    duration_estimate: 15 min
  - id: '5'
    name: Document Findings
    description: Compile first day of week audit report
    duration_estimate: 15 min
output:
  deliverables:
  - type: fdow_assessment
    format: structured
    description: First day of week handling status
  - type: locale_testing
    format: tabular
    description: First day verification by locale
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Configuration Analysis
    - Locale Testing Results
    - Recommendations
closeout_checklist:
- id: i18n-fdow-001
  item: First day of week matches locale
  level: WARNING
  verification: manual
- id: i18n-fdow-002
  item: Consistent across all components
  level: INFO
  verification: manual
governance:
  applicable_to:
    archetypes:
    - global-applications
    - calendar-applications
    company_sizes:
    - startup
    - scaleup
    - enterprise
  compliance_mappings:
  - framework: UX-Standards
    control: Calendar Display
    description: Locale-appropriate calendar
relationships:
  commonly_combined:
  - internationalization-localization.date-time-localization.calendar-support
  - internationalization-localization.date-time-localization.date-input-parsing
  depends_on:
  - internationalization-localization.locale-detection.user-locale-detection
  feeds_into:
  - internationalization-localization.testing-validation.locale-coverage
