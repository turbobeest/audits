audit:
  id: sensors-physical-systems.power-management.ups-systems
  name: UPS Systems Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: sensors-physical-systems
  category_number: 38
  subcategory: power-management
  tier: expert
  estimated_duration: 4-6 hours  # median: 5h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: physical-systems
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates uninterruptible power supply systems including topology verification,
    load capacity, bypass operation, transfer testing, redundancy configuration,
    and monitoring/alerting. Reviews integration with shutdown systems and
    generator coordination.
  why_it_matters: |
    UPS systems protect critical equipment from power disturbances. Improperly
    configured or maintained UPS systems can fail when needed most, causing
    unplanned outages and data loss. Regular verification ensures protection
    is effective.
  when_to_run:
  - During UPS installation
  - After load changes
  - During maintenance windows
  - After UPS failures
  - During data center audits
prerequisites:
  required_artifacts:
  - type: ups_specs
    description: UPS specifications and configuration
  - type: load_inventory
    description: Connected load documentation
  - type: maintenance_records
    description: UPS maintenance history
  access_requirements:
  - UPS system access
  - Load measurement capability
  - Transfer testing capability
  - Monitoring system access
discovery:
  file_patterns:
  - glob: '**/*ups*.c'
    purpose: Find UPS integration code
  - glob: '**/*power_backup*.c'
    purpose: Find backup power code
  - glob: '**/*shutdown*.c'
    purpose: Find shutdown integration
  - glob: '**/config/*ups*.yaml'
    purpose: Find UPS configuration
knowledge_sources:
  guides:
  - id: ups-guide
    name: UPS System Design Guide
    url: https://www.schneider-electric.com/
  - id: data-center-power
    name: Data Center Power
    url: https://www.uptimeinstitute.com/
  standards:
  - id: iec-62040
    name: IEC 62040 UPS Standards
    relevance: UPS requirements
  - id: nfpa-111
    name: NFPA 111 Emergency Power
    relevance: Emergency power systems
  - id: nec-article-645
    name: NEC Article 645
    relevance: IT equipment power
tooling:
  analysis_tools:
  - tool: power-analyzer
    purpose: Load measurement
  - tool: ups-diagnostic
    purpose: UPS system diagnostics
  - tool: load-bank
    purpose: Capacity testing
  - tool: event-logger
    purpose: Transfer event logging
signals:
  critical:
  - id: SPS-UPS-CRIT-001
    signal: UPS capacity insufficient for load
    evidence_indicators:
    - Load exceeds UPS rating
    - Insufficient runtime
    - Overload warnings
    explanation: |
      An overloaded UPS will either fail to protect the load during an
      outage or shut down prematurely. Connected equipment will experience
      uncontrolled power loss.
    remediation: Reduce load or upgrade UPS capacity
  - id: SPS-UPS-CRIT-002
    signal: UPS bypass stuck or inoperable
    evidence_indicators:
    - Cannot transfer to bypass
    - Maintenance bypass failed
    - Single point of failure
    explanation: |
      A non-functioning bypass prevents maintenance without load outage
      and creates risk of total power loss if UPS fails with no bypass
      path.
    remediation: Repair bypass function
  high:
  - id: SPS-UPS-HIGH-001
    signal: Transfer time exceeds load tolerance
    evidence_indicators:
    - Equipment resetting on transfer
    - Transfer time not measured
    - Load requires zero break
    remediation: Upgrade to online UPS or condition-sensitive loads
  - id: SPS-UPS-HIGH-002
    signal: Redundancy not properly configured
    evidence_indicators:
    - N+1 not achieved
    - Single UPS failure causes outage
    - Load not distributed
    remediation: Configure proper redundancy
  medium:
  - id: SPS-UPS-MED-001
    signal: UPS monitoring incomplete
    evidence_indicators:
    - No remote monitoring
    - Alarms not routed
    - Status unknown
    remediation: Implement comprehensive monitoring
  - id: SPS-UPS-MED-002
    signal: Generator coordination not tested
    evidence_indicators:
    - Transfer to generator untested
    - Recharge during generator unknown
    - Retransfer not verified
    remediation: Test full power failure scenario
  low:
  - id: SPS-UPS-LOW-001
    signal: UPS system not documented
    evidence_indicators:
    - Configuration not recorded
    - Connected loads not listed
    - Maintenance history missing
    remediation: Document UPS system
  - id: SPS-UPS-LOW-002
    signal: No UPS efficiency optimization
    evidence_indicators:
    - Operating in inefficient mode
    - Energy savings possible
    - ECO mode not evaluated
    remediation: Evaluate efficiency improvements
  positive:
  - id: SPS-UPS-POS-001
    signal: UPS system properly sized and configured
    evidence_indicators:
    - Adequate capacity margin
    - Proper redundancy
    - Transfer verified
  - id: SPS-UPS-POS-002
    signal: Comprehensive power protection
    evidence_indicators:
    - Monitoring effective
    - Generator coordinated
    - Shutdown integrated
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Review UPS Configuration
    description: Understand UPS topology and settings
    duration_estimate: 30 min
  - id: '2'
    name: Measure Load
    description: Verify actual load vs capacity
    duration_estimate: 45 min
  - id: '3'
    name: Test Transfer Operation
    description: Verify transfer functionality
    duration_estimate: 45 min
  - id: '4'
    name: Verify Redundancy
    description: Test redundancy configuration
    duration_estimate: 30 min
  - id: '5'
    name: Review Monitoring
    description: Assess monitoring and alerting
    duration_estimate: 30 min
  - id: '6'
    name: Check Shutdown Integration
    description: Verify graceful shutdown
    duration_estimate: 30 min
  - id: '7'
    name: Document Findings
    description: Compile findings and recommendations
    duration_estimate: 20 min
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Capacity Assessment
    - Transfer Testing
    - Redundancy Review
    - Recommendations
closeout_checklist:
- id: sps-ups-001
  item: Capacity adequate for load
  level: CRITICAL
  verification: manual
- id: sps-ups-002
  item: Transfer verified functional
  level: WARNING
  verification: manual
- id: sps-ups-003
  item: Redundancy configured correctly
  level: WARNING
  verification: manual
governance:
  applicable_to:
    archetypes:
    - data-centers
    - control-rooms
    - critical-infrastructure
    - healthcare
  compliance_mappings:
  - framework: IEC 62040
    control: UPS Standards
    description: UPS requirements
  - framework: Uptime Institute
    control: Tier Standards
    description: Data center power
  - framework: Joint Commission
    control: EC.02.05.03
    description: Healthcare emergency power
relationships:
  commonly_combined:
  - sensors-physical-systems.power-management.battery-systems
  - sensors-physical-systems.power-management.power-supply-monitoring
  depends_on:
  - electrical.power-distribution
  feeds_into:
  - reliability.power-reliability
  - business-continuity.power-continuity
