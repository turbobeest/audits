# ============================================================
# AUDIT: Vibration Monitoring
# Category: 38 - Sensors & Physical Systems
# Subcategory: environmental-monitoring
# ============================================================

audit:
  id: "sensors-physical-systems.environmental-monitoring.vibration-monitoring"
  name: "Vibration Monitoring Audit"
  version: "1.0.0"
  last_updated: "2025-01-22"
  status: "active"

  category: "sensors-physical-systems"
  category_number: 38
  subcategory: "environmental-monitoring"

  tier: "expert"
  estimated_duration: "5-7 hours"  # median: 6h

  completeness: "requires_discovery"
  requires_runtime: true
  destructive: false

execution:
  automatable: "partial"
  severity: "high"
  scope: "physical-systems"

  default_profiles:
    - "full"
    - "quick"

  blocks_phase: false
  parallelizable: true

description:
  what: |
    Evaluates vibration monitoring systems including sensor selection (accelerometers,
    velocity transducers, proximity probes), mounting, measurement parameters
    (overall, spectral, time waveform), alarm thresholds, and integration with
    condition monitoring programs.

  why_it_matters: |
    Vibration monitoring enables early detection of mechanical problems like
    imbalance, misalignment, bearing wear, and looseness. Early detection
    prevents catastrophic failures, reduces unplanned downtime, and extends
    equipment life through predictive maintenance.

  when_to_run:
    - "During condition monitoring setup"
    - "After equipment installation"
    - "When vibration issues arise"
    - "During predictive maintenance reviews"
    - "After major repairs"

prerequisites:
  required_artifacts:
    - type: "machine_specs"
      description: "Rotating equipment specifications"
    - type: "sensor_specs"
      description: "Vibration sensor specifications"
    - type: "baseline_data"
      description: "Baseline vibration measurements"

  access_requirements:
    - "Physical access to machinery"
    - "Vibration analyzer access"
    - "Condition monitoring database"
    - "Equipment history"

discovery:
  file_patterns:
    - glob: "**/*vibration*.c"
      purpose: "Find vibration code"
    - glob: "**/*accelerometer*.c"
      purpose: "Find accelerometer code"
    - glob: "**/*condition_monitor*.c"
      purpose: "Find condition monitoring code"
    - glob: "**/config/*machinery*.yaml"
      purpose: "Find machinery configuration"

knowledge_sources:
  guides:
    - id: "iso-10816"
      name: "ISO 10816 Vibration Guidelines"
      url: "https://www.iso.org/"
    - id: "vibration-handbook"
      name: "Machinery Vibration Handbook"
      url: "https://www.reliableplant.com/"

  standards:
    - id: "iso-10816"
      name: "ISO 10816 Mechanical Vibration"
      relevance: "Vibration severity evaluation"
    - id: "iso-13373"
      name: "ISO 13373 Condition Monitoring"
      relevance: "Vibration condition monitoring"
    - id: "api-670"
      name: "API 670 Machinery Protection"
      relevance: "Critical machinery protection"

tooling:
  analysis_tools:
    - tool: "vibration-analyzer"
      purpose: "Data collection and analysis"
    - tool: "spectrum-analyzer"
      purpose: "Frequency analysis"
    - tool: "balancing-kit"
      purpose: "Balance verification"
    - tool: "alignment-tool"
      purpose: "Alignment verification"

signals:
  critical:
    - id: "SPS-VIB-CRIT-001"
      signal: "Critical machinery protection system fault"
      evidence_indicators:
        - "Protection system bypassed"
        - "Sensors failed or disconnected"
        - "Alarm setpoints too high"
      explanation: |
        Critical machinery protection systems prevent catastrophic failures.
        Faults in these systems leave expensive equipment unprotected and
        can result in major damage, safety incidents, or production loss.
      remediation: "Restore full protection system functionality immediately"

    - id: "SPS-VIB-CRIT-002"
      signal: "Vibration levels in danger zone"
      evidence_indicators:
        - "Overall vibration exceeds danger limit"
        - "Specific fault frequencies growing rapidly"
        - "Machine condition deteriorating quickly"
      explanation: |
        Machines operating in the danger zone can fail catastrophically at
        any moment. Continued operation risks severe equipment damage,
        safety hazards, and unplanned downtime.
      remediation: "Shut down for immediate inspection and repair"

  high:
    - id: "SPS-VIB-HIGH-001"
      signal: "Vibration trending upward"
      evidence_indicators:
        - "Consistent increase over time"
        - "Approaching alarm limits"
        - "Spectral changes indicating fault"
      remediation: "Schedule maintenance before reaching alarm level"

    - id: "SPS-VIB-HIGH-002"
      signal: "Sensor mounting compromised"
      evidence_indicators:
        - "Loose mounting detected"
        - "Resonances from mount"
        - "Intermittent readings"
      remediation: "Resecure sensor mounting per specifications"

  medium:
    - id: "SPS-VIB-MED-001"
      signal: "Baseline not established"
      evidence_indicators:
        - "No reference data available"
        - "Cannot trend changes"
        - "Normal levels unknown"
      remediation: "Collect comprehensive baseline data"

    - id: "SPS-VIB-MED-002"
      signal: "Monitoring coverage incomplete"
      evidence_indicators:
        - "Not all critical machines monitored"
        - "Not all measurement locations covered"
        - "Manual collection only on some machines"
      remediation: "Expand monitoring coverage to all critical equipment"

  low:
    - id: "SPS-VIB-LOW-001"
      signal: "Vibration program not documented"
      evidence_indicators:
        - "No monitoring procedures"
        - "Alarm limits not justified"
        - "Analysis methods not defined"
      remediation: "Document vibration monitoring program"

    - id: "SPS-VIB-LOW-002"
      signal: "Staff training inadequate"
      evidence_indicators:
        - "Basic vibration concepts not understood"
        - "Data collection inconsistent"
        - "Analysis skills lacking"
      remediation: "Provide vibration analysis training"

  positive:
    - id: "SPS-VIB-POS-001"
      signal: "Comprehensive vibration program"
      evidence_indicators:
        - "All critical machines covered"
        - "Continuous and route-based monitoring"
        - "Effective analysis and trending"

    - id: "SPS-VIB-POS-002"
      signal: "Predictive maintenance enabled"
      evidence_indicators:
        - "Faults detected early"
        - "Repairs planned proactively"
        - "Unplanned failures reduced"

procedure:
  context:
    cognitive_mode: "analytical"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Inventory Monitored Equipment"
      description: "Catalog all monitored machinery"
      duration_estimate: "30 min"

    - id: "2"
      name: "Review Sensor Installation"
      description: "Verify sensor mounting and selection"
      duration_estimate: "60 min"

    - id: "3"
      name: "Assess Monitoring Coverage"
      description: "Evaluate measurement point adequacy"
      duration_estimate: "45 min"

    - id: "4"
      name: "Review Alarm Configuration"
      description: "Verify alarm thresholds"
      duration_estimate: "30 min"

    - id: "5"
      name: "Evaluate Analysis Capability"
      description: "Assess diagnosis capabilities"
      duration_estimate: "45 min"

    - id: "6"
      name: "Review Trending"
      description: "Check historical data and trending"
      duration_estimate: "30 min"

    - id: "7"
      name: "Document Findings"
      description: "Compile findings and recommendations"
      duration_estimate: "30 min"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Equipment Coverage"
        - "Sensor Assessment"
        - "Program Effectiveness"
        - "Recommendations"

closeout_checklist:
  - id: "sps-vib-001"
    item: "Critical machinery protected"
    level: "CRITICAL"
    verification: "manual"

  - id: "sps-vib-002"
    item: "Sensors properly installed"
    level: "WARNING"
    verification: "manual"

  - id: "sps-vib-003"
    item: "Baselines established"
    level: "INFO"
    verification: "manual"

governance:
  applicable_to:
    archetypes: ["manufacturing", "power-generation", "oil-gas", "process-industries"]

  compliance_mappings:
    - framework: "ISO 10816"
      control: "Vibration Limits"
      description: "Vibration severity evaluation"
    - framework: "API 670"
      control: "Machinery Protection"
      description: "Protection system requirements"
    - framework: "ISO 13379"
      control: "Diagnostics"
      description: "Condition monitoring diagnostics"

relationships:
  commonly_combined:
    - "sensors-physical-systems.environmental-monitoring.temperature-sensing"
    - "maintenance.predictive-maintenance"
  depends_on:
    - "sensors-physical-systems.data-acquisition.signal-processing"
  feeds_into:
    - "reliability.machinery-reliability"
    - "maintenance.condition-based-maintenance"
