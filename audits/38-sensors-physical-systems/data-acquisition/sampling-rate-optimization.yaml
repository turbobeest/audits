audit:
  id: sensors-physical-systems.data-acquisition.sampling-rate-optimization
  name: Sampling Rate Optimization Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: sensors-physical-systems
  category_number: 38
  subcategory: data-acquisition
  tier: expert
  estimated_duration: 3-5 hours  # median: 4h
  completeness: requires_discovery
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: physical-systems
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Reviews sampling rate selection and configuration for data acquisition systems.
    Evaluates adherence to Nyquist criteria, oversampling strategies, sampling
    jitter, sample timing synchronization, and resource utilization. Assesses
    balance between data quality, storage requirements, and processing capacity.
  why_it_matters: |
    Incorrect sampling rates can cause aliasing, missed events, or excessive
    resource consumption. Optimal sampling rates capture all required signal
    information while minimizing data storage, transmission bandwidth, and
    processing overhead.
  when_to_run:
  - During data acquisition design
  - When adding new sensors
  - After signal bandwidth changes
  - During system optimization
  - When storage or bandwidth limited
prerequisites:
  required_artifacts:
  - type: signal_specs
    description: Signal bandwidth and frequency content
  - type: daq_config
    description: Data acquisition configuration
  - type: requirements
    description: Application measurement requirements
  access_requirements:
  - Access to DAQ configuration
  - Access to signal analysis tools
  - Ability to modify sampling rates
  - Storage and bandwidth metrics
discovery:
  file_patterns:
  - glob: '**/daq/**'
    purpose: Find data acquisition code
  - glob: '**/*sample*.c'
    purpose: Find sampling code
  - glob: '**/adc/**'
    purpose: Find ADC configuration
  - glob: '**/config/*daq*.yaml'
    purpose: Find DAQ configuration
knowledge_sources:
  guides:
  - id: nyquist-shannon
    name: Nyquist-Shannon Sampling Theorem
    url: https://www.ni.com/en-us/innovations/white-papers/06/signal-sampling.html
  - id: oversampling
    name: Oversampling and Noise Shaping
    url: https://www.analog.com/
  standards:
  - id: ieee-1057
    name: IEEE 1057 Digitizing Waveform Recorders
    relevance: Sampling standards
  - id: iec-61869
    name: IEC 61869 Instrument Transformers
    relevance: Power system sampling
tooling:
  analysis_tools:
  - tool: spectrum-analyzer
    purpose: Signal frequency analysis
  - tool: timing-analyzer
    purpose: Sample timing analysis
  - tool: performance-monitor
    purpose: Resource utilization monitoring
  - tool: data-logger
    purpose: Data volume analysis
signals:
  critical:
  - id: SPS-SMP-CRIT-001
    signal: Sampling rate violates Nyquist criterion
    evidence_indicators:
    - Sampling rate less than 2x signal bandwidth
    - Aliasing observed in frequency domain
    - No anti-aliasing filter present
    explanation: |
      Violating the Nyquist criterion causes aliasing where high-frequency
      content appears as false low-frequency signals. This fundamentally
      corrupts the acquired data in ways that cannot be corrected.
    remediation: Increase sampling rate or add anti-aliasing filter
  - id: SPS-SMP-CRIT-002
    signal: Safety-critical event timing not captured
    evidence_indicators:
    - Sampling too slow for transient events
    - Critical events missed between samples
    - Peak values not captured
    explanation: |
      Safety-critical systems must capture all relevant events. Sampling
      too slowly can miss transient conditions that require immediate
      response.
    remediation: Increase sampling rate to capture all safety-relevant events
  high:
  - id: SPS-SMP-HIGH-001
    signal: Sampling jitter affects measurement accuracy
    evidence_indicators:
    - Variable sample timing
    - Jitter exceeds specification
    - Timing accuracy degraded
    remediation: Reduce sample timing jitter through hardware or software improvements
  - id: SPS-SMP-HIGH-002
    signal: Multi-channel sample synchronization inadequate
    evidence_indicators:
    - Channels sampled at different times
    - Skew between related signals
    - Phase relationships corrupted
    remediation: Implement simultaneous sampling or proper skew compensation
  medium:
  - id: SPS-SMP-MED-001
    signal: Oversampling ratio excessive
    evidence_indicators:
    - Sampling rate far exceeds requirements
    - Excessive data storage consumed
    - Unnecessary processing overhead
    remediation: Optimize sampling rate for actual requirements
  - id: SPS-SMP-MED-002
    signal: Sampling rate not adaptive to conditions
    evidence_indicators:
    - Same rate used regardless of signal
    - No event-triggered sampling
    - Bandwidth wasted during quiet periods
    remediation: Consider adaptive or event-triggered sampling
  low:
  - id: SPS-SMP-LOW-001
    signal: Sampling rate selection not documented
    evidence_indicators:
    - No justification for chosen rates
    - Signal bandwidth not documented
    - Nyquist analysis not performed
    remediation: Document sampling rate selection rationale
  - id: SPS-SMP-LOW-002
    signal: No monitoring of sampling performance
    evidence_indicators:
    - Sample timing not verified
    - Dropped samples not detected
    - No sampling quality metrics
    remediation: Implement sampling performance monitoring
  positive:
  - id: SPS-SMP-POS-001
    signal: Sampling rates properly designed for signal content
    evidence_indicators:
    - Nyquist criterion satisfied with margin
    - Oversampling appropriate for noise reduction
    - Resource usage optimized
  - id: SPS-SMP-POS-002
    signal: Synchronous sampling across related channels
    evidence_indicators:
    - Simultaneous sample and hold
    - Timing skew calibrated
    - Phase relationships preserved
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Characterize Signal Bandwidth
    description: Determine frequency content of all signals
    duration_estimate: 45 min
  - id: '2'
    name: Review Sampling Configuration
    description: Document current sampling rates
    duration_estimate: 20 min
  - id: '3'
    name: Verify Nyquist Compliance
    description: Check sampling against bandwidth requirements
    duration_estimate: 30 min
  - id: '4'
    name: Analyze Sample Timing
    description: Measure jitter and synchronization
    duration_estimate: 45 min
  - id: '5'
    name: Assess Resource Utilization
    description: Evaluate storage and processing impact
    duration_estimate: 30 min
  - id: '6'
    name: Identify Optimization Opportunities
    description: Find opportunities for rate optimization
    duration_estimate: 20 min
  - id: '7'
    name: Document Findings
    description: Compile findings and recommendations
    duration_estimate: 20 min
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Signal Analysis
    - Sampling Rate Assessment
    - Timing Analysis
    - Recommendations
closeout_checklist:
- id: sps-smp-001
  item: All sampling rates meet Nyquist criterion
  level: CRITICAL
  verification: manual
- id: sps-smp-002
  item: Sample timing jitter acceptable
  level: WARNING
  verification: manual
- id: sps-smp-003
  item: Resource utilization optimized
  level: INFO
  verification: manual
governance:
  applicable_to:
    archetypes:
    - iot-systems
    - industrial-automation
    - test-measurement
    - audio-systems
  compliance_mappings:
  - framework: IEEE 1057
    control: Sampling Requirements
    description: Waveform digitizing standards
  - framework: IEC 61508
    control: 7.4.5
    description: Input/output device requirements
  - framework: IEC 61869-9
    control: Sampling
    description: Power quality measurement
relationships:
  commonly_combined:
  - sensors-physical-systems.data-acquisition.signal-processing
  - sensors-physical-systems.data-acquisition.data-quality-validation
  depends_on:
  - sensors-physical-systems.sensor-integration.sensor-protocol-compliance
  feeds_into:
  - storage.data-volume-management
  - performance.processing-optimization
