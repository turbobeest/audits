audit:
  id: documentation-knowledge.operational-docs.deployment-guides
  name: Deployment Guides Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: documentation-knowledge
  category_number: 27
  subcategory: operational-docs
  tier: expert
  estimated_duration: 2-4 hours  # median: 3h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates deployment documentation including deployment
    procedures, environment configurations, deployment prerequisites,
    rollback procedures, and post-deployment verification steps. The audit
    examines whether deployment guides enable safe, consistent deployments
    across different environments and team members.
  why_it_matters: |
    Deployment documentation directly impacts release reliability and velocity.
    Poor deployment guides lead to failed deployments, production incidents,
    inconsistent environments, and deployment fear that slows delivery. Good
    deployment documentation enables safe, frequent releases with confidence,
    supporting continuous delivery practices.
  when_to_run:
  - When establishing new deployment pipelines
  - After deployment-related incidents
  - When onboarding new team members to deployment
  - During CI/CD maturity assessments
prerequisites:
  required_artifacts:
  - type: deployment_documentation
    description: Access to deployment guides and runbooks
  - type: deployment_pipelines
    description: Understanding of deployment automation
  access_requirements:
  - Read access to deployment documentation
  - Read access to CI/CD pipeline configurations
  - Access to deployment team for interviews
discovery:
  file_patterns:
  - glob: '**/deploy*.md'
    purpose: Find deployment documentation
  - glob: '**/DEPLOYMENT.md'
    purpose: Find deployment readme files
  - glob: '**/docs/deployment/**/*'
    purpose: Find deployment docs directory
  - glob: '**/.deploy/**/*'
    purpose: Find deployment configuration
  - glob: '**/release*.md'
    purpose: Find release documentation
  - glob: '**/ci/**/*.yaml'
    purpose: Find CI/CD pipeline definitions
  interview_questions:
  - role: Release Engineer
    questions:
    - How do you prepare for a deployment?
    - What documentation do you reference during deployments?
    - What steps are manual vs automated?
    - How do you handle rollbacks?
knowledge_sources:
  guides:
  - id: continuous-delivery
    name: Continuous Delivery (Humble/Farley)
    relevance: Industry standard for deployment practices
  - id: google-sre-release
    name: Google SRE - Release Engineering
    url: https://sre.google/sre-book/release-engineering/
    offline_cache: true
tooling:
  analysis_commands:
  - purpose: Find all deployment-related documentation
    command: find . -type f -name '*.md' | xargs grep -l -i 'deploy\|release' | head -20
  - purpose: Check for rollback documentation
    command: grep -r -l 'rollback' --include='*.md' docs/
  - purpose: Identify deployment scripts
    command: find . -type f \( -name 'deploy*.sh' -o -name 'release*.sh' \)
signals:
  critical:
  - id: DEPLOY-CRIT-001
    signal: No deployment documentation exists
    evidence_indicators:
    - Deployments done from memory or tribal knowledge
    - No written deployment procedures
    - Only verbal handoff of deployment knowledge
    explanation: |
      Without deployment documentation, releases depend on specific
      individuals being available. This creates significant risk during
      staff transitions and can halt releases entirely.
    remediation: Document current deployment process immediately
  - id: DEPLOY-CRIT-002
    signal: No rollback procedure documented
    evidence_indicators:
    - Teams uncertain how to rollback
    - Rollback never tested
    - No documented rollback steps
    explanation: |
      Without rollback documentation, failed deployments can result in
      extended outages while teams figure out how to revert changes.
    remediation: Document and test rollback procedures for all deployment types
  high:
  - id: DEPLOY-HIGH-001
    signal: Deployment guides outdated after pipeline changes
    evidence_indicators:
    - Documentation references deprecated tools
    - Steps don't match current pipeline
    - Environment configurations incorrect
    explanation: |
      Outdated deployment guides cause confusion and errors during
      deployments, potentially leading to production issues.
    remediation: Update deployment documentation with each pipeline change
  - id: DEPLOY-HIGH-002
    signal: Environment-specific configuration undocumented
    evidence_indicators:
    - Secrets and configs not documented
    - Environment differences not clear
    - Teams guess at configuration values
    explanation: |
      Undocumented configuration leads to environment inconsistencies
      and deployment failures when configurations are missed.
    remediation: Document all environment-specific configurations
  - id: DEPLOY-HIGH-003
    signal: Post-deployment verification steps missing
    evidence_indicators:
    - No smoke test documentation
    - Deployment considered complete without verification
    - Health checks not documented
    explanation: |
      Without post-deployment verification, issues may go unnoticed
      until users report problems.
    remediation: Add verification checklist to deployment guides
  medium:
  - id: DEPLOY-MED-001
    signal: Deployment prerequisites not clearly documented
    explanation: |
      Missing prerequisites leads to failed deployments when required
      conditions aren't met.
    remediation: Add prerequisite checklist to deployment guides
  - id: DEPLOY-MED-002
    signal: Manual deployment steps not clearly marked
    remediation: Clearly identify manual vs automated steps
  - id: DEPLOY-MED-003
    signal: Deployment timing and coordination not documented
    remediation: Document deployment windows and coordination requirements
  low:
  - id: DEPLOY-LOW-001
    signal: Deployment guides inconsistent across services
    remediation: Standardize deployment documentation format
  - id: DEPLOY-LOW-002
    signal: No deployment troubleshooting section
    remediation: Add common issues and resolutions
  positive:
  - id: DEPLOY-POS-001
    signal: Comprehensive deployment guides for all services
  - id: DEPLOY-POS-002
    signal: Deployment documentation version controlled
  - id: DEPLOY-POS-003
    signal: Rollback tested and documented for all environments
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Deployable Components
    description: |
      Identify all services and components that require deployment
      documentation.
    duration_estimate: 30 min
    commands:
    - purpose: List deployable services
      command: find . -name 'Dockerfile' -o -name 'deployment.yaml' | xargs dirname | sort -u
    - purpose: Find CI/CD pipeline definitions
      command: find . -name '*.yml' -path '*/.github/*' -o -name 'Jenkinsfile' -o -name '.gitlab-ci.yml'
    expected_findings:
    - List of all deployable components
    - Deployment pipeline overview
  - id: '2'
    name: Locate Deployment Documentation
    description: |
      Find all existing deployment documentation and map to services.
    duration_estimate: 30 min
    commands:
    - purpose: Find deployment documentation
      command: find . -type f -name '*.md' -exec grep -l -i 'deployment\|deploy' {} \;
    expected_findings:
    - Documentation coverage matrix
    - Services lacking deployment docs
  - id: '3'
    name: Evaluate Documentation Completeness
    description: |
      Review deployment guides for required sections and information.
    duration_estimate: 45 min
    quality_checklist:
    - Prerequisites and dependencies
    - Environment configuration requirements
    - Step-by-step deployment procedure
    - Post-deployment verification steps
    - Rollback procedure
    - Troubleshooting common issues
    - Contact information for support
    expected_findings:
    - Completeness score for each guide
    - Common missing sections
  - id: '4'
    name: Validate Documentation Accuracy
    description: |
      Verify deployment documentation matches current practices and
      pipeline configurations.
    duration_estimate: 45 min
    validation_methods:
    - Compare documented steps with CI/CD pipeline
    - Verify environment configurations
    - Check command syntax and paths
    expected_findings:
    - Accuracy assessment
    - Discrepancies identified
  - id: '5'
    name: Test Rollback Documentation
    description: |
      Verify rollback procedures are documented and accurate.
    duration_estimate: 30 min
    questions:
    - Is rollback automated or manual?
    - How long does rollback take?
    - What data implications exist for rollback?
    - When was rollback last tested?
    expected_findings:
    - Rollback readiness assessment
    - Gaps in rollback procedures
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Documentation Coverage
    - Completeness Assessment
    - Accuracy Validation
    - Recommendations
  confidence_guidance:
    high: Documentation validated through actual deployment execution
    medium: Documentation reviewed against pipeline configuration
    low: Existence check and brief content review
closeout_checklist:
- id: deploy-001
  item: All services have deployment documentation
  level: CRITICAL
  verification: manual
  verification_notes: Compare service inventory with documentation
  expected: 100% coverage
- id: deploy-002
  item: Rollback procedures documented for all services
  level: CRITICAL
  verification: grep -r 'rollback' --include='*.md' docs/deployment/
  expected: Rollback section in all deployment guides
- id: deploy-003
  item: Post-deployment verification steps documented
  level: BLOCKING
  verification: manual
  verification_notes: Check for verification/smoke test sections
  expected: All guides include verification
- id: deploy-004
  item: Environment configurations documented
  level: WARNING
  verification: manual
  verification_notes: Verify config documentation per environment
  expected: All environments documented
governance:
  applicable_to:
    archetypes:
    - all-services
    - deployable-components
  compliance_mappings:
  - framework: SOC 2
    control: CC8.1
    description: Change management procedures documented
relationships:
  commonly_combined:
  - documentation-knowledge.operational-docs.runbook-documentation
  - cicd.deployment-pipeline
  feeds_into:
  - release-management.release-quality
  - devops.deployment-velocity
