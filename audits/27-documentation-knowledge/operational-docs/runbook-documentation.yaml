audit:
  id: documentation-knowledge.operational-docs.runbook-documentation
  name: Runbook Documentation Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: documentation-knowledge
  category_number: 27
  subcategory: operational-docs
  tier: expert
  estimated_duration: 2-4 hours  # median: 3h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  - quick
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates the completeness, accuracy, and usability of operational
    runbooks. Runbooks are documented procedures for operating systems in production,
    including routine tasks, maintenance procedures, and operational responses.
    The audit examines whether runbooks exist for all critical operations, are
    kept current with system changes, and follow consistent formatting standards.
  why_it_matters: |
    Well-documented runbooks enable consistent and reliable system operations
    across team members and shifts. Without runbooks, operations depend on
    tribal knowledge, leading to inconsistent execution, longer resolution
    times during incidents, and increased risk during staff transitions.
    Runbooks are essential for operational excellence and compliance with
    standards like SOC 2 and ISO 27001.
  when_to_run:
  - During operational readiness reviews
  - After significant system architecture changes
  - When onboarding new operations team members
  - As part of disaster recovery planning
  - During compliance audits
prerequisites:
  required_artifacts:
  - type: documentation_repository
    description: Access to runbook storage location (wiki, git repo, etc.)
  - type: service_inventory
    description: List of services and systems requiring runbooks
  access_requirements:
  - Read access to documentation platform
  - Access to operations team for interviews
  - Read access to alerting configuration
discovery:
  file_patterns:
  - glob: '**/runbooks/**/*.md'
    purpose: Find markdown runbook documentation
  - glob: '**/runbook*.md'
    purpose: Find standalone runbook files
  - glob: '**/docs/operations/**/*'
    purpose: Find operational documentation
  - glob: '**/playbooks/**/*.md'
    purpose: Find operational playbooks
  - glob: '**/.runbook*.yaml'
    purpose: Find structured runbook definitions
  interview_questions:
  - role: SRE/Operations
    questions:
    - Where are runbooks stored and how do you find them?
    - How often are runbooks reviewed and updated?
    - Can you walk through a recent runbook execution?
    - What operations lack documented runbooks?
knowledge_sources:
  guides:
  - id: google-sre-runbook
    name: Google SRE - Documentation Best Practices
    url: https://sre.google/sre-book/documenting-production/
    offline_cache: true
  - id: pagerduty-runbooks
    name: PagerDuty Runbook Best Practices
    url: https://www.pagerduty.com/resources/learn/what-is-a-runbook/
    offline_cache: true
  standards:
  - id: itil-knowledge-management
    name: ITIL Knowledge Management
    relevance: Framework for operational documentation management
tooling:
  documentation_tools:
  - tool: vale
    purpose: Lint documentation for style and consistency
    command: vale --config .vale.ini runbooks/
  - tool: markdown-link-check
    purpose: Verify all links in runbooks are valid
    command: find runbooks/ -name '*.md' -exec markdown-link-check {} \;
  analysis_commands:
  - purpose: Count runbooks per service
    command: find runbooks/ -name '*.md' | xargs grep -l 'service:' | wc -l
  - purpose: Find runbooks not updated in 6 months
    command: find runbooks/ -name '*.md' -mtime +180
signals:
  critical:
  - id: RUNBOOK-CRIT-001
    signal: No runbooks exist for production systems
    evidence_indicators:
    - Empty or missing runbooks directory
    - Operations team relies entirely on verbal procedures
    - No documented procedures for critical operations
    explanation: |
      Without runbooks, production operations depend entirely on tribal
      knowledge. This creates significant risk during incidents, staff
      turnover, and after-hours operations when primary experts may be
      unavailable.
    remediation: Immediately prioritize runbook creation for Tier 1 services
  - id: RUNBOOK-CRIT-002
    signal: Runbooks contain dangerous incorrect procedures
    evidence_indicators:
    - Commands reference non-existent hosts or paths
    - Procedures skip critical safety steps
    - Steps documented out of order
    explanation: |
      Incorrect runbooks are worse than no runbooks because they may be
      followed during high-stress incidents, potentially causing additional
      damage to systems.
    remediation: Immediately review and correct; add testing requirements for runbooks
  high:
  - id: RUNBOOK-HIGH-001
    signal: Critical services lack runbooks
    evidence_threshold: '>30% of Tier 1 services without runbooks'
    explanation: |
      Tier 1 services require immediate response during incidents. Without
      runbooks, response depends on specific individuals being available.
    remediation: Create runbooks for all Tier 1 services within 30 days
  - id: RUNBOOK-HIGH-002
    signal: Runbooks not updated after major changes
    evidence_indicators:
    - Runbook last modified date older than related code changes
    - Commands reference deprecated tools or infrastructure
    explanation: |
      Stale runbooks lead to confusion during incidents and may cause
      operators to take incorrect actions based on outdated information.
    remediation: Implement runbook review as part of change management process
  - id: RUNBOOK-HIGH-003
    signal: Runbooks not linked to alerting rules
    evidence_indicators:
    - Alerts fire without linked runbook references
    - Operators must search for relevant runbooks during incidents
    explanation: |
      When alerts don't link directly to runbooks, responders waste critical
      time searching for procedures during incidents.
    remediation: Add runbook_url annotations to all alerting rules
  medium:
  - id: RUNBOOK-MED-001
    signal: Inconsistent runbook formatting across teams
    explanation: |
      Inconsistent formatting slows down operators who must adapt to
      different structures and may miss critical information.
    remediation: Establish and enforce runbook templates
  - id: RUNBOOK-MED-002
    signal: Runbooks lack time estimates and severity indicators
    remediation: Add estimated duration and impact level to all runbooks
  - id: RUNBOOK-MED-003
    signal: No runbook review or approval process
    remediation: Implement peer review for runbook changes
  low:
  - id: RUNBOOK-LOW-001
    signal: Runbooks stored in multiple disconnected locations
    remediation: Consolidate runbooks into single searchable location
  - id: RUNBOOK-LOW-002
    signal: No runbook execution tracking or feedback mechanism
    remediation: Add post-execution feedback collection
  positive:
  - id: RUNBOOK-POS-001
    signal: All services have current, tested runbooks
  - id: RUNBOOK-POS-002
    signal: Runbooks linked directly from alerts with one-click access
  - id: RUNBOOK-POS-003
    signal: Regular runbook review cadence established
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Inventory Services and Operations
    description: |
      Create a list of all services and critical operations that require
      runbooks. Include both routine operations and emergency procedures.
    duration_estimate: 30 min
    commands:
    - purpose: List services from infrastructure
      command: kubectl get services -A -o jsonpath='{.items[*].metadata.name}' | tr ' ' '\n' | sort -u
    - purpose: Find alerting rules that should have runbooks
      command: find . -name '*.rules.yaml' -o -name '*alerts*.yaml' | xargs grep -h 'alert:' | sort -u
    expected_findings:
    - Complete list of services requiring runbooks
    - List of alert-triggered operations
  - id: '2'
    name: Audit Runbook Coverage
    description: |
      Compare the service inventory against existing runbooks to identify
      coverage gaps.
    duration_estimate: 45 min
    commands:
    - purpose: List existing runbooks
      command: find . -path '*/runbooks/*' -name '*.md' -type f | sort
    - purpose: Check for runbook links in alert definitions
      command: grep -r 'runbook_url' --include='*.yaml' | head -20
    expected_findings:
    - List of services with runbooks
    - List of services missing runbooks
    - Coverage percentage calculation
  - id: '3'
    name: Evaluate Runbook Quality
    description: |
      Review a sample of runbooks for completeness, accuracy, and usability.
      Check for required sections, clear instructions, and current commands.
    duration_estimate: 60 min
    quality_checklist:
    - Title and purpose clearly stated
    - Prerequisites and access requirements documented
    - Step-by-step procedures with commands
    - Expected output for each step
    - Rollback procedures included
    - Escalation path defined
    - Last review date and owner identified
    expected_findings:
    - Quality score for each reviewed runbook
    - Common quality gaps across runbooks
  - id: '4'
    name: Verify Runbook Accuracy
    description: |
      Test a sample of runbook commands in a non-production environment
      to verify accuracy and completeness.
    duration_estimate: 45 min
    expected_findings:
    - List of runbooks with verified accuracy
    - List of runbooks with errors or outdated commands
  - id: '5'
    name: Assess Runbook Accessibility
    description: |
      Evaluate how easily operators can find and use runbooks during
      incidents, including search capability and alert integration.
    duration_estimate: 30 min
    questions:
    - Can runbooks be found within 30 seconds during an incident?
    - Are runbooks accessible from mobile devices?
    - Are runbooks available during infrastructure outages?
    expected_findings:
    - Assessment of runbook discoverability
    - Recommendations for accessibility improvements
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Runbook Coverage Analysis
    - Quality Assessment Results
    - Accessibility Evaluation
    - Recommendations
  - type: coverage_matrix
    format: table
    description: Service-to-runbook mapping showing gaps
  confidence_guidance:
    high: All runbooks reviewed and tested in staging environment
    medium: Representative sample reviewed with spot-checks
    low: File existence check only without content review
closeout_checklist:
- id: runbook-001
  item: All Tier 1 services have documented runbooks
  level: CRITICAL
  verification: manual
  verification_notes: Cross-reference service inventory with runbook coverage
  expected: 100% coverage for Tier 1
- id: runbook-002
  item: Runbooks follow consistent template
  level: BLOCKING
  verification: manual
  verification_notes: Review runbook structure against template
  expected: All runbooks match template
- id: runbook-003
  item: All alerts have linked runbooks
  level: WARNING
  verification: grep -r 'runbook_url' --include='*.yaml' alerting/
  expected: All alerting rules include runbook_url annotation
- id: runbook-004
  item: Runbook review process documented and followed
  level: WARNING
  verification: manual
  verification_notes: Confirm runbook review cadence and ownership
  expected: Quarterly review schedule in place
- id: runbook-005
  item: Runbooks updated within last 6 months
  level: WARNING
  verification: find runbooks/ -name '*.md' -mtime +180 | wc -l
  threshold: 0 files older than 180 days
governance:
  applicable_to:
    archetypes:
    - all-production-systems
  compliance_mappings:
  - framework: SOC 2
    control: CC7.1
    description: Procedures are documented for system operations
  - framework: ISO 27001
    control: A.12.1.1
    description: Documented operating procedures
relationships:
  commonly_combined:
  - documentation-knowledge.operational-docs.incident-playbooks
  - documentation-knowledge.operational-docs.troubleshooting-guides
  - observability.alerting.alert-quality
  depends_on:
  - service-catalog.service-inventory
  feeds_into:
  - incident-management.response-procedures
