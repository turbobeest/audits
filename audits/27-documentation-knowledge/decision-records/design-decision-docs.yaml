audit:
  id: documentation-knowledge.decision-records.design-decision-docs
  name: Design Decision Documentation Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: documentation-knowledge
  category_number: 27
  subcategory: decision-records
  tier: expert
  estimated_duration: 2-4 hours  # median: 3h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: documentation
  default_profiles:
  - full
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates documentation of design decisions beyond formal ADRs,
    including design documents, technical specifications, RFC-style proposals,
    and design review records. The audit examines how design thinking is
    captured and communicated.
  why_it_matters: |
    Design documentation captures the reasoning behind implementation choices,
    including alternatives considered and trade-offs made. Without it, future
    developers must guess at design intent or re-derive decisions, wasting
    time and potentially making inconsistent choices.
  when_to_run:
  - During design documentation reviews
  - When design processes are being established
  - When onboarding senior developers
  - Before major refactoring efforts
prerequisites:
  required_artifacts:
  - type: design_docs
    description: Access to design documentation
  - type: rfc_docs
    description: Access to RFC or proposal documents
  access_requirements:
  - Read access to design documentation
  - Access to design review records
discovery:
  file_patterns:
  - glob: '**/docs/design/**/*.md'
    purpose: Find design documents
  - glob: '**/rfcs/**/*.md'
    purpose: Find RFC documents
  - glob: '**/proposals/**/*.md'
    purpose: Find proposal documents
  - glob: '**/specs/**/*.md'
    purpose: Find specification documents
  - glob: '**/design-docs/**/*.md'
    purpose: Find design doc directory
knowledge_sources:
  guides:
  - id: google-design-docs
    name: Design Docs at Google
    url: https://www.industrialempathy.com/posts/design-docs-at-google/
    offline_cache: true
  - id: rfc-process
    name: RFC Process
    relevance: Formal proposal process
tooling:
  analysis_commands:
  - purpose: Find design documents
    command: find . -name '*design*' -o -name '*spec*' -o -name '*rfc*' | grep -E '\.(md|txt)$'
  - purpose: Find proposal documents
    command: find . -name '*proposal*' | grep -E '\.(md|txt)$'
  - purpose: Count design documents
    command: find . -path '*/design/*' -name '*.md' | wc -l
signals:
  critical:
  - id: DESIGN-CRIT-001
    signal: No design documentation exists
    evidence_indicators:
    - No design docs found
    - Complex features have no design record
    - Design decisions verbal only
    explanation: |
      Without design documentation, understanding complex features
      requires extensive code archaeology.
    remediation: Establish design documentation practice
  high:
  - id: DESIGN-HIGH-001
    signal: Complex features lack design documents
    evidence_indicators:
    - Major features undocumented
    - Complex subsystems have no design record
    - Design decisions not captured
    explanation: |
      Complex features without design docs require significant effort
      to understand and maintain.
    remediation: Document design for all complex features
  - id: DESIGN-HIGH-002
    signal: Design documents not reviewed
    evidence_indicators:
    - No review process for designs
    - Designs created but not vetted
    - No feedback captured
    explanation: |
      Unreviewed designs may have flaws that could have been caught
      before implementation.
    remediation: Implement design review process
  medium:
  - id: DESIGN-MED-001
    signal: Design documents don't capture alternatives
    explanation: |
      Documenting alternatives considered helps future developers
      understand why other approaches were rejected.
    remediation: Include alternatives in design documents
  - id: DESIGN-MED-002
    signal: Design documents outdated after implementation
    remediation: Update design docs to reflect final implementation
  - id: DESIGN-MED-003
    signal: No design document template
    remediation: Create design document template
  low:
  - id: DESIGN-LOW-001
    signal: Design docs not linked to implementation
    remediation: Add implementation links to design docs
  - id: DESIGN-LOW-002
    signal: Design docs hard to discover
    remediation: Create design doc index
  positive:
  - id: DESIGN-POS-001
    signal: Comprehensive design documentation
  - id: DESIGN-POS-002
    signal: Design review process followed
  - id: DESIGN-POS-003
    signal: Design docs include alternatives and trade-offs
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Locate Design Documentation
    description: |
      Find all design-related documentation.
    duration_estimate: 25 min
    commands:
    - purpose: Find design docs
      command: find . -name '*design*' -o -name '*spec*' -o -name '*rfc*' | grep -E '\.(md|txt)$'
    expected_findings:
    - Design documentation inventory
    - Documentation locations
  - id: '2'
    name: Assess Coverage
    description: |
      Evaluate design documentation coverage of major features.
    duration_estimate: 45 min
    coverage_checks:
    - Major features have design docs
    - Complex algorithms documented
    - Integration designs captured
    - Architecture changes documented
    expected_findings:
    - Coverage assessment
    - Missing design docs
  - id: '3'
    name: Evaluate Document Quality
    description: |
      Review design documents for completeness.
    duration_estimate: 45 min
    quality_checklist:
    - Problem statement clear
    - Goals defined
    - Design approach explained
    - Alternatives considered
    - Trade-offs discussed
    - Risks identified
    - Implementation plan included
    expected_findings:
    - Quality assessment
    - Common gaps
  - id: '4'
    name: Review Design Process
    description: |
      Evaluate the design review and approval process.
    duration_estimate: 30 min
    process_checks:
    - Review process documented
    - Reviews actually happen
    - Feedback captured
    - Decisions recorded
    expected_findings:
    - Process maturity
    - Process improvements
  - id: '5'
    name: Check Currency
    description: |
      Verify design documents are current.
    duration_estimate: 25 min
    commands:
    - purpose: Check recent design docs
      command: find . -path '*/design/*' -name '*.md' -mtime -365 | wc -l
    expected_findings:
    - Currency assessment
    - Stale documents
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Coverage Analysis
    - Quality Assessment
    - Process Review
    - Recommendations
  confidence_guidance:
    high: Comprehensive design doc review with team interviews
    medium: Design doc sample review
    low: Existence check only
closeout_checklist:
- id: design-001
  item: Design documentation practice exists
  level: CRITICAL
  verification: find . -path '*/design/*' -name '*.md' | head -1
  expected: Design docs present
- id: design-002
  item: Major features have design docs
  level: BLOCKING
  verification: manual
  verification_notes: Review feature coverage
  expected: Major features documented
- id: design-003
  item: Design template exists
  level: WARNING
  verification: find . -name '*design*template*' | head -1
  expected: Template present
- id: design-004
  item: Design review process defined
  level: WARNING
  verification: manual
  verification_notes: Check for review process documentation
  expected: Process documented
governance:
  applicable_to:
    archetypes:
    - all-projects
relationships:
  commonly_combined:
  - documentation-knowledge.decision-records.adr-process
  - code-review.design-review
  feeds_into:
  - architecture.design-quality
  - onboarding.system-understanding
