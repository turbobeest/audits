audit:
  id: documentation-knowledge.decision-records.adr-process
  name: ADR Process Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: documentation-knowledge
  category_number: 27
  subcategory: decision-records
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: documentation
  default_profiles:
  - full
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates the Architecture Decision Record (ADR) process
    including how decisions are proposed, reviewed, approved, and documented.
    The audit examines process documentation, tooling, and actual adherence
    to the defined process.
  why_it_matters: |
    A well-defined ADR process ensures decisions are made transparently,
    documented consistently, and accessible to the team. Without a process,
    decisions may be made ad-hoc, inconsistently documented, or lost entirely,
    making it difficult to understand why the system evolved as it did.
  when_to_run:
  - When establishing ADR practices
  - When ADR adoption is inconsistent
  - During architecture governance reviews
  - When onboarding new architects
prerequisites:
  required_artifacts:
  - type: adr_documentation
    description: Access to ADR process documentation
  - type: adr_repository
    description: Access to ADR storage location
  access_requirements:
  - Read access to ADR documentation
  - Read access to ADR files
discovery:
  file_patterns:
  - glob: '**/docs/adr/**/*.md'
    purpose: Find ADR documentation
  - glob: '**/adr/**/*.md'
    purpose: Find ADR files
  - glob: '**/docs/architecture/decisions/**/*.md'
    purpose: Find architecture decision docs
  - glob: '**/ADR-*.md'
    purpose: Find numbered ADR files
  - glob: '**/decisions/**/*.md'
    purpose: Find decision records
knowledge_sources:
  guides:
  - id: adr-github
    name: Architecture Decision Records
    url: https://adr.github.io/
    offline_cache: true
  - id: michael-nygard-adr
    name: Documenting Architecture Decisions (Nygard)
    url: https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions
    offline_cache: true
  - id: adr-tools
    name: ADR Tools
    url: https://github.com/npryce/adr-tools
    offline_cache: true
tooling:
  analysis_commands:
  - purpose: Find ADR files
    command: find . -name 'ADR-*.md' -o -name '*.adr.md' -o -path '*/adr/*.md'
  - purpose: Count ADRs
    command: find . -path '*/adr/*' -name '*.md' | wc -l
  - purpose: Find ADR template
    command: find . -name '*adr*template*' -o -name '*template*adr*'
signals:
  critical:
  - id: ADRPROC-CRIT-001
    signal: No ADR process exists
    evidence_indicators:
    - No ADR process documentation
    - Decisions not documented anywhere
    - Architecture decisions made without records
    explanation: |
      Without an ADR process, significant decisions are lost,
      leading to repeated discussions and inconsistent decisions.
    remediation: Establish and document ADR process
  high:
  - id: ADRPROC-HIGH-001
    signal: ADR process not documented
    evidence_indicators:
    - ADRs exist but no process guide
    - Team unsure how to create ADRs
    - Inconsistent ADR practices
    explanation: |
      Without documented process, ADR practices vary and adoption
      suffers.
    remediation: Document ADR process with guidelines
  - id: ADRPROC-HIGH-002
    signal: No ADR template provided
    evidence_indicators:
    - ADRs have inconsistent structure
    - Key sections missing from ADRs
    - No standard format
    explanation: |
      Without a template, ADRs lack consistency and may omit
      important information.
    remediation: Create and publish ADR template
  - id: ADRPROC-HIGH-003
    signal: ADR review process undefined
    evidence_indicators:
    - ADRs not reviewed before acceptance
    - No approval workflow
    - Decisions made unilaterally
    explanation: |
      Without review, poor decisions may be documented as accepted
      without proper consideration.
    remediation: Define ADR review and approval process
  medium:
  - id: ADRPROC-MED-001
    signal: No criteria for when ADR is needed
    explanation: |
      Without clear criteria, teams may not know when to create
      ADRs, leading to gaps or unnecessary ADRs.
    remediation: Define criteria for when to create ADRs
  - id: ADRPROC-MED-002
    signal: ADR status lifecycle not defined
    remediation: Define ADR statuses (proposed, accepted, deprecated, superseded)
  - id: ADRPROC-MED-003
    signal: No ADR ownership defined
    remediation: Define who owns ADR creation and maintenance
  low:
  - id: ADRPROC-LOW-001
    signal: ADR tooling not established
    remediation: Consider ADR management tools
  - id: ADRPROC-LOW-002
    signal: ADR discoverability poor
    remediation: Create ADR index or search mechanism
  positive:
  - id: ADRPROC-POS-001
    signal: Clear ADR process with template
  - id: ADRPROC-POS-002
    signal: ADR review process followed
  - id: ADRPROC-POS-003
    signal: ADRs linked to implementation
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Locate ADR Process Documentation
    description: |
      Find documentation of the ADR process.
    duration_estimate: 20 min
    commands:
    - purpose: Find process docs
      command: find . -name '*adr*' | grep -E '\.(md|txt)$'
    - purpose: Find template
      command: find . -name '*template*' | grep -i adr
    expected_findings:
    - Process documentation status
    - Template availability
  - id: '2'
    name: Evaluate Process Completeness
    description: |
      Review ADR process documentation for completeness.
    duration_estimate: 30 min
    process_checklist:
    - When to create an ADR
    - How to create an ADR
    - Required sections/template
    - Review and approval process
    - Status lifecycle
    - How to find existing ADRs
    - How to update or supersede
    expected_findings:
    - Process completeness
    - Missing elements
  - id: '3'
    name: Review Template Quality
    description: |
      Evaluate the ADR template if one exists.
    duration_estimate: 20 min
    template_checklist:
    - Title and ID format
    - Status field
    - Context section
    - Decision section
    - Consequences section
    - Alternatives considered
    - Date and author
    expected_findings:
    - Template quality
    - Missing sections
  - id: '4'
    name: Assess Process Adoption
    description: |
      Check how well the process is followed in practice.
    duration_estimate: 30 min
    commands:
    - purpose: Count ADRs
      command: find . -path '*/adr/*' -name '*.md' | wc -l
    - purpose: Check recent ADRs
      command: find . -path '*/adr/*' -name '*.md' -mtime -90
    expected_findings:
    - Process adoption level
    - Recent activity
  - id: '5'
    name: Interview Team
    description: |
      Gather feedback on ADR process effectiveness.
    duration_estimate: 30 min
    interview_questions:
    - Do you know when to create an ADR?
    - Is the process easy to follow?
    - Are ADRs useful for understanding past decisions?
    expected_findings:
    - Team feedback
    - Process improvement ideas
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Process Documentation Review
    - Template Assessment
    - Adoption Analysis
    - Recommendations
  confidence_guidance:
    high: Process validated through ADR samples and team interviews
    medium: Process documentation reviewed
    low: Existence check only
closeout_checklist:
- id: adrproc-001
  item: ADR process documented
  level: CRITICAL
  verification: find . -name '*adr*process*' -o -name '*adr*guide*' | head -1
  expected: Process documentation present
- id: adrproc-002
  item: ADR template available
  level: BLOCKING
  verification: find . -name '*adr*template*' | head -1
  expected: Template present
- id: adrproc-003
  item: Review process defined
  level: WARNING
  verification: grep -ri 'review\|approval' docs/adr/ 2>/dev/null | head -1
  expected: Review process documented
- id: adrproc-004
  item: ADR criteria defined
  level: WARNING
  verification: grep -ri 'when to\|criteria' docs/adr/ 2>/dev/null | head -1
  expected: Criteria documented
governance:
  applicable_to:
    archetypes:
    - all-projects
relationships:
  commonly_combined:
  - documentation-knowledge.decision-records.adr-completeness
  - architecture-governance.decision-process
  feeds_into:
  - architecture.decision-quality
  - onboarding.architecture-understanding
