audit:
  id: operational-excellence.incident-management.mean-time-to-recovery
  name: Mean Time to Recovery Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: incident-management
  tier: phd
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: metrics
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines Mean Time to Recovery (MTTR) practices including:
    - MTTR definition and measurement methodology
    - Data collection and accuracy
    - Breakdown by service, severity, and incident type
    - MTTR trends and analysis
    - Related metrics (MTTA, MTTD, MTTF)
    - Target setting and SLA alignment
    - Improvement initiatives
    - Benchmarking against industry standards
  why_it_matters: |
    MTTR is a key indicator of operational excellence:
    - Directly impacts customer experience during outages
    - Reflects team capability and process maturity
    - Drives investment decisions in reliability
    - Required for SLA compliance reporting

    The Google SRE book identifies MTTR as one of the "Four Golden Signals"
    related metrics. DORA research correlates low MTTR with high-performing
    engineering organizations. Organizations in the elite category achieve
    MTTR under one hour.
  when_to_run:
  - Monthly operational reviews
  - Quarterly SLA assessments
  - After reliability initiatives
  - During capacity planning
  - When setting reliability targets
prerequisites:
  required_artifacts:
  - type: incident_data
    description: Historical incident records with timestamps
  - type: metrics_config
    description: MTTR measurement configurations
  - type: sla_documentation
    description: Recovery time SLA definitions
  access_requirements:
  - Access to incident tracking system
  - Metrics and reporting dashboards
  - Historical incident data (6+ months)
  - SLA documentation
discovery:
  code_patterns:
  - pattern: (mttr|mean.time.to.recover|recovery.time)
    type: regex
    scope: config
    purpose: Detect MTTR metric definitions
  - pattern: (mtta|mean.time.to.acknowledge|acknowledgment.time)
    type: regex
    scope: config
    purpose: Detect related metrics
  - pattern: (incident|alert).*(duration|time|resolved)
    type: regex
    scope: config
    purpose: Detect incident timing metrics
  file_patterns:
  - glob: '**/metrics/**/*.{yaml,yml,json}'
    purpose: Metrics configuration files
  - glob: '**/sla*.{md,yaml,yml}'
    purpose: SLA documentation
  - glob: '**/dashboard*/**/*.{json,yaml}'
    purpose: Dashboard definitions
knowledge_sources:
  specifications:
  - id: google-sre-metrics
    name: Google SRE - Monitoring Distributed Systems
    url: https://sre.google/sre-book/monitoring-distributed-systems/
    offline_cache: true
    priority: required
  - id: dora-metrics
    name: DORA State of DevOps - MTTR
    url: https://cloud.google.com/devops/state-of-devops
    offline_cache: true
    priority: required
  guides:
  - id: pagerduty-mttr
    name: PagerDuty MTTR Best Practices
    url: https://www.pagerduty.com/resources/learn/mean-time-to-resolution/
    offline_cache: true
tooling:
  infrastructure_tools:
  - tool: pagerduty
    purpose: Incident metrics and reporting
    command: pd analytics incidents
  - tool: datadog
    purpose: MTTR dashboards
    command: datadog-api incidents list
  scripts:
  - id: mttr-config-scanner
    language: bash
    purpose: Find MTTR configurations
    source: inline
    code: |
      #!/bin/bash
      echo "=== MTTR Configuration Scan ==="
      grep -rniE "(mttr|mtta|recovery.time|resolution.time)" \
        --include="*.yaml" --include="*.json" . 2>/dev/null | head -30
signals:
  critical:
  - id: MTTR-CRIT-001
    signal: MTTR is not measured or tracked
    evidence_indicators:
    - No MTTR metrics configured
    - Incident resolution times not recorded
    - No MTTR reporting exists
    explanation: |
      Without MTTR measurement, organizations cannot assess their recovery
      capability, set improvement targets, or demonstrate SLA compliance.
      MTTR is a fundamental operational metric that indicates system
      reliability and team effectiveness.
    remediation: |
      - Define MTTR measurement methodology
      - Configure incident timestamp capture
      - Create MTTR dashboards and reports
      - Establish baseline measurements
      - Set improvement targets
  - id: MTTR-CRIT-002
    signal: MTTR consistently exceeds SLA targets
    evidence_indicators:
    - SLA breach rate >20% for recovery time
    - MTTR trending upward over time
    - Critical services missing recovery targets
    explanation: |
      Consistently missing recovery SLAs indicates systemic issues with
      incident response capability. This erodes customer trust, may
      trigger contractual penalties, and suggests operational process
      improvements are needed.
    remediation: |
      - Analyze incidents exceeding targets
      - Identify common delay factors
      - Invest in automation and tooling
      - Improve runbook coverage
      - Train responders on rapid recovery
  high:
  - id: MTTR-HIGH-001
    signal: MTTR definition is inconsistent
    evidence_indicators:
    - Different teams measure MTTR differently
    - Start/end time definitions unclear
    - Partial outages measured inconsistently
    explanation: |
      Inconsistent MTTR definitions make comparisons meaningless and
      undermine improvement efforts. Clear definition of when MTTR
      measurement starts (detection, alert, acknowledgment) and ends
      (resolution, verification, communication) is essential.
    remediation: |
      - Document MTTR definition explicitly
      - Define measurement start point (e.g., first alert)
      - Define measurement end point (e.g., verified recovery)
      - Align all tools with definition
      - Train teams on consistent measurement
  - id: MTTR-HIGH-002
    signal: No MTTR breakdown by category
    evidence_indicators:
    - Only aggregate MTTR reported
    - No service-level MTTR tracking
    - No severity-based MTTR analysis
    explanation: |
      Aggregate MTTR hides important patterns. Breakdown by service,
      severity, incident type, and time of day reveals where improvements
      are most needed and tracks progress in specific areas.
    remediation: |
      - Implement MTTR by service
      - Track MTTR by severity level
      - Analyze MTTR by incident type
      - Compare business hours vs off-hours
      - Identify outliers for investigation
  - id: MTTR-HIGH-003
    signal: Related metrics (MTTA, MTTD) not tracked
    evidence_indicators:
    - Only MTTR measured, not contributing factors
    - No detection time tracking
    - Acknowledgment time not measured
    explanation: |
      MTTR is composed of detection time (MTTD), acknowledgment time (MTTA),
      diagnosis time, and repair time. Without breaking down these components,
      it's difficult to identify which phase to optimize.
    remediation: |
      - Implement MTTD (Mean Time to Detect)
      - Track MTTA (Mean Time to Acknowledge)
      - Measure diagnosis time separately
      - Track repair/recovery time
      - Analyze each component for improvement
  medium:
  - id: MTTR-MED-001
    signal: No MTTR targets established
    evidence_indicators:
    - MTTR measured but no targets set
    - No SLA for recovery time
    - Improvement goals undefined
    explanation: |
      Measurement without targets lacks purpose. MTTR targets should be
      set based on business requirements, customer expectations, and
      current capability with planned improvements.
    remediation: |
      - Set MTTR targets by severity
      - Align targets with SLAs
      - Establish progressive improvement goals
      - Review targets quarterly
      - Benchmark against industry standards
  - id: MTTR-MED-002
    signal: MTTR data not used for improvement
    evidence_indicators:
    - MTTR reports exist but not reviewed
    - No improvement initiatives from MTTR analysis
    - High MTTR incidents not investigated
    explanation: |
      MTTR data should drive continuous improvement. High MTTR incidents
      should be investigated, patterns identified, and improvements
      implemented to reduce future recovery times.
    remediation: |
      - Review MTTR in operational meetings
      - Investigate high MTTR incidents
      - Identify and address patterns
      - Track improvement initiative impact
      - Report improvement progress
  low:
  - id: MTTR-LOW-001
    signal: No benchmarking against industry standards
    evidence_indicators:
    - MTTR targets set without external reference
    - No comparison to peer organizations
    - DORA metrics not referenced
    explanation: |
      Industry benchmarks (like DORA metrics) provide context for MTTR
      performance. Elite organizations achieve MTTR under 1 hour while
      low performers may take days or weeks.
    remediation: |
      - Research DORA benchmark data
      - Compare to industry peers
      - Set aspirational targets based on elite performers
      - Track progress toward industry standards
      - Participate in benchmarking studies
  positive:
  - id: MTTR-POS-001
    signal: Comprehensive MTTR measurement and tracking
    evidence_indicators:
    - MTTR measured with consistent definition
    - Breakdown by service, severity, and type
    - Related metrics (MTTA, MTTD) also tracked
  - id: MTTR-POS-002
    signal: MTTR-driven improvement program
    evidence_indicators:
    - Regular MTTR analysis conducted
    - Improvement initiatives tracked
    - MTTR trending downward over time
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: MTTR Definition Review
    description: |
      Examine how MTTR is defined and documented.
    duration_estimate: 30 min
    commands:
    - purpose: Find MTTR documentation
      command: |
        find . -type f \( -name "*mttr*" -o -name "*metrics*" -o -name "*sla*" \) \
          \( -name "*.md" -o -name "*.yaml" \) 2>/dev/null | head -20
    - purpose: Search for MTTR definitions
      command: |
        grep -rniE "(mttr|mean.time.to.recover|recovery.time).*(definition|measure|calculate)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - MTTR definition documentation
    - Measurement methodology
    - Start/end time definitions
  - id: '2'
    name: Metrics Configuration Review
    description: |
      Examine MTTR data collection and reporting configurations.
    duration_estimate: 30 min
    commands:
    - purpose: Find metrics configurations
      command: |
        find . -type f \( -name "*metric*" -o -name "*dashboard*" \) \
          \( -name "*.yaml" -o -name "*.json" \) 2>/dev/null | head -20
    - purpose: Search for incident duration metrics
      command: |
        grep -rniE "(incident|alert).*(duration|time|resolved|acknowledged)" \
          --include="*.yaml" --include="*.json" . 2>/dev/null | head -30
    expected_findings:
    - Metrics collection configuration
    - Dashboard definitions
    - Incident timing fields
  - id: '3'
    name: Target and SLA Review
    description: |
      Assess MTTR targets and SLA alignment.
    duration_estimate: 30 min
    commands:
    - purpose: Find SLA documentation
      command: |
        find . -type f \( -name "*sla*" -o -name "*target*" -o -name "*objective*" \) \
          \( -name "*.md" -o -name "*.yaml" \) 2>/dev/null | head -20
    - purpose: Search for recovery time targets
      command: |
        grep -rniE "(recovery|resolution|mttr).*(target|sla|objective|minutes|hours)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - MTTR targets
    - SLA definitions
    - Severity-based targets
  - id: '4'
    name: Related Metrics Review
    description: |
      Check for related metrics (MTTA, MTTD, MTTF).
    duration_estimate: 30 min
    commands:
    - purpose: Find related metric definitions
      command: |
        grep -rniE "(mtta|mttd|mttf|mean.time.to|detection|acknowledge)" \
          --include="*.yaml" --include="*.json" --include="*.md" . 2>/dev/null | head -30
    expected_findings:
    - MTTA configuration
    - MTTD tracking
    - Component time breakdown
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - MTTR Measurement Assessment
    - Target and SLA Analysis
    - Related Metrics Review
    - Recommendations
  - type: metrics_dashboard
    format: specification
    description: Recommended MTTR dashboard configuration
  confidence_guidance:
    high: MTTR metrics configured and historical data available
    medium: Partial configuration, limited historical data
    low: MTTR measurement unclear, requires runtime verification
offline:
  capability: partial
  runtime_required_for:
  - Historical MTTR data analysis
  - Current measurement verification
  - Dashboard review
  cache_manifest:
    knowledge:
    - source_id: google-sre-metrics
      priority: required
    - source_id: dora-metrics
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: MTTR audit requires data analysis
    full:
      included: true
      priority: 2
    production:
      included: true
      priority: 1
closeout_checklist:
- id: mttr-001
  item: MTTR is defined and documented
  level: CRITICAL
  verification: |
    grep -rniE "(mttr|mean.time.to.recover).*(definition|measure)" \
      --include="*.md" --include="*.yaml" . 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: mttr-002
  item: MTTR data is collected and reported
  level: BLOCKING
  verification: manual
  verification_notes: Verify MTTR dashboards or reports exist with current data
  expected: Confirmed by reviewer
- id: mttr-003
  item: MTTR targets are established
  level: BLOCKING
  verification: manual
  verification_notes: Verify MTTR targets exist by severity level
  expected: Confirmed by reviewer
- id: mttr-004
  item: Related metrics (MTTA, MTTD) are tracked
  level: WARNING
  verification: |
    grep -rniE "(mtta|mttd|mean.time.to.acknowledge|mean.time.to.detect)" \
      --include="*.yaml" --include="*.md" . 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "NEEDS_REVIEW"
  expected: PASS
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: SOC 2
    controls:
    - CC7.4
    - CC7.5
  - framework: ISO 27001
    controls:
    - A.16.1.5
  - framework: ITIL 4
    controls:
    - Incident Management KPIs
relationships:
  commonly_combined:
  - operational-excellence.incident-management.incident-response-process
  - operational-excellence.service-level-management.slo-definition
  - operational-excellence.operational-metrics.service-health-metrics
