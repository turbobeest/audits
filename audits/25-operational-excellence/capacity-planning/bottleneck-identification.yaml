audit:
  id: operational-excellence.capacity-planning.bottleneck-identification
  name: Bottleneck Identification Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: capacity-planning
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: metrics
  default_profiles:
  - full
  - production
description:
  what: |
    This audit examines bottleneck identification including:
    - Bottleneck detection methodologies
    - Resource constraint monitoring
    - Performance profiling practices
    - Dependency bottleneck analysis
    - Database and storage bottlenecks
    - Network bottleneck detection
    - Service limit tracking
    - Proactive bottleneck prediction
  why_it_matters: |
    Bottlenecks limit overall system capacity:
    - A single bottleneck constrains entire system
    - Adding capacity elsewhere provides no benefit
    - Bottlenecks shift as systems scale
    - Proactive identification enables planning

    The system's capacity is determined by its biggest bottleneck.
    Without systematic identification, capacity investments may
    target the wrong resources.
  when_to_run:
  - Monthly capacity reviews
  - After performance degradation
  - Before capacity expansion
  - When scaling doesn't help
  - During architecture reviews
signals:
  critical:
  - id: BI-CRIT-001
    signal: No bottleneck monitoring in place
    evidence_indicators:
    - Bottlenecks discovered during incidents
    - No constraint tracking
    - Performance limits unknown
    remediation: |
      - Implement bottleneck monitoring
      - Track constraining resources
      - Profile system regularly
      - Alert on approaching limits
      - Document known bottlenecks
  - id: BI-CRIT-002
    signal: Critical bottlenecks unaddressed
    evidence_indicators:
    - Known bottlenecks limiting capacity
    - No remediation plan
    - Bottlenecks causing incidents
    remediation: |
      - Prioritize bottleneck remediation
      - Create remediation plans
      - Track remediation progress
      - Validate bottleneck resolution
      - Monitor for new bottlenecks
  high:
  - id: BI-HIGH-001
    signal: Service limits not tracked
    evidence_indicators:
    - API rate limits unknown
    - Cloud quotas not monitored
    - Database connection limits ignored
    remediation: |
      - Inventory all service limits
      - Monitor limit utilization
      - Alert on approaching limits
      - Request increases proactively
      - Document limit dependencies
closeout_checklist:
- id: bi-001
  item: Bottleneck monitoring implemented
  level: CRITICAL
  verification: manual
  verification_notes: Verify constraint tracking exists
  expected: Confirmed by reviewer
- id: bi-002
  item: Service limits tracked
  level: BLOCKING
  verification: manual
  verification_notes: Verify rate limits and quotas monitored
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
relationships:
  commonly_combined:
  - operational-excellence.capacity-planning.resource-headroom
  - operational-excellence.capacity-planning.capacity-testing
discovery:
  file_patterns:
  - glob: '**/runbook*.md'
    purpose: Runbook documentation
  - glob: '**/playbook*.md'
    purpose: Playbook documentation
  - glob: '**/sop*.md'
    purpose: Standard operating procedures
  - glob: '**/oncall*.yaml'
    purpose: On-call configuration
  code_patterns:
  - pattern: runbook|playbook|incident|escalation|sla
    type: regex
    scope: all
    purpose: Operations references
