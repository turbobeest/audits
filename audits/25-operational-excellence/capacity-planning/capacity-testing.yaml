audit:
  id: operational-excellence.capacity-planning.capacity-testing
  name: Capacity Testing Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: capacity-planning
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: process
  default_profiles:
  - full
  - production
description:
  what: |
    This audit examines capacity testing practices including:
    - Load testing methodology and coverage
    - Stress testing procedures
    - Capacity limits validation
    - Scaling behavior verification
    - Breaking point identification
    - Regular testing schedules
    - Test environment fidelity
    - Test result documentation
  why_it_matters: |
    Capacity testing validates theoretical capacity matches reality:
    - Load tests reveal bottlenecks before production
    - Stress tests find breaking points safely
    - Testing validates scaling behavior
    - Regular testing catches regressions

    Untested capacity assumptions fail during real load. Testing enables
    confident capacity planning and prevents production surprises.
  when_to_run:
  - Quarterly capacity reviews
  - Before major releases
  - After architecture changes
  - Before peak traffic periods
  - When capacity models change
signals:
  critical:
  - id: CT-CRIT-001
    signal: No capacity testing performed
    evidence_indicators:
    - No load tests conducted
    - Capacity untested before production
    - Breaking points unknown
    remediation: |
      - Establish load testing program
      - Create representative test scenarios
      - Test before major releases
      - Document results and limits
      - Schedule regular testing
  - id: CT-CRIT-002
    signal: Capacity limits never validated
    evidence_indicators:
    - Maximum capacity theoretical only
    - Breaking points never tested
    - Scaling limits assumed
    remediation: |
      - Conduct stress testing to find limits
      - Test scaling to maximum
      - Document validated limits
      - Plan capacity below limits
      - Revalidate after changes
  high:
  - id: CT-HIGH-001
    signal: Test environment doesn't match production
    evidence_indicators:
    - Smaller test environment
    - Different configurations
    - Results not representative
    remediation: |
      - Create production-like test environment
      - Match configurations and sizing
      - Use production data patterns
      - Document environment differences
      - Adjust results for differences
  medium:
  - id: CT-MED-001
    signal: No regular testing schedule
    evidence_indicators:
    - Ad-hoc testing only
    - No scheduled test cycles
    - Regressions not caught
    remediation: |
      - Establish testing schedule
      - Test quarterly at minimum
      - Test after major changes
      - Automate test execution
      - Track test coverage
closeout_checklist:
- id: ct-001
  item: Load testing is performed
  level: CRITICAL
  verification: manual
  verification_notes: Verify load testing program exists
  expected: Confirmed by reviewer
- id: ct-002
  item: Capacity limits validated
  level: BLOCKING
  verification: manual
  verification_notes: Verify stress testing conducted
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
relationships:
  commonly_combined:
  - operational-excellence.capacity-planning.capacity-forecasting
  - operational-excellence.production-readiness.readiness-review
discovery:
  file_patterns:
  - glob: '**/runbook*.md'
    purpose: Runbook documentation
  - glob: '**/playbook*.md'
    purpose: Playbook documentation
  - glob: '**/sop*.md'
    purpose: Standard operating procedures
  - glob: '**/oncall*.yaml'
    purpose: On-call configuration
  code_patterns:
  - pattern: runbook|playbook|incident|escalation|sla
    type: regex
    scope: all
    purpose: Operations references
