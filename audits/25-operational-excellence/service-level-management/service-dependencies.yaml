audit:
  id: operational-excellence.service-level-management.service-dependencies
  name: Service Dependencies Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: service-level-management
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: documentation
  default_profiles:
  - full
  - production
description:
  what: |
    This audit examines service dependency management including:
    - Dependency mapping and documentation
    - Critical path identification
    - Dependency SLO implications
    - Failure impact analysis
    - Circuit breaker implementation
    - Graceful degradation strategies
    - Third-party dependency tracking
    - Dependency health monitoring
  why_it_matters: |
    Dependencies determine achievable reliability:
    - Service reliability limited by dependencies
    - Unmapped dependencies cause surprise failures
    - Critical paths need special attention
    - Third-party dependencies add external risk

    Understanding dependencies enables appropriate SLO targets
    and graceful degradation planning.
  when_to_run:
  - Quarterly architecture reviews
  - When adding new dependencies
  - After dependency-related incidents
  - During SLO definition
  - When evaluating third parties
signals:
  critical:
  - id: SD-CRIT-001
    signal: Service dependencies not documented
    evidence_indicators:
    - No dependency map
    - Dependencies discovered during incidents
    - Critical paths unknown
    remediation: |
      - Create dependency mapping
      - Document all service dependencies
      - Identify critical paths
      - Update during changes
      - Review regularly
  - id: SD-CRIT-002
    signal: Single points of failure in dependencies
    evidence_indicators:
    - Critical services have single dependencies
    - No redundancy for key dependencies
    - Dependency failure causes outage
    remediation: |
      - Identify single points of failure
      - Add redundancy where possible
      - Implement circuit breakers
      - Plan graceful degradation
      - Test failure scenarios
  high:
  - id: SD-HIGH-001
    signal: Dependency SLOs not considered
    evidence_indicators:
    - SLO higher than dependency can support
    - Third-party SLAs not evaluated
    - Compound failure probability ignored
    remediation: |
      - Evaluate dependency SLOs
      - Calculate composite reliability
      - Set realistic SLO targets
      - Build in safety margin
      - Monitor dependency health
closeout_checklist:
- id: sd-001
  item: Service dependencies documented
  level: CRITICAL
  verification: manual
  verification_notes: Verify dependency map exists
  expected: Confirmed by reviewer
- id: sd-002
  item: Critical paths identified
  level: BLOCKING
  verification: manual
  verification_notes: Verify critical dependencies marked
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
relationships:
  commonly_combined:
  - operational-excellence.service-level-management.slo-definition
  - operational-excellence.production-readiness.production-checklist
discovery:
  file_patterns:
  - glob: '**/runbook*.md'
    purpose: Runbook documentation
  - glob: '**/playbook*.md'
    purpose: Playbook documentation
  - glob: '**/sop*.md'
    purpose: Standard operating procedures
  - glob: '**/oncall*.yaml'
    purpose: On-call configuration
  code_patterns:
  - pattern: runbook|playbook|incident|escalation|sla
    type: regex
    scope: all
    purpose: Operations references
