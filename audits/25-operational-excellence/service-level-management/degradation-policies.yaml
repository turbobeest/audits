audit:
  id: operational-excellence.service-level-management.degradation-policies
  name: Graceful Degradation Policies Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: service-level-management
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: architecture
  default_profiles:
  - full
  - production
description:
  what: |
    This audit examines graceful degradation policies including:
    - Degradation strategy definitions
    - Feature prioritization for degradation
    - Circuit breaker implementation
    - Fallback mechanisms
    - Degradation testing
    - User communication during degradation
    - Recovery from degraded state
    - Degradation metrics and monitoring
  why_it_matters: |
    Graceful degradation maintains user value during failures:
    - Partial functionality better than total outage
    - Prioritized features serve critical needs
    - Circuit breakers prevent cascade failures
    - Clear communication maintains trust

    Netflix's approach of serving cached content during failures
    exemplifies how degradation can maintain user experience
    even when core services are unavailable.
  when_to_run:
  - Quarterly architecture reviews
  - After dependency failures
  - When adding new features
  - During reliability planning
  - Before high-traffic events
prerequisites:
  required_access:
  - Architecture documentation
  - Service dependency maps
  - Feature flag configurations
  - Circuit breaker settings
  required_knowledge:
  - System architecture
  - Feature dependencies
  - User journey priorities
  - Failure modes
discovery:
  documentation_review:
  - Review degradation policies
  - Examine feature priority matrix
  - Check circuit breaker configurations
  - Analyze fallback implementations
  configuration_analysis:
  - Feature flag degradation modes
  - Circuit breaker thresholds
  - Timeout configurations
  - Retry policies
  architecture_review:
  - Dependency analysis
  - Failure domain mapping
  - Fallback service architecture
  - Cache strategies for degradation
  file_patterns:
  - glob: '**/runbook*.md'
    purpose: Runbook documentation
  - glob: '**/playbook*.md'
    purpose: Playbook documentation
  - glob: '**/sop*.md'
    purpose: Standard operating procedures
  - glob: '**/oncall*.yaml'
    purpose: On-call configuration
  code_patterns:
  - pattern: runbook|playbook|incident|escalation|sla
    type: regex
    scope: all
    purpose: Operations references
knowledge_sources:
  authoritative:
  - Release It! by Michael Nygard
  - Netflix Tech Blog - Chaos Engineering
  - AWS Architecture Best Practices
  - Google SRE - Managing Risk
  supplementary:
  - Hystrix Circuit Breaker patterns
  - Resilience4j documentation
  - Feature flag best practices
tooling:
  assessment:
  - name: Hystrix Dashboard
    purpose: Circuit breaker monitoring
  - name: Feature Flag Platforms
    purpose: Degradation control
  - name: Chaos Engineering tools
    purpose: Degradation testing
  automation:
  - name: Circuit Breaker Libraries
    purpose: Automatic degradation
  - name: Load Shedding Systems
    purpose: Capacity-based degradation
signals:
  critical:
  - id: DP-CRIT-001
    signal: No degradation strategy exists
    evidence_indicators:
    - All-or-nothing service behavior
    - Single failures cause complete outages
    - No fallback mechanisms
    remediation: |
      - Define degradation strategies
      - Prioritize features for degradation
      - Implement fallback mechanisms
      - Test degradation scenarios
      - Document degradation behavior
  - id: DP-CRIT-002
    signal: Cascade failures occur during degradation
    evidence_indicators:
    - One service failure cascades
    - No circuit breakers
    - Retry storms during failures
    remediation: |
      - Implement circuit breakers
      - Add bulkheads between services
      - Configure retry limits
      - Add timeout policies
      - Test cascade scenarios
  high:
  - id: DP-HIGH-001
    signal: Degradation not tested
    evidence_indicators:
    - Degradation behavior unknown
    - No chaos engineering
    - Failures in production surprise teams
    remediation: |
      - Implement chaos engineering
      - Test degradation scenarios
      - Validate fallback behavior
      - Document expected behavior
      - Run regular failure tests
  - id: DP-HIGH-002
    signal: No feature prioritization for degradation
    evidence_indicators:
    - All features treated equally
    - Critical features degraded unnecessarily
    - No business priority in degradation
    remediation: |
      - Create feature priority matrix
      - Align priorities with business
      - Protect critical user journeys
      - Implement tiered degradation
      - Test priority enforcement
  medium:
  - id: DP-MED-001
    signal: Users not informed during degradation
    evidence_indicators:
    - Silent feature removal
    - Users discover issues themselves
    - No degradation messaging
    remediation: |
      - Implement degradation banners
      - Communicate reduced functionality
      - Set user expectations
      - Provide status page updates
      - Enable user notifications
  - id: DP-MED-002
    signal: Manual intervention required for degradation
    evidence_indicators:
    - Degradation requires engineer action
    - Slow degradation response
    - No automatic circuit breakers
    remediation: |
      - Automate degradation triggers
      - Implement automatic circuit breakers
      - Configure failure thresholds
      - Add automatic fallbacks
      - Reduce time to degradation
  low:
  - id: DP-LOW-001
    signal: Degradation metrics not tracked
    evidence_indicators:
    - Unknown degradation frequency
    - Duration of degraded state unknown
    - Impact not measured
    remediation: |
      - Track degradation events
      - Measure degradation duration
      - Monitor feature availability
      - Report degradation impact
      - Analyze degradation trends
  positive:
  - id: DP-POS-001
    signal: Comprehensive degradation strategy implemented
    evidence_indicators:
    - Feature priority matrix exists
    - Circuit breakers configured
    - Fallbacks tested regularly
    - Degradation communicated to users
    validation: Review degradation architecture and testing
procedure:
  step_1:
    name: Review degradation policies
    actions:
    - Examine degradation documentation
    - Review feature priority matrix
    - Check degradation decision criteria
    - Understand business priorities
  step_2:
    name: Analyze implementation
    actions:
    - Review circuit breaker configurations
    - Check fallback implementations
    - Examine timeout settings
    - Analyze retry policies
  step_3:
    name: Evaluate testing
    actions:
    - Review chaos engineering practices
    - Check degradation test coverage
    - Analyze failure injection testing
    - Verify recovery testing
  step_4:
    name: Assess user experience
    actions:
    - Review degradation messaging
    - Check user communication
    - Analyze degraded UX design
    - Verify status page integration
output:
  artifacts:
  - Degradation policy assessment
  - Circuit breaker configuration review
  - Testing coverage analysis
  - Recommendations for improvement
  metrics:
  - Degradation strategy coverage
  - Circuit breaker configuration completeness
  - Testing coverage percentage
  - Mean time to degrade
closeout_checklist:
- id: dp-001
  item: Degradation strategies documented
  level: CRITICAL
  verification: manual
  verification_notes: Verify degradation policies exist
  expected: Confirmed by reviewer
- id: dp-002
  item: Circuit breakers implemented
  level: BLOCKING
  verification: manual
  verification_notes: Verify circuit breaker configurations
  expected: Confirmed by reviewer
- id: dp-003
  item: Degradation scenarios tested
  level: REQUIRED
  verification: manual
  verification_notes: Verify chaos engineering or failure testing
  expected: Evidence of degradation testing
governance:
  applicable_to:
    archetypes:
    - all
relationships:
  commonly_combined:
  - operational-excellence.service-level-management.service-dependencies
  - operational-excellence.incident-management.incident-response-process
