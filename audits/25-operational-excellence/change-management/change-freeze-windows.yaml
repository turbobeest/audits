audit:
  id: operational-excellence.change-management.change-freeze-windows
  name: Change Freeze Windows Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: change-management
  tier: phd
  estimated_duration: 2 hours
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: process
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines change freeze practices including:
    - Freeze window definitions and schedules
    - Exception process for critical changes
    - Technical enforcement mechanisms
    - Freeze communication and coordination
    - Freeze effectiveness tracking
    - Holiday and peak season freezes
    - Freeze duration optimization
    - Post-freeze backlog management
  why_it_matters: |
    Change freezes protect critical business periods:
    - Peak traffic periods (holidays, events) require stability
    - Reduced staffing periods increase incident risk
    - Regulatory deadlines need stable systems
    - Major customer events should not be disrupted

    Well-implemented freezes balance protection with velocity.
    Overly long or frequent freezes hurt development velocity
    while inadequate freezes expose the business to risk.
  when_to_run:
  - Before defining freeze windows
  - After freeze violations occur
  - During annual planning
  - When freeze complaints arise
  - Post-incident if freeze-related
prerequisites:
  required_artifacts:
  - type: freeze_policy
    description: Change freeze policy documentation
  - type: freeze_schedule
    description: Freeze window calendar
  - type: exception_records
    description: Freeze exception history
  access_requirements:
  - Freeze policy documentation
  - Freeze schedule access
  - Exception process documentation
  - Historical freeze data
discovery:
  code_patterns:
  - pattern: (freeze|blackout|moratorium).*(window|period|date)
    type: regex
    scope: docs
    purpose: Detect freeze window documentation
  - pattern: (exception|emergency|critical).*(freeze|deploy)
    type: regex
    scope: docs
    purpose: Detect exception processes
  file_patterns:
  - glob: '**/freeze*/**/*.{md,yaml,yml}'
    purpose: Freeze documentation
  - glob: '**/calendar*/**/*.{yaml,yml}'
    purpose: Schedule configurations
knowledge_sources:
  specifications:
  - id: itil-change-freeze
    name: ITIL 4 - Change Freeze Management
    url: https://www.axelos.com/certifications/itil-service-management
    offline_cache: true
    priority: required
  guides:
  - id: deployment-freeze-practices
    name: Deployment Freeze Best Practices
    url: https://cloud.google.com/architecture/application-deployment
    offline_cache: true
tooling:
  scripts:
  - id: freeze-scanner
    language: bash
    purpose: Find freeze documentation
    source: inline
    code: |
      #!/bin/bash
      echo "=== Change Freeze Documentation Scan ==="
      find . -type f \( -name "*freeze*" -o -name "*blackout*" \) \
        \( -name "*.md" -o -name "*.yaml" \) 2>/dev/null | head -20
signals:
  critical:
  - id: CFW-CRIT-001
    signal: No change freeze policy for critical periods
    evidence_indicators:
    - No freeze windows defined
    - Peak periods unprotected
    - Deployments during major events
    explanation: |
      Critical business periods (e.g., Black Friday, year-end close)
      require stability. Without freeze windows, changes during these
      periods can cause significant business impact.
    remediation: |
      - Define critical business periods
      - Establish freeze windows
      - Document freeze policy
      - Communicate freeze schedule
      - Implement technical enforcement
  - id: CFW-CRIT-002
    signal: Freeze windows not technically enforced
    evidence_indicators:
    - Freeze is policy only, not enforced
    - Deployments continue during freeze
    - No deployment blocking
    explanation: |
      Policy-only freezes depend on human compliance and fail.
      Technical enforcement prevents accidental or unauthorized
      deployments during freeze windows.
    remediation: |
      - Configure deployment blocking
      - Integrate with CI/CD pipelines
      - Implement freeze calendar checks
      - Alert on freeze violations
      - Audit deployment logs
  high:
  - id: CFW-HIGH-001
    signal: No exception process for critical fixes
    evidence_indicators:
    - No way to deploy during freeze
    - Security patches blocked
    - Critical bugs unfixable
    explanation: |
      Freeze windows need exception processes for critical fixes.
      Security vulnerabilities and severe bugs may require
      deployment even during freeze periods.
    remediation: |
      - Define exception criteria
      - Create exception approval process
      - Document exception workflow
      - Require risk assessment for exceptions
      - Track exception usage
  - id: CFW-HIGH-002
    signal: Freeze duration excessively long
    evidence_indicators:
    - Freezes lasting weeks
    - Development velocity severely impacted
    - Large post-freeze deployment backlogs
    explanation: |
      Overly long freezes hurt velocity and create risky post-freeze
      deployment surges. Freeze duration should be minimized to
      essential periods only.
    remediation: |
      - Review freeze duration necessity
      - Minimize freeze windows
      - Consider rolling freezes
      - Plan work around freezes
      - Manage post-freeze carefully
  medium:
  - id: CFW-MED-001
    signal: Freeze schedule not communicated
    evidence_indicators:
    - Teams surprised by freezes
    - Last-minute freeze announcements
    - No advance freeze calendar
    explanation: |
      Teams need advance notice to plan work around freezes.
      Late communication causes rushed deployments before freeze
      or frustration when changes are blocked.
    remediation: |
      - Publish freeze calendar annually
      - Communicate freezes with 30+ days notice
      - Send reminders before freeze starts
      - Make calendar easily accessible
      - Include freeze in sprint planning
  - id: CFW-MED-002
    signal: No freeze effectiveness tracking
    evidence_indicators:
    - Freeze impact unknown
    - No incident comparison during freezes
    - Freeze value not demonstrated
    explanation: |
      Tracking effectiveness validates freeze value. Compare incident
      rates during freeze vs normal periods to demonstrate benefit.
    remediation: |
      - Track incidents during freeze periods
      - Compare to normal period baselines
      - Measure velocity impact
      - Report freeze effectiveness
      - Adjust strategy based on data
  low:
  - id: CFW-LOW-001
    signal: Exception metrics not tracked
    evidence_indicators:
    - Number of exceptions unknown
    - Exception patterns not analyzed
    - Exception abuse not detected
    explanation: |
      Tracking exceptions identifies potential abuse and validates
      freeze integrity. Frequent exceptions may indicate freeze
      problems or process issues.
    remediation: |
      - Track exception frequency
      - Record exception reasons
      - Analyze exception patterns
      - Report exception metrics
      - Address systemic issues
  positive:
  - id: CFW-POS-001
    signal: Well-defined freeze windows with enforcement
    evidence_indicators:
    - Critical periods identified
    - Technical enforcement configured
    - Schedule communicated in advance
  - id: CFW-POS-002
    signal: Effective exception process
    evidence_indicators:
    - Clear exception criteria
    - Streamlined exception approval
    - Exception usage appropriate
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Freeze Policy Review
    description: |
      Examine freeze window policy and documentation.
    duration_estimate: 30 min
    commands:
    - purpose: Find freeze documentation
      command: |
        find . -type f \( -name "*freeze*" -o -name "*blackout*" \) \
          -name "*.md" 2>/dev/null | head -20
    - purpose: Search for freeze policies
      command: |
        grep -rniE "(freeze|blackout|moratorium).*(policy|window|period)" \
          --include="*.md" . 2>/dev/null | head -30
    expected_findings:
    - Freeze policy
    - Window definitions
    - Duration rules
  - id: '2'
    name: Technical Enforcement Review
    description: |
      Assess technical freeze enforcement mechanisms.
    duration_estimate: 30 min
    commands:
    - purpose: Find freeze enforcement
      command: |
        grep -rniE "(freeze|blackout).*(check|block|prevent|enforce)" \
          --include="*.yaml" --include="*.sh" . 2>/dev/null | head -20
    - purpose: Search for deployment blocks
      command: |
        grep -rniE "(deploy|release).*(block|prevent|disable)" \
          --include="*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - Enforcement mechanisms
    - Blocking configurations
    - Pipeline controls
  - id: '3'
    name: Exception Process Review
    description: |
      Evaluate freeze exception procedures.
    duration_estimate: 30 min
    commands:
    - purpose: Find exception documentation
      command: |
        grep -rniE "(exception|emergency|critical).*(freeze|deploy)" \
          --include="*.md" . 2>/dev/null | head -20
    expected_findings:
    - Exception process
    - Approval requirements
    - Emergency procedures
  - id: '4'
    name: Schedule and Communication Review
    description: |
      Assess freeze schedule and communication.
    duration_estimate: 30 min
    commands:
    - purpose: Find freeze calendar
      command: |
        find . -type f \( -name "*calendar*" -o -name "*schedule*" \) \
          -exec grep -l -i freeze {} \; 2>/dev/null | head -10
    expected_findings:
    - Freeze schedule
    - Communication records
    - Advance notice
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Policy Assessment
    - Enforcement Review
    - Exception Analysis
    - Recommendations
  - type: freeze_calendar
    format: table
    description: Freeze windows and characteristics
  confidence_guidance:
    high: Freeze policy and enforcement documented
    medium: Policy exists but enforcement unclear
    low: Freeze practices informal or unclear
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: itil-change-freeze
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Freeze audit requires policy review
    full:
      included: true
      priority: 3
    production:
      included: true
      priority: 2
closeout_checklist:
- id: cfw-001
  item: Freeze windows defined for critical periods
  level: CRITICAL
  verification: |
    grep -rniE "(freeze|blackout).*(window|period)" \
      --include="*.md" . 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: cfw-002
  item: Technical enforcement configured
  level: BLOCKING
  verification: manual
  verification_notes: Verify deployment blocking during freeze windows
  expected: Confirmed by reviewer
- id: cfw-003
  item: Exception process defined
  level: BLOCKING
  verification: |
    grep -rniE "(exception|emergency).*(freeze)" \
      --include="*.md" . 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: cfw-004
  item: Freeze schedule communicated in advance
  level: WARNING
  verification: manual
  verification_notes: Verify freeze calendar published
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: SOC 2
    controls:
    - CC8.1
  - framework: ITIL 4
    controls:
    - Change Enablement
relationships:
  commonly_combined:
  - operational-excellence.change-management.change-approval-process
  - operational-excellence.change-management.emergency-change-process
  - operational-excellence.capacity-planning.capacity-forecasting
