audit:
  id: operational-excellence.change-management.change-risk-assessment
  name: Change Risk Assessment Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: change-management
  tier: phd
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: process
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines change risk assessment practices including:
    - Risk classification criteria and categories
    - Impact and urgency evaluation
    - Risk scoring methodologies
    - Assessment checklist and questionnaires
    - Historical risk data utilization
    - Risk-based approval routing
    - Risk mitigation requirements
    - Assessment accuracy tracking
  why_it_matters: |
    Accurate risk assessment enables appropriate change handling:
    - High-risk changes receive necessary scrutiny
    - Low-risk changes aren't delayed by excessive process
    - Resources focus on changes most likely to cause issues
    - Risk patterns inform improvement efforts

    ITIL emphasizes that change assessment should evaluate impact,
    urgency, and risk to determine appropriate handling. Underestimating
    risk leads to outages; overestimating risk slows velocity.
  when_to_run:
  - Quarterly operational reviews
  - After high-impact change incidents
  - When risk classification disputes arise
  - During process improvement initiatives
  - When updating change policies
prerequisites:
  required_artifacts:
  - type: risk_criteria
    description: Risk classification criteria documentation
  - type: change_records
    description: Historical change records with risk assessments
  - type: assessment_tools
    description: Risk assessment checklists or questionnaires
  access_requirements:
  - Risk criteria documentation
  - Change record access
  - Assessment tool access
  - Historical change data
discovery:
  code_patterns:
  - pattern: (risk|impact|urgency).*(assess|evaluat|score|level)
    type: regex
    scope: docs
    purpose: Detect risk assessment documentation
  - pattern: (high|medium|low|critical).*(risk|impact|change)
    type: regex
    scope: config
    purpose: Detect risk level definitions
  - pattern: (checklist|questionnaire|form).*(risk|change)
    type: regex
    scope: docs
    purpose: Detect assessment tools
  file_patterns:
  - glob: '**/risk*/**/*.{md,yaml,yml}'
    purpose: Risk documentation
  - glob: '**/change*/**/*.{md,yaml,yml}'
    purpose: Change documentation
  - glob: '**/assessment*/**/*.md'
    purpose: Assessment documentation
knowledge_sources:
  specifications:
  - id: itil-change-assessment
    name: ITIL 4 - Change Assessment
    url: https://www.axelos.com/certifications/itil-service-management
    offline_cache: true
    priority: required
  guides:
  - id: risk-assessment-frameworks
    name: IT Risk Assessment Frameworks
    url: https://www.nist.gov/cyberframework
    offline_cache: true
tooling:
  scripts:
  - id: risk-criteria-scanner
    language: bash
    purpose: Find risk assessment documentation
    source: inline
    code: |
      #!/bin/bash
      echo "=== Risk Assessment Documentation Scan ==="
      find . -type f \( -name "*risk*" -o -name "*assess*" \) \
        \( -name "*.md" -o -name "*.yaml" \) 2>/dev/null | head -30
signals:
  critical:
  - id: CRA-CRIT-001
    signal: No risk assessment process exists
    evidence_indicators:
    - No risk criteria documented
    - Changes deployed without risk evaluation
    - All changes treated equally
    explanation: |
      Without risk assessment, high-risk changes receive the same
      treatment as routine changes. This either delays everything
      or exposes production to significant risk.
    remediation: |
      - Define risk classification criteria
      - Create assessment checklist
      - Require risk assessment for all changes
      - Route changes based on risk level
      - Train team on assessment
  - id: CRA-CRIT-002
    signal: Risk assessment consistently inaccurate
    evidence_indicators:
    - High-risk changes marked as low-risk
    - Incidents from underestimated changes
    - No assessment accuracy tracking
    explanation: |
      Inaccurate assessment defeats risk management purpose. If risky
      changes consistently bypass scrutiny, the assessment process
      provides false confidence rather than protection.
    remediation: |
      - Compare assessed risk to outcomes
      - Identify systematic underestimation
      - Improve assessment criteria
      - Train on accurate assessment
      - Track assessment accuracy
  high:
  - id: CRA-HIGH-001
    signal: Risk criteria are subjective
    evidence_indicators:
    - Criteria rely on judgment without guidelines
    - Same change assessed differently by different people
    - No objective measures included
    explanation: |
      Subjective criteria lead to inconsistent assessment. Criteria
      should include objective measures (blast radius, customer impact,
      reversibility) to ensure consistent evaluation.
    remediation: |
      - Add objective criteria to assessment
      - Define measurable thresholds
      - Include blast radius in criteria
      - Consider reversibility
      - Standardize assessment process
  - id: CRA-HIGH-002
    signal: Historical risk data not used
    evidence_indicators:
    - Past incidents not informing assessment
    - No learning from previous changes
    - Same risky patterns not recognized
    explanation: |
      Historical data reveals patterns that predict risk. Changes
      similar to past incidents should receive heightened scrutiny.
      Not using this data wastes organizational learning.
    remediation: |
      - Analyze historical change incidents
      - Identify risky change patterns
      - Incorporate patterns into assessment
      - Flag changes matching past incidents
      - Continuously update risk indicators
  medium:
  - id: CRA-MED-001
    signal: Risk-based routing not implemented
    evidence_indicators:
    - Same approval process for all risk levels
    - High-risk changes don't get extra review
    - Low-risk changes wait unnecessarily
    explanation: |
      Risk assessment should drive workflow. Higher risk changes
      need more reviewers, testing, or safeguards. Lower risk
      changes can proceed faster.
    remediation: |
      - Route changes based on assessed risk
      - Add requirements for high-risk changes
      - Streamline low-risk change approval
      - Configure risk-based workflows
      - Balance safety and velocity
  - id: CRA-MED-002
    signal: Mitigation not required for high-risk changes
    evidence_indicators:
    - High-risk changes approved without mitigation
    - No rollback plan required
    - Monitoring not enhanced for risky changes
    explanation: |
      High-risk changes should have mitigation plans. Rollback
      procedures, enhanced monitoring, and phased rollouts reduce
      risk impact even if issues occur.
    remediation: |
      - Require mitigation for high-risk changes
      - Document rollback procedures
      - Plan enhanced monitoring
      - Consider phased deployment
      - Verify mitigation before approval
  low:
  - id: CRA-LOW-001
    signal: Assessment accuracy not tracked
    evidence_indicators:
    - No comparison of assessed vs actual risk
    - Assessment quality unknown
    - No feedback loop for improvement
    explanation: |
      Tracking accuracy enables improvement. Comparing assessed risk
      to outcomes reveals systematic bias and improvement opportunities.
    remediation: |
      - Track assessed risk vs outcomes
      - Identify accuracy patterns
      - Report accuracy metrics
      - Use data to improve criteria
      - Provide assessment feedback
  positive:
  - id: CRA-POS-001
    signal: Objective risk assessment with historical learning
    evidence_indicators:
    - Clear, measurable risk criteria
    - Historical patterns inform assessment
    - Risk-based routing implemented
  - id: CRA-POS-002
    signal: Mitigation required for high-risk changes
    evidence_indicators:
    - Rollback plans documented
    - Enhanced monitoring planned
    - Phased deployment for risky changes
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Risk Criteria Review
    description: |
      Examine risk classification criteria and definitions.
    duration_estimate: 30 min
    commands:
    - purpose: Find risk criteria documentation
      command: |
        find . -type f \( -name "*risk*" -o -name "*assess*" \) \
          -name "*.md" 2>/dev/null | head -20
    - purpose: Search for risk level definitions
      command: |
        grep -rniE "(high|medium|low|critical).*(risk|impact)" \
          --include="*.md" --include="*.yaml" . 2>/dev/null | head -30
    expected_findings:
    - Risk criteria documentation
    - Level definitions
    - Assessment factors
  - id: '2'
    name: Assessment Tool Review
    description: |
      Examine risk assessment checklists and tools.
    duration_estimate: 30 min
    commands:
    - purpose: Find assessment checklists
      command: |
        find . -type f \( -name "*checklist*" -o -name "*questionnaire*" \) \
          2>/dev/null | head -20
    - purpose: Search for assessment questions
      command: |
        grep -rniE "(impact|blast.radius|revert|rollback|customer)" \
          --include="*.md" . 2>/dev/null | head -30
    expected_findings:
    - Assessment tools
    - Checklist items
    - Evaluation questions
  - id: '3'
    name: Risk-Based Routing Review
    description: |
      Assess how risk assessment drives change handling.
    duration_estimate: 30 min
    commands:
    - purpose: Find risk-based routing
      command: |
        grep -rniE "(risk|level).*(route|workflow|approval)" \
          --include="*.yaml" --include="*.md" . 2>/dev/null | head -20
    - purpose: Search for mitigation requirements
      command: |
        grep -rniE "(mitigat|rollback|monitor).*(required|plan)" \
          --include="*.md" . 2>/dev/null | head -20
    expected_findings:
    - Routing rules
    - Mitigation requirements
    - Level-based handling
  - id: '4'
    name: Accuracy and Learning Review
    description: |
      Evaluate use of historical data and accuracy tracking.
    duration_estimate: 30 min
    commands:
    - purpose: Find accuracy tracking
      command: |
        grep -rniE "(accuracy|outcome|actual|retrospect)" \
          --include="*.md" . 2>/dev/null | head -20
    - purpose: Search for historical analysis
      command: |
        grep -rniE "(histor|previous|past).*(change|incident|risk)" \
          --include="*.md" . 2>/dev/null | head -20
    expected_findings:
    - Accuracy metrics
    - Historical analysis
    - Learning mechanisms
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Risk Criteria Assessment
    - Assessment Tool Review
    - Routing Analysis
    - Recommendations
  - type: risk_matrix
    format: table
    description: Risk levels and corresponding requirements
  confidence_guidance:
    high: Risk criteria and assessment documented
    medium: Partial documentation, practices inferred
    low: Risk assessment unclear, requires investigation
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: itil-change-assessment
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Risk assessment audit requires thorough review
    full:
      included: true
      priority: 2
    production:
      included: true
      priority: 2
closeout_checklist:
- id: cra-001
  item: Risk criteria are documented
  level: CRITICAL
  verification: |
    grep -rniE "(risk|impact).*(criteria|level|categor)" \
      --include="*.md" . 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: cra-002
  item: Risk assessment required for changes
  level: CRITICAL
  verification: manual
  verification_notes: Verify all changes undergo risk assessment
  expected: Confirmed by reviewer
- id: cra-003
  item: Risk-based routing implemented
  level: BLOCKING
  verification: manual
  verification_notes: Verify high-risk changes get additional requirements
  expected: Confirmed by reviewer
- id: cra-004
  item: Mitigation required for high-risk
  level: WARNING
  verification: |
    grep -rniE "high.*(risk|mitigat|rollback)" \
      --include="*.md" . 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "NEEDS_REVIEW"
  expected: PASS
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: SOC 2
    controls:
    - CC8.1
  - framework: ISO 27001
    controls:
    - A.12.1.2
  - framework: ITIL 4
    controls:
    - Change Enablement
relationships:
  commonly_combined:
  - operational-excellence.change-management.change-approval-process
  - operational-excellence.change-management.change-rollback-procedures
  - operational-excellence.production-readiness.readiness-review
