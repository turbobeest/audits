audit:
  id: operational-excellence.operational-metrics.service-health-metrics
  name: Service Health Metrics Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: operational-metrics
  tier: expert
  estimated_duration: 2-3 hours  # median: 2h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: metrics
  default_profiles:
  - full
  - operational
  - production
description:
  what: |
    This audit examines service health metrics including:
    - Availability and uptime metrics
    - Latency and performance metrics
    - Error rates and types
    - Throughput and capacity metrics
    - Resource utilization
    - Dependency health
    - SLI/SLO tracking
    - Health score aggregation
  why_it_matters: |
    Service health metrics drive operational decisions:
    - Enable proactive issue detection
    - Support capacity planning
    - Guide prioritization
    - Demonstrate reliability to stakeholders

    Without comprehensive health metrics, teams operate
    reactively and cannot demonstrate or improve reliability.
  when_to_run:
  - Monthly health reviews
  - Quarterly operational assessments
  - After reliability incidents
  - When adding new services
  - During SLO reviews
prerequisites:
  required_access:
  - Monitoring systems
  - Metrics platforms
  - Service dashboards
  - SLO tracking systems
  required_knowledge:
  - Service architecture
  - Reliability requirements
  - Monitoring best practices
  - SLI/SLO concepts
discovery:
  configuration_review:
  - Review metric collection
  - Examine dashboard coverage
  - Check alerting configuration
  - Assess SLI implementation
  data_analysis:
  - Analyze metric completeness
  - Review data quality
  - Check retention policies
  - Assess aggregation methods
  file_patterns:
  - glob: '**/runbook*.md'
    purpose: Runbook documentation
  - glob: '**/playbook*.md'
    purpose: Playbook documentation
  - glob: '**/sop*.md'
    purpose: Standard operating procedures
  - glob: '**/oncall*.yaml'
    purpose: On-call configuration
  code_patterns:
  - pattern: runbook|playbook|incident|escalation|sla
    type: regex
    scope: all
    purpose: Operations references
knowledge_sources:
  authoritative:
  - Google SRE - Monitoring
  - Observability Engineering
  - Site Reliability Workbook
  - USE and RED methods
  supplementary:
  - Prometheus best practices
  - Metrics naming conventions
  - Dashboard design patterns
tooling:
  assessment:
  - name: Prometheus/Datadog/etc
    purpose: Metrics collection
  - name: Grafana/Dashboards
    purpose: Metric visualization
  - name: SLO Platforms
    purpose: SLI/SLO tracking
  automation:
  - name: Metric Generation
    purpose: Automatic instrumentation
  - name: Health Aggregation
    purpose: Service health scores
signals:
  critical:
  - id: SHM-CRIT-001
    signal: No service health metrics
    evidence_indicators:
    - Service health unknown
    - No availability tracking
    - No performance metrics
    remediation: |
      - Implement basic health metrics
      - Track availability
      - Measure latency
      - Monitor error rates
      - Create health dashboard
  - id: SHM-CRIT-002
    signal: Health metrics significantly inaccurate
    evidence_indicators:
    - Metrics don't match reality
    - Issues not detected
    - False positives/negatives
    remediation: |
      - Audit metric accuracy
      - Fix measurement issues
      - Validate against user experience
      - Implement end-to-end measurement
      - Monitor metric health
  high:
  - id: SHM-HIGH-001
    signal: SLIs not measured
    evidence_indicators:
    - SLOs defined but not tracked
    - No SLI implementation
    - Error budget unknown
    remediation: |
      - Implement SLI metrics
      - Configure SLO tracking
      - Create SLO dashboards
      - Enable error budget tracking
      - Automate compliance reporting
  - id: SHM-HIGH-002
    signal: Critical metrics missing
    evidence_indicators:
    - Incomplete metric coverage
    - Key behaviors unmeasured
    - Blind spots in monitoring
    remediation: |
      - Identify missing metrics
      - Implement coverage
      - Use RED/USE methods
      - Validate completeness
      - Review regularly
  medium:
  - id: SHM-MED-001
    signal: Metrics not actionable
    evidence_indicators:
    - Metrics collected but unused
    - No alerting on metrics
    - Decisions not data-driven
    remediation: |
      - Configure alerting
      - Create actionable dashboards
      - Use metrics in decisions
      - Train team on metrics
      - Regular metric reviews
  - id: SHM-MED-002
    signal: No aggregate health score
    evidence_indicators:
    - Many individual metrics
    - No overall health view
    - Hard to assess service state
    remediation: |
      - Create health score
      - Aggregate key metrics
      - Define health thresholds
      - Display on dashboard
      - Use in reporting
  low:
  - id: SHM-LOW-001
    signal: Metric retention insufficient
    evidence_indicators:
    - Cannot analyze trends
    - Historical data missing
    - Short retention period
    remediation: |
      - Review retention needs
      - Configure appropriate retention
      - Archive important metrics
      - Enable trend analysis
      - Balance cost and utility
  positive:
  - id: SHM-POS-001
    signal: Comprehensive health metrics
    evidence_indicators:
    - Full metric coverage
    - Accurate measurements
    - SLIs tracked
    - Actionable dashboards
    validation: Review metrics and usage
procedure:
  step_1:
    name: Inventory metrics
    actions:
    - List all service metrics
    - Categorize by type
    - Check coverage
    - Identify gaps
  step_2:
    name: Assess quality
    actions:
    - Validate metric accuracy
    - Check data quality
    - Review collection reliability
    - Test metric freshness
  step_3:
    name: Evaluate usage
    actions:
    - Review dashboards
    - Check alerting coverage
    - Assess decision usage
    - Interview team members
  step_4:
    name: Plan improvements
    actions:
    - Identify gaps to fill
    - Plan quality improvements
    - Create improvement backlog
    - Set coverage targets
output:
  artifacts:
  - Metrics inventory
  - Coverage analysis
  - Quality assessment
  - Improvement recommendations
  metrics:
  - Metric coverage percentage
  - Dashboard completeness
  - Alerting coverage
  - SLI implementation status
closeout_checklist:
- id: shm-001
  item: Core health metrics collected
  level: CRITICAL
  verification: technical
  verification_notes: Verify availability, latency, error metrics
  expected: Core metrics present
- id: shm-002
  item: Health dashboard exists
  level: BLOCKING
  verification: manual
  verification_notes: Verify operational dashboard available
  expected: Dashboard reviewed
- id: shm-003
  item: SLIs implemented
  level: REQUIRED
  verification: technical
  verification_notes: Verify SLI metrics being collected
  expected: SLIs tracked
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: Google SRE
    controls:
    - Monitoring
    - SLIs/SLOs
relationships:
  commonly_combined:
  - operational-excellence.service-level-management.sli-measurement
  - operational-excellence.production-readiness.monitoring-readiness
