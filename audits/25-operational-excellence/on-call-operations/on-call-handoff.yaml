audit:
  id: operational-excellence.on-call-operations.on-call-handoff
  name: On-Call Handoff Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: on-call-operations
  tier: phd
  estimated_duration: 2 hours
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: process
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines on-call handoff practices including:
    - Handoff timing and overlap
    - Information transfer procedures
    - Active incident handoff
    - Known issue communication
    - Recent change awareness
    - Handoff documentation
    - Handoff verification
    - Automated handoff assistance
  why_it_matters: |
    Effective handoffs ensure continuity and prevent dropped incidents:
    - Incoming responders need context about ongoing issues
    - Recent changes may affect current stability
    - Active incidents require smooth transition
    - Missing context extends incident resolution

    Poor handoffs cause incidents to stall during transitions, extend
    resolution times, and create frustration for responders who lack
    context about system state.
  when_to_run:
  - Quarterly operational reviews
  - When handoff issues occur
  - During on-call process improvements
  - After rotation schedule changes
  - When on-call tools change
prerequisites:
  required_artifacts:
  - type: handoff_documentation
    description: Handoff procedure documentation
  - type: rotation_config
    description: Rotation schedule configuration
  - type: handoff_templates
    description: Handoff report templates
  access_requirements:
  - Handoff documentation access
  - On-call tool access
  - Historical handoff records
  - Rotation schedule access
discovery:
  code_patterns:
  - pattern: (handoff|hand-off|handover|transition)
    type: regex
    scope: docs
    purpose: Detect handoff documentation
  - pattern: (shift.change|rotation.change|oncall.change)
    type: regex
    scope: docs
    purpose: Detect shift transition procedures
  - pattern: (known.issue|active.incident|ongoing)
    type: regex
    scope: docs
    purpose: Detect issue communication patterns
  file_patterns:
  - glob: '**/handoff*.{md,yaml,yml}'
    purpose: Handoff documentation
  - glob: '**/oncall*/**/*.md'
    purpose: On-call documentation
  - glob: '**/templates/*handoff*'
    purpose: Handoff templates
knowledge_sources:
  specifications:
  - id: google-sre-oncall
    name: Google SRE - Being On-Call
    url: https://sre.google/sre-book/being-on-call/
    offline_cache: true
    priority: required
  guides:
  - id: pagerduty-handoff
    name: PagerDuty On-Call Handoff Guide
    url: https://www.pagerduty.com/resources/learn/on-call-handoff/
    offline_cache: true
tooling:
  infrastructure_tools:
  - tool: pagerduty
    purpose: On-call schedule and handoff
    command: pd oncall current
  scripts:
  - id: handoff-scanner
    language: bash
    purpose: Find handoff documentation
    source: inline
    code: |
      #!/bin/bash
      echo "=== Handoff Documentation Scan ==="
      find . -type f \( -name "*handoff*" -o -name "*hand-off*" -o -name "*transition*" \) \
        -name "*.md" 2>/dev/null | head -20
signals:
  critical:
  - id: OCH-CRIT-001
    signal: No handoff procedure exists
    evidence_indicators:
    - No handoff documentation found
    - Shifts change without communication
    - Incoming responders have no context
    explanation: |
      Without handoff procedures, critical context is lost during
      shift transitions. Incoming responders may be unaware of active
      incidents, recent changes, or known issues, leading to delayed
      response or repeated troubleshooting.
    remediation: |
      - Document handoff procedure
      - Create handoff checklist
      - Implement handoff meetings or notes
      - Define required handoff content
      - Train team on handoff process
  - id: OCH-CRIT-002
    signal: Active incidents lost during handoff
    evidence_indicators:
    - Incidents stall at shift changes
    - No active incident handoff process
    - Incoming responders unaware of ongoing work
    explanation: |
      Active incidents require explicit handoff to ensure continuity.
      Without clear transfer, incidents may be dropped, duplicated
      effort occurs, or resolution is significantly delayed.
    remediation: |
      - Define active incident handoff procedure
      - Require explicit acknowledgment transfer
      - Brief incoming responder on active work
      - Update incident records with new owner
      - Extend shift if incident critical
  high:
  - id: OCH-HIGH-001
    signal: No handoff overlap period
    evidence_indicators:
    - Shifts change at exact time
    - No overlap between shifts
    - Handoff done asynchronously only
    explanation: |
      Overlap periods allow direct communication between outgoing and
      incoming responders. Without overlap, context transfer is limited
      to written notes, missing nuance and real-time Q&A.
    remediation: |
      - Configure 15-30 minute overlap
      - Schedule synchronous handoff time
      - Enable real-time handoff call/meeting
      - Document overlap expectations
      - Monitor overlap compliance
  - id: OCH-HIGH-002
    signal: Recent changes not communicated in handoff
    evidence_indicators:
    - No deployment awareness in handoff
    - Recent changes not mentioned
    - Incoming responder surprised by changes
    explanation: |
      Recent changes are common incident causes. Responders need to
      know what changed to effectively troubleshoot. Handoffs should
      include recent deployment and configuration changes.
    remediation: |
      - Include recent changes in handoff
      - Link to deployment logs
      - Note experimental features
      - Highlight change-related risks
      - Automate change summary generation
  medium:
  - id: OCH-MED-001
    signal: No handoff template or structure
    evidence_indicators:
    - Ad-hoc handoff content
    - Inconsistent information shared
    - Key information sometimes missing
    explanation: |
      Without structure, handoffs vary in quality and completeness.
      Templates ensure all critical information is communicated
      consistently across all handoffs.
    remediation: |
      - Create handoff template
      - Include required sections
      - Automate template generation
      - Review template periodically
      - Train on template usage
  - id: OCH-MED-002
    signal: Known issues not communicated
    evidence_indicators:
    - Recurring issues not in handoff
    - Known workarounds not shared
    - Expected alerts not mentioned
    explanation: |
      Known issues and expected alerts should be communicated to prevent
      unnecessary investigation. Incoming responders need to distinguish
      known conditions from new problems.
    remediation: |
      - Include known issues section
      - Document expected alerts
      - Share current workarounds
      - Note open investigations
      - Track issue resolution
  low:
  - id: OCH-LOW-001
    signal: Handoff quality not measured
    evidence_indicators:
    - No handoff completeness tracking
    - Handoff satisfaction unknown
    - No feedback mechanism
    explanation: |
      Without measurement, handoff quality varies without visibility.
      Tracking completeness and satisfaction enables improvement.
    remediation: |
      - Track handoff completion rate
      - Survey handoff satisfaction
      - Review handoff incidents
      - Identify improvement areas
      - Report handoff metrics
  positive:
  - id: OCH-POS-001
    signal: Comprehensive handoff process with overlap
    evidence_indicators:
    - Structured handoff procedure
    - Overlap period configured
    - Active incident transfer defined
  - id: OCH-POS-002
    signal: Automated handoff assistance
    evidence_indicators:
    - Automated handoff report generation
    - Recent changes auto-included
    - Active incident summary automated
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Handoff Procedure Review
    description: |
      Examine handoff procedure documentation.
    duration_estimate: 30 min
    commands:
    - purpose: Find handoff documentation
      command: |
        find . -type f \( -name "*handoff*" -o -name "*hand-off*" \) \
          -name "*.md" 2>/dev/null | head -20
    - purpose: Search for handoff procedures
      command: |
        grep -rniE "(handoff|hand-off|handover|transition).*(procedure|process|checklist)" \
          --include="*.md" . 2>/dev/null | head -30
    expected_findings:
    - Handoff procedure documentation
    - Checklist or template
    - Process definition
  - id: '2'
    name: Schedule Configuration Review
    description: |
      Examine rotation schedule for overlap configuration.
    duration_estimate: 30 min
    commands:
    - purpose: Find overlap configuration
      command: |
        grep -rniE "(overlap|transition|handoff).*(time|period|minute)" \
          --include="*.yaml" --include="*.json" . 2>/dev/null | head -20
    - purpose: Check schedule timing
      command: |
        grep -rniE "(start|end|rotation).*(time|hour)" \
          --include="*schedule*.yaml" --include="*oncall*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - Overlap configuration
    - Schedule timing
    - Transition periods
  - id: '3'
    name: Handoff Content Review
    description: |
      Assess what information is included in handoffs.
    duration_estimate: 30 min
    commands:
    - purpose: Find handoff templates
      command: |
        find . -type f -name "*template*" -exec grep -l -i handoff {} \; 2>/dev/null | head -20
    - purpose: Search for handoff content requirements
      command: |
        grep -rniE "(active.incident|known.issue|recent.change|deployment)" \
          --include="*handoff*.md" . 2>/dev/null | head -30
    expected_findings:
    - Handoff templates
    - Required content
    - Information sections
  - id: '4'
    name: Automation Review
    description: |
      Evaluate handoff automation and assistance.
    duration_estimate: 30 min
    commands:
    - purpose: Find handoff automation
      command: |
        grep -rniE "(automat|generat|script).*(handoff|report)" \
          --include="*.yaml" --include="*.md" . 2>/dev/null | head -20
    - purpose: Find notification configurations
      command: |
        grep -rniE "(notify|remind|alert).*(handoff|shift.change)" \
          --include="*.yaml" . 2>/dev/null | head -20
    expected_findings:
    - Automation scripts
    - Report generation
    - Notifications
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Procedure Assessment
    - Content Review
    - Automation Analysis
    - Recommendations
  - type: handoff_template
    format: specification
    description: Recommended handoff template
  confidence_guidance:
    high: Handoff procedures documented and templates available
    medium: Partial documentation, practices inferred
    low: Handoff practices unclear, requires observation
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: google-sre-oncall
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Handoff audit requires process review
    full:
      included: true
      priority: 3
    production:
      included: true
      priority: 2
closeout_checklist:
- id: och-001
  item: Handoff procedure is documented
  level: CRITICAL
  verification: |
    find . -type f -name "*handoff*.md" 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: och-002
  item: Active incident handoff process exists
  level: BLOCKING
  verification: manual
  verification_notes: Verify active incident transfer procedure documented
  expected: Confirmed by reviewer
- id: och-003
  item: Handoff includes recent changes
  level: WARNING
  verification: |
    grep -rniE "(recent.change|deployment)" \
      --include="*handoff*.md" . 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "NEEDS_REVIEW"
  expected: PASS
- id: och-004
  item: Overlap period configured
  level: WARNING
  verification: manual
  verification_notes: Verify schedule includes overlap for synchronous handoff
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: SOC 2
    controls:
    - CC7.4
  - framework: ITIL 4
    controls:
    - Incident Management
relationships:
  commonly_combined:
  - operational-excellence.on-call-operations.on-call-rotation
  - operational-excellence.incident-management.incident-response-process
  - operational-excellence.runbook-procedures.runbook-completeness
