audit:
  id: operational-excellence.on-call-operations.shadow-on-call
  name: Shadow On-Call Audit
  version: 1.0.0
  last_updated: '2025-01-22'
  status: active
  category: operational-excellence
  category_number: 25
  subcategory: on-call-operations
  tier: phd
  estimated_duration: 2 hours
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: partial
  severity: medium
  scope: process
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines shadow on-call programs including:
    - Shadowing requirements before primary on-call
    - Shadow rotation configuration
    - Learning objectives and curriculum
    - Progression criteria from shadow to primary
    - Mentorship pairing practices
    - Shadow feedback mechanisms
    - Incident exposure during shadowing
    - Shadow program documentation
  why_it_matters: |
    Effective shadowing prepares responders for on-call success:
    - Unprepared responders cannot effectively handle incidents
    - Shadowing builds confidence before solo responsibility
    - Knowledge transfer happens through observation
    - Mentorship accelerates learning curve

    Google SRE recommends a gradual on-call ramp-up process including
    shadowing, reverse shadowing (primary with backup mentor), before
    full primary responsibility. This reduces incident impact during
    learning and improves responder confidence.
  when_to_run:
  - Quarterly operational reviews
  - When onboarding new team members
  - After shadow program changes
  - When on-call quality issues arise
  - During process improvement initiatives
prerequisites:
  required_artifacts:
  - type: shadow_documentation
    description: Shadow program documentation
  - type: training_curriculum
    description: On-call training materials
  - type: rotation_config
    description: Shadow rotation configuration
  access_requirements:
  - Shadow program documentation
  - Training curriculum access
  - Rotation configuration access
  - Progression criteria documentation
discovery:
  code_patterns:
  - pattern: (shadow|train|onboard|ramp).*(oncall|on-call)
    type: regex
    scope: docs
    purpose: Detect shadow program documentation
  - pattern: (mentor|buddy|pair|coach)
    type: regex
    scope: docs
    purpose: Detect mentorship patterns
  - pattern: (progress|graduate|qualify|certif)
    type: regex
    scope: docs
    purpose: Detect progression criteria
  file_patterns:
  - glob: '**/shadow*/**/*.md'
    purpose: Shadow program documentation
  - glob: '**/training*/**/*.md'
    purpose: Training documentation
  - glob: '**/onboard*/**/*.md'
    purpose: Onboarding documentation
knowledge_sources:
  specifications:
  - id: google-sre-training
    name: Google SRE - Accelerating SRE On-Call
    url: https://sre.google/sre-book/accelerating-sre-on-call/
    offline_cache: true
    priority: required
  guides:
  - id: pagerduty-training
    name: PagerDuty On-Call Training
    url: https://www.pagerduty.com/resources/learn/on-call-training/
    offline_cache: true
tooling:
  scripts:
  - id: shadow-doc-scanner
    language: bash
    purpose: Find shadow program documentation
    source: inline
    code: |
      #!/bin/bash
      echo "=== Shadow On-Call Documentation Scan ==="
      find . -type f \( -name "*shadow*" -o -name "*training*" -o -name "*onboard*" \) \
        -path "*oncall*" -name "*.md" 2>/dev/null | head -20
signals:
  critical:
  - id: SOC-CRIT-001
    signal: No shadow or training program exists
    evidence_indicators:
    - No shadow rotation configured
    - New members go directly to primary on-call
    - No training before on-call responsibility
    explanation: |
      Without shadowing, new responders are unprepared for incidents.
      They lack exposure to common issues, tools, and procedures.
      This increases incident impact during their shifts and creates
      anxiety for the responder.
    remediation: |
      - Establish shadow on-call program
      - Configure shadow rotation
      - Require shadowing before primary
      - Define shadow duration (e.g., 2-4 weeks)
      - Document shadow program
  - id: SOC-CRIT-002
    signal: No progression criteria from shadow to primary
    evidence_indicators:
    - Arbitrary progression decisions
    - No skills verification
    - Time-only progression requirement
    explanation: |
      Time-only progression doesn't ensure readiness. Responders should
      demonstrate competence through skills verification, not just
      complete a minimum duration. Clear criteria ensure consistent
      readiness assessment.
    remediation: |
      - Define progression criteria
      - Require skills demonstration
      - Include incident handling exposure
      - Document readiness checklist
      - Implement sign-off process
  high:
  - id: SOC-HIGH-001
    signal: No mentorship or pairing during shadow
    evidence_indicators:
    - Shadows work independently
    - No mentor assignment
    - Learning is unguided
    explanation: |
      Effective shadowing requires mentorship. Without a dedicated mentor,
      shadows miss learning opportunities, context, and tribal knowledge.
      Mentorship accelerates learning and ensures quality.
    remediation: |
      - Assign mentor to each shadow
      - Define mentor responsibilities
      - Schedule regular check-ins
      - Include mentor in incidents
      - Recognize mentorship contribution
  - id: SOC-HIGH-002
    signal: Shadow not exposed to real incidents
    evidence_indicators:
    - Shadowing is passive observation only
    - No hands-on incident participation
    - Limited exposure to actual issues
    explanation: |
      Learning requires practice. Shadows should participate in incident
      response under mentor supervision, gradually taking more active
      roles. Passive observation alone is insufficient.
    remediation: |
      - Include shadows in incident response
      - Progressive responsibility increase
      - Shadow handles with mentor backup
      - Debrief after each incident
      - Track incident exposure types
  medium:
  - id: SOC-MED-001
    signal: No learning objectives defined
    evidence_indicators:
    - Shadow program lacks curriculum
    - Learning outcomes not specified
    - Training ad-hoc and inconsistent
    explanation: |
      Without defined objectives, shadow programs vary in effectiveness.
      Clear learning objectives ensure all shadows gain necessary
      knowledge and skills consistently.
    remediation: |
      - Define learning objectives
      - Create training curriculum
      - Include technical and process skills
      - Document expected competencies
      - Assess against objectives
  - id: SOC-MED-002
    signal: No feedback mechanism for shadows
    evidence_indicators:
    - Shadow experience not assessed
    - No improvement input collected
    - Program not refined based on feedback
    explanation: |
      Feedback enables program improvement. Without it, issues persist
      and shadows may not receive adequate support. Regular feedback
      identifies gaps and opportunities.
    remediation: |
      - Implement shadow feedback surveys
      - Conduct shadow retrospectives
      - Collect mentor feedback
      - Review and improve program
      - Track program effectiveness
  low:
  - id: SOC-LOW-001
    signal: Shadow program not documented
    evidence_indicators:
    - Program exists informally only
    - No written procedures
    - Inconsistent implementation
    explanation: |
      Undocumented programs are inconsistent and difficult to maintain.
      Documentation ensures consistent experience and enables program
      improvement over time.
    remediation: |
      - Document shadow program
      - Include procedures and timelines
      - Publish in accessible location
      - Review documentation periodically
      - Update based on changes
  positive:
  - id: SOC-POS-001
    signal: Comprehensive shadow program with progression criteria
    evidence_indicators:
    - Documented shadow program
    - Clear progression requirements
    - Mentorship program in place
  - id: SOC-POS-002
    signal: Effective shadow-to-primary transition
    evidence_indicators:
    - Skills verification required
    - Incident exposure tracked
    - Graduated responsibility increase
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Program Documentation Review
    description: |
      Examine shadow on-call program documentation.
    duration_estimate: 30 min
    commands:
    - purpose: Find shadow program documentation
      command: |
        find . -type f \( -name "*shadow*" -o -name "*training*" \) \
          -name "*.md" 2>/dev/null | head -20
    - purpose: Search for shadow requirements
      command: |
        grep -rniE "(shadow|train|onboard).*(oncall|on-call|require|before)" \
          --include="*.md" . 2>/dev/null | head -30
    expected_findings:
    - Shadow program documentation
    - Requirements
    - Procedures
  - id: '2'
    name: Rotation Configuration Review
    description: |
      Examine shadow rotation configuration.
    duration_estimate: 30 min
    commands:
    - purpose: Find shadow rotation config
      command: |
        grep -rniE "(shadow|secondary|backup).*(rotation|schedule)" \
          --include="*.yaml" --include="*.json" . 2>/dev/null | head -20
    expected_findings:
    - Shadow rotation setup
    - Schedule configuration
    - Layer definitions
  - id: '3'
    name: Progression Criteria Review
    description: |
      Assess shadow-to-primary progression criteria.
    duration_estimate: 30 min
    commands:
    - purpose: Find progression criteria
      command: |
        grep -rniE "(progress|graduate|qualify|ready|criteria)" \
          --include="*.md" . 2>/dev/null | head -30
    - purpose: Find skills requirements
      command: |
        grep -rniE "(skill|competenc|demonstrat|verify)" \
          --include="*.md" . 2>/dev/null | head -20
    expected_findings:
    - Progression criteria
    - Skills requirements
    - Sign-off process
  - id: '4'
    name: Mentorship Assessment
    description: |
      Evaluate mentorship and pairing practices.
    duration_estimate: 30 min
    commands:
    - purpose: Find mentorship documentation
      command: |
        grep -rniE "(mentor|buddy|pair|coach)" \
          --include="*.md" . 2>/dev/null | head -20
    expected_findings:
    - Mentorship program
    - Pairing practices
    - Mentor responsibilities
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Program Assessment
    - Progression Review
    - Mentorship Analysis
    - Recommendations
  - type: program_specification
    format: specification
    description: Recommended shadow program elements
  confidence_guidance:
    high: Shadow program fully documented
    medium: Partial documentation, informal practices
    low: Shadow program unclear, requires interviews
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: google-sre-training
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Shadow audit requires process review
    full:
      included: true
      priority: 3
    production:
      included: true
      priority: 3
closeout_checklist:
- id: soc-001
  item: Shadow on-call program exists
  level: CRITICAL
  verification: |
    find . -type f -name "*shadow*.md" 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: soc-002
  item: Shadowing required before primary on-call
  level: BLOCKING
  verification: manual
  verification_notes: Verify shadowing is mandatory before primary
  expected: Confirmed by reviewer
- id: soc-003
  item: Progression criteria are defined
  level: BLOCKING
  verification: |
    grep -rniE "(progress|graduate|criteria)" \
      --include="*.md" . 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
- id: soc-004
  item: Mentorship program in place
  level: WARNING
  verification: |
    grep -rniE "(mentor|buddy|pair)" \
      --include="*.md" . 2>/dev/null | wc -l | \
      xargs -I{} test {} -gt 0 && echo "PASS" || echo "NEEDS_REVIEW"
  expected: PASS
governance:
  applicable_to:
    archetypes:
    - all
  compliance_frameworks:
  - framework: SOC 2
    controls:
    - CC7.4
  - framework: ITIL 4
    controls:
    - Knowledge Management
relationships:
  commonly_combined:
  - operational-excellence.on-call-operations.on-call-rotation
  - operational-excellence.runbook-procedures.runbook-completeness
  - operational-excellence.production-readiness.documentation-readiness
