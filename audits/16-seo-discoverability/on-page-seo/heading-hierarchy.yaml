audit:
  id: seo-discoverability.on-page-seo.heading-hierarchy
  name: Heading Hierarchy Optimization Audit
  version: 1.0.0
  last_updated: '2026-01-19'
  status: active
  category: seo-discoverability
  category_number: 16
  subcategory: on-page-seo
  tier: expert
  estimated_duration: 1-2 hours  # median: 1h
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: 'yes'
  severity: medium
  scope: codebase
  default_profiles:
  - full
  - production
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit examines HTML heading tag usage (H1-H6) across the website
    for proper hierarchical structure and SEO optimization. It evaluates
    single H1 usage per page, logical heading hierarchy (no skipped levels),
    keyword inclusion in headings, heading length, and semantic correctness.
    Proper heading structure helps both search engines and users understand
    content organization.
  why_it_matters: |
    Heading tags provide a semantic outline of page content for search
    engines and assistive technologies. Proper hierarchy improves content
    comprehension, accessibility, and can influence rankings. Multiple H1s,
    skipped heading levels, or empty headings signal poor content structure
    and can negatively impact both SEO and user experience.
  when_to_run:
  - When creating new content templates
  - During accessibility audits
  - After CMS theme changes
  - During on-page SEO optimization
  - When restructuring existing content
prerequisites:
  required_artifacts:
  - type: website
    description: Live website with HTML content
  - type: crawl_data
    description: Site crawl with heading extraction
  access_requirements:
  - Ability to crawl the website
  - Access to page source code
discovery:
  code_patterns:
  - pattern: <h[1-6][^>]*>.*</h[1-6]>
    type: regex
    scope: source
    purpose: Find all heading tags
  - pattern: <h1[^>]*>.*</h1>
    type: regex
    scope: source
    purpose: Find H1 tags specifically
  file_patterns:
  - glob: '**/*.html'
    purpose: Check HTML pages for headings
  - glob: '**/*.md'
    purpose: Check markdown content (converted to headings)
knowledge_sources:
  guides:
  - id: google-headings
    name: 'Google: Use Headings to Show Structure'
    url: https://developers.google.com/search/docs/fundamentals/seo-starter-guide#use-heading-tags
    offline_cache: true
  - id: moz-headings
    name: 'Moz: Header Tags for SEO'
    url: https://moz.com/learn/seo/headings
    offline_cache: true
  - id: w3c-headings
    name: 'W3C: Headings and Sections'
    url: https://www.w3.org/WAI/tutorials/page-structure/headings/
    offline_cache: true
tooling:
  static_analysis:
  - tool: Screaming Frog SEO Spider
    purpose: Extract all headings and identify structural issues
    offline_capable: true
  - tool: WAVE Accessibility Tool
    purpose: Heading structure accessibility analysis
    offline_capable: false
  - tool: HeadingsMap Browser Extension
    purpose: Visualize heading structure on pages
    offline_capable: true
  scripts:
  - id: heading-hierarchy-checker
    language: bash
    purpose: Extract and analyze heading structure
    source: inline
    code: |
      #!/bin/bash
      URL=$1
      echo "=== Heading Hierarchy for: $URL ==="

      # Extract all headings
      curl -s "$URL" | grep -oP '<h[1-6][^>]*>.*?</h[1-6]>' | \
        sed 's/<[^>]*>//g' | \
        while read -r heading; do
          echo "$heading"
        done

      echo ""
      echo "=== H1 Count ==="
      H1_COUNT=$(curl -s "$URL" | grep -c '<h1')
      echo "H1 tags found: $H1_COUNT"

      if [ "$H1_COUNT" -eq 0 ]; then
        echo "ERROR: No H1 tag found"
      elif [ "$H1_COUNT" -gt 1 ]; then
        echo "WARNING: Multiple H1 tags found"
      else
        echo "OK: Single H1 tag"
      fi
signals:
  critical:
  - id: HEADING-CRIT-001
    signal: Missing H1 tag on page
    evidence_pattern: No <h1> tag found
    explanation: |
      The H1 tag is the primary heading and strongest on-page
      signal for page topic. Missing H1 reduces topical relevance
      signals to search engines.
    remediation: Add a single, descriptive H1 tag to each page
  high:
  - id: HEADING-HIGH-001
    signal: Multiple H1 tags on a single page
    evidence_indicators:
    - More than one <h1> tag in page source
    explanation: |
      While HTML5 allows multiple H1s in sectioning elements,
      for SEO purposes a single H1 representing the page topic
      is recommended.
    remediation: Use a single H1 per page; convert others to H2
  - id: HEADING-HIGH-002
    signal: Empty heading tags
    explanation: |
      Empty headings create accessibility issues and indicate
      potential markup errors or styling misuse.
    remediation: Remove empty heading tags or add meaningful content
  - id: HEADING-HIGH-003
    signal: Heading levels skipped (e.g., H1 to H3)
    explanation: |
      Skipping heading levels breaks the logical document outline
      and can confuse screen readers and search engines.
    remediation: Maintain sequential heading hierarchy
  medium:
  - id: HEADING-MED-001
    signal: H1 tag not including primary keyword
    remediation: Include target keyword in H1 naturally
  - id: HEADING-MED-002
    signal: H1 tag duplicates title tag exactly
    remediation: Vary H1 from title for additional keyword coverage
  - id: HEADING-MED-003
    signal: Very long headings (>70 characters)
    remediation: Keep headings concise and focused
  low:
  - id: HEADING-LOW-001
    signal: Headings used for styling rather than structure
  - id: HEADING-LOW-002
    signal: Inconsistent heading capitalization style
  positive:
  - id: HEADING-POS-001
    signal: Clean hierarchical heading structure
  - id: HEADING-POS-002
    signal: Keywords naturally integrated into headings
procedure:
  context:
    cognitive_mode: critical
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Extract All Headings
    description: |
      Crawl the website and extract all heading tags from each
      page to build a complete inventory.
    duration_estimate: 20 min
    commands:
    - purpose: Crawl site extracting headings
      command: Configure Screaming Frog to extract H1-H6
    expected_findings:
    - Heading inventory by level
    - Pages missing H1
    - Multiple H1 instances
  - id: '2'
    name: Analyze H1 Usage
    description: |
      Review H1 tag implementation across all pages for presence,
      uniqueness, and keyword optimization.
    duration_estimate: 20 min
    expected_findings:
    - H1 coverage percentage
    - Duplicate H1s
    - H1 keyword analysis
  - id: '3'
    name: Check Heading Hierarchy
    description: |
      Verify logical heading structure without skipped levels
      on sample pages from different templates.
    duration_estimate: 20 min
    expected_findings:
    - Hierarchy violations
    - Skipped levels
    - Template patterns
  - id: '4'
    name: Identify Empty or Malformed Headings
    description: |
      Find heading tags that are empty, contain only whitespace,
      or have structural issues.
    duration_estimate: 15 min
    expected_findings:
    - Empty headings
    - Whitespace-only headings
    - Hidden headings
  - id: '5'
    name: Evaluate Heading Content Quality
    description: |
      Assess heading content for relevance, keyword usage,
      and effectiveness in describing section content.
    duration_estimate: 25 min
    questions:
    - Do headings accurately describe following content?
    - Are keywords used naturally?
    - Is the heading hierarchy logical?
    expected_findings:
    - Content quality assessment
    - Keyword recommendations
    - Structure improvements
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Heading Structure Overview
    - H1 Analysis
    - Hierarchy Issues
    - Recommendations
  confidence_guidance:
    high: Issues verified via source code analysis
    medium: Issues identified via automated crawl
    low: Potential issues based on pattern analysis
offline:
  capability: full
  cache_manifest:
    knowledge:
    - source_id: google-headings
      priority: required
    - source_id: w3c-headings
      priority: required
profiles:
  membership:
    quick:
      included: false
      reason: Requires detailed structural analysis
    full:
      included: true
      priority: 2
    production:
      included: true
      priority: 2
closeout_checklist:
- id: heading-001
  item: All pages have exactly one H1 tag
  level: CRITICAL
  verification: manual
  verification_notes: Review crawl data for missing or multiple H1s
  expected: Confirmed by reviewer
- id: heading-002
  item: No empty heading tags
  level: BLOCKING
  verification: manual
  verification_notes: Search for empty <h*></h*> patterns
  expected: Confirmed by reviewer
- id: heading-003
  item: Heading levels not skipped
  level: WARNING
  verification: manual
  verification_notes: Sample pages for hierarchy violations
  expected: Confirmed by reviewer
- id: heading-004
  item: H1 includes primary keyword
  level: WARNING
  verification: manual
  verification_notes: Spot check H1s for keyword inclusion
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - web-application
    - marketing-site
    - ecommerce
    - content-site
  compliance_frameworks:
  - framework: SEO Best Practices
    controls:
    - On-Page Optimization
    - Content Structure
  - framework: WCAG 2.1
    controls:
    - 1.3.1 Info and Relationships
relationships:
  commonly_combined:
  - seo-discoverability.on-page-seo.title-tag
  - seo-discoverability.on-page-seo.content-quality
  - seo-discoverability.on-page-seo.keyword-optimization
