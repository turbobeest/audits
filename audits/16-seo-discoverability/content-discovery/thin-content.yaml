# ============================================================
# AUDIT: Thin Content
# ============================================================
# Evaluates pages with insufficient content that may harm
# SEO performance and user experience.

audit:
  id: "seo-discoverability.content-discovery.thin-content"

  name: "Thin Content Detection Audit"

  version: "1.0.0"
  last_updated: "2026-01-19"
  status: "active"

  category: "seo-discoverability"
  category_number: 16
  subcategory: "content-discovery"

  tier: "expert"
  estimated_duration: "2 hours"

  completeness: "complete"
  requires_runtime: true
  destructive: false

execution:
  automatable: "partial"
  severity: "high"
  scope: "codebase"

  default_profiles:
    - "full"
    - "production"

  blocks_phase: false
  parallelizable: true

description:
  what: |
    This audit identifies thin content pages - those with insufficient,
    low-quality, or auto-generated content that provides little value to
    users. It examines word counts, content-to-code ratios, boilerplate
    percentages, and content quality signals to find pages that may trigger
    Google's thin content filters or Helpful Content system penalties.

  why_it_matters: |
    Google's algorithms specifically target thin content as low-quality.
    Sites with significant thin content can be demoted site-wide under
    the Helpful Content system. Thin pages waste crawl budget, dilute site
    quality signals, and provide poor user experience. They can prevent
    otherwise good content from ranking well due to site-wide quality assessment.

  when_to_run:
    - "After bulk content creation or migration"
    - "When site-wide traffic declines"
    - "Before Google algorithm updates"
    - "During content quality audits"

prerequisites:
  required_artifacts:
    - type: "deployed_website"
      description: "Live site for content analysis"
    - type: "sitemap"
      description: "URL inventory for comprehensive analysis"

  access_requirements:
    - "Full site crawl access"
    - "Google Search Console for quality signals"
    - "Analytics for engagement metrics"

discovery:
  code_patterns:
    - pattern: "<article|<main|<div[^>]*content"
      type: "regex"
      scope: "source"
      purpose: "Identify main content containers"
    - pattern: "class=[\"'][^\"']*post-content|article-body|entry-content"
      type: "regex"
      scope: "source"
      purpose: "Detect content area classes"

  file_patterns:
    - glob: "**/*.html"
      purpose: "HTML files for content analysis"
    - glob: "**/sitemap*.xml"
      purpose: "URL inventory"

knowledge_sources:
  specifications:
    - id: "google-thin"
      name: "Google Thin Content Guidelines"
      url: "https://developers.google.com/search/docs/fundamentals/creating-helpful-content"
      offline_cache: true
      priority: "required"
    - id: "helpful-content"
      name: "Google Helpful Content System"
      url: "https://developers.google.com/search/docs/fundamentals/creating-helpful-content"
      offline_cache: true
      priority: "required"

  guides:
    - id: "moz-thin"
      name: "Moz Thin Content Guide"
      url: "https://moz.com/blog/thin-content"
      offline_cache: true
    - id: "thin-content-recovery"
      name: "Thin Content Recovery Strategies"
      url: "https://www.searchenginejournal.com/thin-content/352563/"
      offline_cache: true

tooling:
  static_analysis:
    - tool: "Screaming Frog"
      purpose: "Crawl for word count and content ratio"
      offline_capable: false
    - tool: "Sitebulb"
      purpose: "Content quality scoring"
      offline_capable: false

  scripts:
    - id: "word-count-check"
      language: "bash"
      purpose: "Calculate page word count"
      source: "inline"
      code: |
        #!/bin/bash
        # Extract text content and count words
        curl -s $URL | \
        sed 's/<script[^>]*>.*<\/script>//g' | \
        sed 's/<style[^>]*>.*<\/style>//g' | \
        sed 's/<[^>]*>//g' | \
        wc -w
    - id: "content-ratio"
      language: "bash"
      purpose: "Calculate text to HTML ratio"
      source: "inline"
      code: |
        #!/bin/bash
        HTML=$(curl -s $URL | wc -c)
        TEXT=$(curl -s $URL | sed 's/<[^>]*>//g' | wc -c)
        echo "scale=2; $TEXT / $HTML * 100" | bc

signals:
  critical:
    - id: "SEO-THIN-CRIT-001"
      signal: "Pages with less than 100 words of unique content"
      evidence_threshold: "Word count < 100"
      explanation: |
        Pages with extremely thin content (under 100 words) provide almost
        no value and may be flagged as doorway pages or content farming.
        These should be expanded, consolidated, or removed.
      remediation: "Expand content significantly, consolidate with related pages, or noindex/remove"
    - id: "SEO-THIN-CRIT-002"
      signal: "Auto-generated content with no editorial value"
      evidence_indicators:
        - "Template-based content with only variable substitution"
        - "Scraped or spun content"
      explanation: |
        Auto-generated content without substantial human editorial input
        violates Google's spam policies and can result in manual penalties.
      remediation: "Replace with original, valuable content or remove pages"

  high:
    - id: "SEO-THIN-HIGH-001"
      signal: "Category/tag pages with only navigation, no content"
      explanation: |
        Archive pages that just list links without descriptive content
        or value add are considered thin and may not warrant indexing.
      remediation: "Add unique introductory content or noindex"
    - id: "SEO-THIN-HIGH-002"
      signal: "Product pages with only specs, no descriptions"
      explanation: |
        Product pages need descriptive content beyond basic specifications
        to provide value and differentiate from manufacturer duplicates.
      remediation: "Add unique product descriptions, use cases, and reviews"

  medium:
    - id: "SEO-THIN-MED-001"
      signal: "Pages between 100-300 words for competitive topics"
      remediation: "Expand content or consolidate with related pages"
    - id: "SEO-THIN-MED-002"
      signal: "High boilerplate-to-unique content ratio"
      remediation: "Reduce boilerplate or significantly expand unique content"

  low:
    - id: "SEO-THIN-LOW-001"
      signal: "Coming soon or placeholder pages indexed"

  positive:
    - id: "SEO-THIN-POS-001"
      signal: "All indexed pages have substantial unique content"
    - id: "SEO-THIN-POS-002"
      signal: "Low-value pages properly noindexed"

procedure:
  context:
    cognitive_mode: "critical"
    ensemble_role: "auditor"

  steps:
    - id: "1"
      name: "Word Count Analysis"
      description: |
        Crawl site and identify pages with low word counts
        that may indicate thin content.
      duration_estimate: "30 min"

      commands:
        - purpose: "Sample page word count"
          command: "curl -s $URL | sed 's/<[^>]*>//g' | wc -w"

      expected_findings:
        - "Word count distribution"
        - "Pages below threshold"

    - id: "2"
      name: "Content-to-Code Ratio Analysis"
      description: |
        Calculate the ratio of text content to HTML code
        to identify pages dominated by templates.
      duration_estimate: "25 min"

      questions:
        - "What percentage of page is unique content vs code?"
        - "Are there pages where boilerplate exceeds unique content?"

      expected_findings:
        - "Content ratio assessment"
        - "Template-heavy pages identified"

    - id: "3"
      name: "Content Type Assessment"
      description: |
        Categorize thin pages by type (tag pages, empty categories,
        placeholder pages, etc.) for remediation strategy.
      duration_estimate: "30 min"

      questions:
        - "What types of pages have thin content?"
        - "Are there patterns (all tag pages thin, etc.)?"
        - "Which thin pages target valuable keywords?"

      expected_findings:
        - "Thin content categorization"
        - "Pattern identification"

    - id: "4"
      name: "Engagement Metric Correlation"
      description: |
        Compare thin pages with engagement metrics to
        confirm low user value.
      duration_estimate: "20 min"

      questions:
        - "Do thin pages have high bounce rates?"
        - "Is time-on-page lower for thin content?"
        - "Are thin pages driving any conversions?"

      expected_findings:
        - "Engagement correlation"
        - "Business impact assessment"

    - id: "5"
      name: "Remediation Planning"
      description: |
        Develop remediation strategy for each thin content
        category (expand, consolidate, noindex, remove).
      duration_estimate: "15 min"

      questions:
        - "Which thin pages should be expanded?"
        - "Which pages should be consolidated?"
        - "Which pages should be noindexed or removed?"

      expected_findings:
        - "Remediation strategy by page type"
        - "Priority action list"

output:
  deliverables:
    - type: "finding_list"
      format: "structured"

    - type: "summary"
      format: "prose"
      sections:
        - "Executive Summary"
        - "Thin Content Inventory"
        - "Content Type Analysis"
        - "Engagement Correlation"
        - "Remediation Recommendations"

  confidence_guidance:
    high: "Complete crawl with engagement data correlation"
    medium: "Crawl analysis without engagement verification"
    low: "Sample page analysis only"

offline:
  capability: "partial"

  cache_manifest:
    knowledge:
      - source_id: "google-thin"
        priority: "required"
      - source_id: "helpful-content"
        priority: "required"

profiles:
  membership:
    quick:
      included: true
      reason: "Thin content impacts site-wide quality"
    full:
      included: true
      priority: 1

closeout_checklist:
  - id: "thin-content-001"
    item: "No indexed pages with less than 100 words"
    level: "CRITICAL"
    verification: "manual"
    verification_notes: "Review crawl data for extremely thin pages"
    expected: "0 pages under 100 words indexed"

  - id: "thin-content-002"
    item: "No auto-generated content without editorial value"
    level: "CRITICAL"
    verification: "manual"
    verification_notes: "Review for templated/scraped content"
    expected: "Confirmed by reviewer"

  - id: "thin-content-003"
    item: "Low-value archive pages noindexed"
    level: "BLOCKING"
    verification: "manual"
    verification_notes: "Verify tag/category pages have proper indexing strategy"
    expected: "Confirmed by reviewer"

  - id: "thin-content-004"
    item: "Remediation plan documented for remaining thin content"
    level: "WARNING"
    verification: "manual"
    verification_notes: "Document plan for pages between 100-300 words"
    expected: "Plan documented"

governance:
  applicable_to:
    archetypes: ["web-application", "marketing-site", "e-commerce", "blog"]

  compliance_frameworks:
    - framework: "Google Quality Guidelines"
      controls: ["Helpful Content", "Thin Content"]

relationships:
  commonly_combined:
    - "seo-discoverability.content-discovery.content-depth"
    - "seo-discoverability.content-discovery.orphan-page"
    - "seo-discoverability.indexation.noindex-strategy"
