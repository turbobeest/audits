audit:
  id: observability-instrumentation.metrics.business-metric
  name: Business Metric Audit
  version: 1.0.0
  last_updated: '2026-01-18'
  status: active
  category: observability-instrumentation
  category_number: 5
  subcategory: metrics
  tier: phd
  estimated_duration: 4 hours
  completeness: complete
  requires_runtime: true
  destructive: false
execution:
  automatable: partial
  severity: high
  scope: metrics
  default_profiles:
  - full
  blocks_phase: false
  parallelizable: true
description:
  what: |
    Evaluates the presence and quality of business-level metrics that connect
    technical performance to business outcomes. This audit examines whether
    key business transactions, revenue-impacting operations, and customer
    experience indicators are instrumented and observable. It validates that
    business metrics can answer stakeholder questions about system impact
    on business KPIs.
  why_it_matters: |
    Technical metrics alone cannot communicate system health in business terms.
    Without business metrics, engineering cannot prioritize based on business
    impact, executives cannot understand outage severity, and product teams
    lack visibility into feature performance. Business metrics bridge the gap
    between infrastructure health and business outcomes, enabling better
    decision-making and incident prioritization.
  when_to_run:
  - New product feature launch
  - Business review preparation
  - Incident prioritization framework development
  - Executive reporting improvements
prerequisites:
  required_artifacts:
  - type: business-kpis
    description: Documentation of key business metrics and KPIs
  - type: metrics-system
    description: Access to existing metrics infrastructure
  access_requirements:
  - Business analytics team collaboration
  - Product management input on key metrics
  - Metrics platform query access
discovery:
  code_patterns:
  - pattern: revenue|order|purchase|subscription|conversion
    type: keyword
    scope: source
    purpose: Find business transaction instrumentation
  - pattern: signup|registration|checkout|payment
    type: keyword
    scope: source
    purpose: Find customer journey instrumentation
  - pattern: funnel|conversion_rate|abandonment
    type: keyword
    scope: source
    purpose: Find conversion funnel metrics
  file_patterns:
  - glob: '**/metrics/**'
    purpose: Metrics definitions
  - glob: '**/analytics/**'
    purpose: Analytics instrumentation
  interviews:
  - role: Product Manager
    questions:
    - What are the key business outcomes you need to measure?
    - How do you currently understand feature performance?
    - What questions can't you answer with current data?
    purpose: Identify business metric requirements
  - role: Business Analyst
    questions:
    - What KPIs drive business decisions?
    - How do you correlate system issues with business impact?
    purpose: Understand business reporting needs
knowledge_sources:
  guides:
  - id: business-metrics
    name: Connecting Technical and Business Metrics
    url: https://sre.google/sre-book/service-level-objectives/
    offline_cache: true
  - id: product-metrics
    name: Product Analytics Instrumentation
    url: https://www.productanalytics.guide/
    offline_cache: true
  learning_resources:
  - id: measure-matters
    title: Measure What Matters
    type: book
    reference: John Doerr, Portfolio Penguin
tooling:
  monitoring_queries:
  - system: Prometheus
    query: |
      # Business transaction rates
      sum(rate(business_transactions_total[5m])) by (transaction_type)
    purpose: Track business transaction volumes
  - system: Prometheus
    query: |
      # Revenue-impacting error rate
      sum(rate(payment_errors_total[5m])) / sum(rate(payment_attempts_total[5m]))
    purpose: Calculate payment failure rate
  - system: Prometheus
    query: |
      # Conversion funnel metrics
      sum(checkouts_completed_total) / sum(cart_created_total)
    purpose: Track conversion rates
  scripts:
  - id: business-metric-coverage
    language: python
    purpose: Analyze business metric coverage
    source: inline
    code: |
      def analyze_business_coverage(kpis, existing_metrics):
          """
          Map business KPIs to technical metrics
          """
          coverage = {
              'covered': [],
              'partial': [],
              'missing': []
          }

          for kpi in kpis:
              matching = [m for m in existing_metrics if any(
                  keyword in m.lower() for keyword in kpi['keywords']
              )]
              if len(matching) >= kpi['required_metrics']:
                  coverage['covered'].append(kpi)
              elif matching:
                  coverage['partial'].append((kpi, matching))
              else:
                  coverage['missing'].append(kpi)

          return coverage
signals:
  critical:
  - id: BIZ-CRIT-001
    signal: No metrics for primary revenue stream
    evidence_indicators:
    - Cannot answer 'how many transactions processed?'
    - Revenue impact of outages is unknown
    - No payment or order metrics
    explanation: |
      Without metrics on the primary revenue stream, engineering cannot
      quantify the business impact of incidents or prioritize work based
      on revenue protection. This creates a fundamental disconnect between
      technical operations and business outcomes.
    remediation: Instrument all revenue-impacting transaction types
  - id: BIZ-CRIT-002
    signal: No customer experience metrics
    evidence_indicators:
    - User-facing latency not measured
    - Error rates not segmented by customer impact
    - Feature usage invisible
    explanation: |
      Customer experience metrics are essential for understanding real-world
      impact. Technical metrics may show green while customers experience
      degradation.
    remediation: Implement Real User Monitoring (RUM) and customer journey metrics
  high:
  - id: BIZ-HIGH-001
    signal: Conversion funnel not instrumented
    evidence_indicators:
    - Cannot track user journey completion
    - Abandonment points unknown
    explanation: |
      Conversion funnels reveal where users drop off. Without these metrics,
      product and engineering cannot optimize user experience or identify
      technical issues causing abandonment.
    remediation: Instrument each step of key user journeys
  - id: BIZ-HIGH-002
    signal: Business metrics not on dashboards
    evidence_indicators:
    - Operational dashboards lack business context
    - Incident severity determined by technical symptoms only
    explanation: |
      If business metrics aren't visible during incidents, responders cannot
      assess business impact in real-time, leading to misallocated resources.
    remediation: Add business metrics to operational dashboards
  medium:
  - id: BIZ-MED-001
    signal: Business metrics not segmented by customer tier
    evidence_pattern: All customers treated equally in metrics
    remediation: Add customer tier labels to enable priority filtering
  - id: BIZ-MED-002
    signal: Feature usage metrics missing
    evidence_pattern: Cannot measure adoption of new features
    remediation: Instrument feature flags and feature usage counters
  - id: BIZ-MED-003
    signal: No geographic business metrics
    evidence_pattern: Regional business performance not tracked
    remediation: Add region labels to business transaction metrics
  low:
  - id: BIZ-LOW-001
    signal: Business metrics not documented
    remediation: Create business metrics catalog with definitions
  positive:
  - id: BIZ-POS-001
    signal: Revenue metrics correlated with technical performance
  - id: BIZ-POS-002
    signal: Business impact visible in incident dashboards
procedure:
  context:
    cognitive_mode: evaluative
    ensemble_role: auditor
  steps:
  - id: '1'
    name: Gather business KPI requirements
    description: |
      Work with product, business, and executive stakeholders to
      document the key business metrics needed.
    duration_estimate: 60 min
    questions:
    - What are the top 5 business KPIs?
    - How is business health currently measured?
    - What business questions need to be answered during incidents?
    expected_findings:
    - KPI inventory
    - Business reporting requirements
  - id: '2'
    name: Map KPIs to technical metrics
    description: |
      Determine which existing technical metrics can serve as
      proxies or inputs for business KPIs.
    duration_estimate: 45 min
    questions:
    - What technical events correlate with business outcomes?
    - Which existing metrics approximate KPIs?
    - What's the gap between proxy metrics and true KPIs?
    expected_findings:
    - KPI to metric mapping
    - Gap analysis
  - id: '3'
    name: Inventory existing business metrics
    description: |
      Document all metrics currently in the system that relate to
      business outcomes.
    duration_estimate: 30 min
    commands:
    - purpose: Find business-related metrics
      command: curl -s 'http://prometheus:9090/api/v1/label/__name__/values' | jq '.data[]' | grep -i
        'order\|payment\|revenue\|customer\|transaction'
    expected_findings:
    - Existing business metric list
    - Metric ownership
  - id: '4'
    name: Evaluate metric quality
    description: |
      Assess whether existing business metrics are accurate,
      complete, and useful for their intended purpose.
    duration_estimate: 45 min
    questions:
    - Do metrics match source-of-truth data?
    - Are metrics real-time or delayed?
    - Can metrics be segmented as needed?
    expected_findings:
    - Metric accuracy assessment
    - Quality issues
  - id: '5'
    name: Identify critical gaps
    description: |
      Document business metric gaps that prevent answering key
      stakeholder questions.
    duration_estimate: 30 min
    questions:
    - What KPIs have no technical representation?
    - What incident impact questions cannot be answered?
    - What product decisions lack data support?
    expected_findings:
    - Gap prioritization
    - Instrumentation requirements
  - id: '6'
    name: Design instrumentation plan
    description: |
      Create recommendations for instrumenting missing business
      metrics with appropriate labels and aggregations.
    duration_estimate: 30 min
    expected_findings:
    - New metric specifications
    - Implementation roadmap
output:
  deliverables:
  - type: kpi_coverage_matrix
    format: structured
    description: Business KPI to metric mapping with gaps
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Executive Summary
    - Business Metric Coverage
    - Critical Gaps
    - Instrumentation Roadmap
  confidence_guidance:
    high: Validated with business stakeholders and production data
    medium: Based on documentation and metric analysis
    low: Technical review without business validation
offline:
  capability: partial
  cache_manifest:
    knowledge:
    - source_id: business-metrics
      priority: recommended
profiles:
  membership:
    quick:
      included: false
      reason: Requires stakeholder interviews and analysis
    full:
      included: true
      priority: 1
closeout_checklist:
- id: business-001
  item: Primary revenue stream metrics exist
  level: CRITICAL
  verification: manual
  verification_notes: Confirm transaction/order metrics are instrumented
  expected: Confirmed by reviewer
- id: business-002
  item: Customer experience metrics available
  level: CRITICAL
  verification: manual
  verification_notes: Verify user-facing latency and error metrics exist
  expected: Confirmed by reviewer
- id: business-003
  item: Business metrics visible on operational dashboards
  level: BLOCKING
  verification: manual
  verification_notes: Check incident response dashboards include business context
  expected: Confirmed by reviewer
- id: business-004
  item: Key conversion funnels instrumented
  level: BLOCKING
  verification: manual
  verification_notes: Verify user journey step metrics exist
  expected: Confirmed by reviewer
governance:
  applicable_to:
    archetypes:
    - all
relationships:
  commonly_combined:
  - observability-instrumentation.metrics.custom-metric-coverage
  - observability-instrumentation.metrics.sli-definition
  - observability-instrumentation.visualization-dashboards.dashboard-effectiveness
