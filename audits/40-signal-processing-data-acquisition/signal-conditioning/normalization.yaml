audit:
  id: signal-processing-data-acquisition.signal-conditioning.normalization
  name: Normalization Audit
  version: 1.0.0
  last_updated: '2026-01-22'
  status: active
  category: signal-processing-data-acquisition
  category_number: 40
  subcategory: signal-conditioning
  tier: expert
  estimated_duration: 1 hour
  completeness: complete
  requires_runtime: false
  destructive: false
execution:
  automatable: 'yes'
  severity: medium
  scope: software
  default_profiles:
  - full
  - signal-processing
  blocks_phase: false
  parallelizable: true
description:
  what: |
    This audit evaluates signal normalization techniques for consistent
    processing and analysis. It examines:
    - Amplitude normalization methods
    - Energy/power normalization
    - Z-score normalization for statistics
    - Min-max scaling
    - Reference-based normalization
    - Normalization reversibility
  why_it_matters: |
    Normalization enables consistent processing:
    - Allows comparison across different amplitude signals
    - Prevents numerical issues from large value ranges
    - Enables algorithm-specific scaling requirements
    - Preserves relative relationships when done correctly
    - Can distort data if applied inappropriately

    Proper normalization matches algorithm requirements while
    preserving signal information and enabling valid comparisons.
  when_to_run:
  - Signal processing pipeline design
  - Machine learning preprocessing
  - Feature extraction systems
  - Cross-measurement comparison
prerequisites:
  required_artifacts:
  - type: source_code
    description: Normalization implementation
  - type: requirements
    description: Processing requirements
  - type: algorithm_spec
    description: Downstream algorithm requirements
  access_requirements:
  - Access to normalization code
  - Algorithm documentation
discovery:
  code_patterns:
  - pattern: (normalize|normaliz|scaling|scale_to)
    type: regex
    scope: source
    purpose: Detect normalization
  - pattern: (zscore|z_score|standardize)
    type: regex
    scope: source
    purpose: Detect statistical normalization
  - pattern: (min_max|minmax).*scale
    type: regex
    scope: source
    purpose: Detect min-max scaling
  file_patterns:
  - glob: '**/normal*.{c,h,cpp,py}'
    purpose: Normalization files
  - glob: '**/preprocess*.{c,h,cpp,py}'
    purpose: Preprocessing files
  - glob: '**/scale*.{c,h,cpp,py}'
    purpose: Scaling files
signals:
  critical:
  - id: NORM-CRIT-001
    signal: Normalization losing critical signal information
    evidence_indicators:
    - Absolute amplitude required but normalized away
    - DC component important but removed
    - Information lost irreversibly
    explanation: |
      Normalization can discard important information like absolute
      amplitude or DC content. If this information is needed later,
      it cannot be recovered.
    remediation: |
      - Preserve original data or scaling factors
      - Document what normalization removes
      - Choose appropriate method for application
      - Verify downstream requirements
    cwe: CWE-682
  high:
  - id: NORM-HIGH-001
    signal: Normalization method mismatched to algorithm
    evidence_indicators:
    - Algorithm expects different normalization
    - Poor performance due to scaling mismatch
    - Numerical instability from wrong scaling
    explanation: |
      Different algorithms have different input requirements.
      Neural networks may expect [0,1] or [-1,1]; statistical
      methods may need z-scores. Mismatch causes poor results.
    remediation: |
      - Match normalization to algorithm requirements
      - Document expected input range
      - Verify with algorithm documentation
      - Test with normalized and unnormalized data
  medium:
  - id: NORM-MED-001
    signal: Inconsistent normalization across data
    evidence_indicators:
    - Different normalization for train vs. test
    - Parameters calculated per-sample not globally
    - Comparison invalidated by different scaling
    explanation: |
      Inconsistent normalization invalidates comparisons and
      can cause model performance issues. Parameters should
      typically be computed on training data and applied to all.
    remediation: |
      - Use consistent normalization parameters
      - Compute on training data, apply to all
      - Document normalization procedure
      - Verify consistency across datasets
  low:
  - id: NORM-LOW-001
    signal: Normalization not documented
    evidence_indicators:
    - Method not specified
    - Parameters not recorded
    - Reversibility not addressed
    explanation: |
      Undocumented normalization makes results difficult to
      interpret or reproduce. Method and parameters should
      be clearly recorded.
    remediation: |
      - Document normalization method
      - Record parameters used
      - Note reversibility
      - Include in data processing documentation
  positive:
  - id: NORM-POS-001
    signal: Well-designed normalization pipeline
    evidence_indicators:
    - Method matched to requirements
    - Parameters consistent and documented
    - Reversibility preserved if needed
procedure:
  context:
    cognitive_mode: analytical
    ensemble_role: data-engineer
  steps:
  - id: '1'
    name: Normalization Review
    description: |
      Review normalization implementation.
    duration_estimate: 30 min
    commands:
    - purpose: Find normalization code
      command: |
        grep -rniE "(normalize|scaling|zscore|standardize)" \
          --include="*.c" --include="*.h" --include="*.py" . 2>/dev/null | head -30
    expected_findings:
    - Normalization method
    - Parameter calculation
    - Application point
output:
  deliverables:
  - type: finding_list
    format: structured
  - type: summary
    format: prose
    sections:
    - Normalization Analysis
    - Consistency Check
    - Recommendations
profiles:
  membership:
    quick:
      included: false
    full:
      included: true
      priority: 4
    signal-processing:
      included: true
      priority: 3
closeout_checklist:
- id: norm-001
  item: Normalization appropriate for application
  level: CRITICAL
  verification: manual
  verification_notes: Verify method matches algorithm requirements
  expected: Confirmed by reviewer
- id: norm-002
  item: Normalization documented
  level: WARNING
  verification: |
    grep -rniE "(normalize|scaling)" \
      --include="*.md" --include="*.txt" . 2>/dev/null | \
      wc -l | xargs -I{} test {} -gt 0 && echo "PASS" || echo "FAIL"
  expected: PASS
governance:
  applicable_to:
    archetypes:
    - signal-processing
    - machine-learning
    - data-analysis
relationships:
  commonly_combined:
  - signal-processing.signal-conditioning.dc-offset-removal
  - signal-processing.signal-conditioning.dynamic-range
  - signal-processing.algorithm-verification.numerical-precision
